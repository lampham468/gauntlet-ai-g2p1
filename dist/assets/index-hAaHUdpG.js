var Ly=Object.defineProperty;var By=(d,i,l)=>i in d?Ly(d,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[i]=l;var ga=(d,i,l)=>By(d,typeof i!="symbol"?i+"":i,l);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function l(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=l(o);fetch(o.href,c)}})();function ic(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function Hy(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var i=d.default;if(typeof i=="function"){var l=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};l.prototype=i.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(d).forEach(function(s){var o=Object.getOwnPropertyDescriptor(d,s);Object.defineProperty(l,s,o.get?o:{enumerable:!0,get:function(){return d[s]}})}),l}var pu={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function $y(){if(Fh)return pl;Fh=1;var d=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:d,type:s,key:f,ref:o!==void 0?o:null,props:c}}return pl.Fragment=i,pl.jsx=l,pl.jsxs=l,pl}var eg;function Gy(){return eg||(eg=1,pu.exports=$y()),pu.exports}var b=Gy(),bu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Yy(){if(tg)return se;tg=1;var d=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,X={};function q(x,D,Z){this.props=x,this.context=D,this.refs=X,this.updater=Z||O}q.prototype.isReactComponent={},q.prototype.setState=function(x,D){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,D,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=q.prototype;function J(x,D,Z){this.props=x,this.context=D,this.refs=X,this.updater=Z||O}var N=J.prototype=new V;N.constructor=J,H(N,q.prototype),N.isPureReactComponent=!0;var M=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function re(x,D,Z,Y,F,ie){return Z=ie.ref,{$$typeof:d,type:x,key:D,ref:Z!==void 0?Z:null,props:ie}}function Ge(x,D){return re(x.type,D,void 0,void 0,void 0,x.props)}function Ye(x){return typeof x=="object"&&x!==null&&x.$$typeof===d}function Bt(x){var D={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Z){return D[Z]})}var Fe=/\/+/g;function Te(x,D){return typeof x=="object"&&x!==null&&x.key!=null?Bt(""+x.key):D.toString(36)}function et(){}function ot(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(et,et):(x.status="pending",x.then(function(D){x.status==="pending"&&(x.status="fulfilled",x.value=D)},function(D){x.status==="pending"&&(x.status="rejected",x.reason=D)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Re(x,D,Z,Y,F){var ie=typeof x;(ie==="undefined"||ie==="boolean")&&(x=null);var L=!1;if(x===null)L=!0;else switch(ie){case"bigint":case"string":case"number":L=!0;break;case"object":switch(x.$$typeof){case d:case i:L=!0;break;case p:return L=x._init,Re(L(x._payload),D,Z,Y,F)}}if(L)return F=F(x),L=Y===""?"."+Te(x,0):Y,M(F)?(Z="",L!=null&&(Z=L.replace(Fe,"$&/")+"/"),Re(F,D,Z,"",function(it){return it})):F!=null&&(Ye(F)&&(F=Ge(F,Z+(F.key==null||x&&x.key===F.key?"":(""+F.key).replace(Fe,"$&/")+"/")+L)),D.push(F)),1;L=0;var pe=Y===""?".":Y+":";if(M(x))for(var de=0;de<x.length;de++)Y=x[de],ie=pe+Te(Y,de),L+=Re(Y,D,Z,ie,F);else if(de=k(x),typeof de=="function")for(x=de.call(x),de=0;!(Y=x.next()).done;)Y=Y.value,ie=pe+Te(Y,de++),L+=Re(Y,D,Z,ie,F);else if(ie==="object"){if(typeof x.then=="function")return Re(ot(x),D,Z,Y,F);throw D=String(x),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return L}function C(x,D,Z){if(x==null)return x;var Y=[],F=0;return Re(x,Y,"","",function(ie){return D.call(Z,ie,F++)}),Y}function Q(x){if(x._status===-1){var D=x._result;D=D(),D.then(function(Z){(x._status===0||x._status===-1)&&(x._status=1,x._result=Z)},function(Z){(x._status===0||x._status===-1)&&(x._status=2,x._result=Z)}),x._status===-1&&(x._status=0,x._result=D)}if(x._status===1)return x._result.default;throw x._result}var W=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ue(){}return se.Children={map:C,forEach:function(x,D,Z){C(x,function(){D.apply(this,arguments)},Z)},count:function(x){var D=0;return C(x,function(){D++}),D},toArray:function(x){return C(x,function(D){return D})||[]},only:function(x){if(!Ye(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},se.Component=q,se.Fragment=l,se.Profiler=o,se.PureComponent=J,se.StrictMode=s,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,se.__COMPILER_RUNTIME={__proto__:null,c:function(x){return $.H.useMemoCache(x)}},se.cache=function(x){return function(){return x.apply(null,arguments)}},se.cloneElement=function(x,D,Z){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Y=H({},x.props),F=x.key,ie=void 0;if(D!=null)for(L in D.ref!==void 0&&(ie=void 0),D.key!==void 0&&(F=""+D.key),D)!K.call(D,L)||L==="key"||L==="__self"||L==="__source"||L==="ref"&&D.ref===void 0||(Y[L]=D[L]);var L=arguments.length-2;if(L===1)Y.children=Z;else if(1<L){for(var pe=Array(L),de=0;de<L;de++)pe[de]=arguments[de+2];Y.children=pe}return re(x.type,F,void 0,void 0,ie,Y)},se.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},se.createElement=function(x,D,Z){var Y,F={},ie=null;if(D!=null)for(Y in D.key!==void 0&&(ie=""+D.key),D)K.call(D,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(F[Y]=D[Y]);var L=arguments.length-2;if(L===1)F.children=Z;else if(1<L){for(var pe=Array(L),de=0;de<L;de++)pe[de]=arguments[de+2];F.children=pe}if(x&&x.defaultProps)for(Y in L=x.defaultProps,L)F[Y]===void 0&&(F[Y]=L[Y]);return re(x,ie,void 0,void 0,null,F)},se.createRef=function(){return{current:null}},se.forwardRef=function(x){return{$$typeof:m,render:x}},se.isValidElement=Ye,se.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:Q}},se.memo=function(x,D){return{$$typeof:g,type:x,compare:D===void 0?null:D}},se.startTransition=function(x){var D=$.T,Z={};$.T=Z;try{var Y=x(),F=$.S;F!==null&&F(Z,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ue,W)}catch(ie){W(ie)}finally{$.T=D}},se.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},se.use=function(x){return $.H.use(x)},se.useActionState=function(x,D,Z){return $.H.useActionState(x,D,Z)},se.useCallback=function(x,D){return $.H.useCallback(x,D)},se.useContext=function(x){return $.H.useContext(x)},se.useDebugValue=function(){},se.useDeferredValue=function(x,D){return $.H.useDeferredValue(x,D)},se.useEffect=function(x,D,Z){var Y=$.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(x,D)},se.useId=function(){return $.H.useId()},se.useImperativeHandle=function(x,D,Z){return $.H.useImperativeHandle(x,D,Z)},se.useInsertionEffect=function(x,D){return $.H.useInsertionEffect(x,D)},se.useLayoutEffect=function(x,D){return $.H.useLayoutEffect(x,D)},se.useMemo=function(x,D){return $.H.useMemo(x,D)},se.useOptimistic=function(x,D){return $.H.useOptimistic(x,D)},se.useReducer=function(x,D,Z){return $.H.useReducer(x,D,Z)},se.useRef=function(x){return $.H.useRef(x)},se.useState=function(x){return $.H.useState(x)},se.useSyncExternalStore=function(x,D,Z){return $.H.useSyncExternalStore(x,D,Z)},se.useTransition=function(){return $.H.useTransition()},se.version="19.1.0",se}var ag;function lc(){return ag||(ag=1,bu.exports=Yy()),bu.exports}var G=lc();const ng=ic(G);var wu={exports:{}},bl={},_u={exports:{}},xu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Vy(){return ig||(ig=1,function(d){function i(C,Q){var W=C.length;C.push(Q);e:for(;0<W;){var ue=W-1>>>1,x=C[ue];if(0<o(x,Q))C[ue]=Q,C[W]=x,W=ue;else break e}}function l(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var Q=C[0],W=C.pop();if(W!==Q){C[0]=W;e:for(var ue=0,x=C.length,D=x>>>1;ue<D;){var Z=2*(ue+1)-1,Y=C[Z],F=Z+1,ie=C[F];if(0>o(Y,W))F<x&&0>o(ie,Y)?(C[ue]=ie,C[F]=W,ue=F):(C[ue]=Y,C[Z]=W,ue=Z);else if(F<x&&0>o(ie,W))C[ue]=ie,C[F]=W,ue=F;else break e}}return Q}function o(C,Q){var W=C.sortIndex-Q.sortIndex;return W!==0?W:C.id-Q.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;d.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();d.unstable_now=function(){return f.now()-m}}var y=[],g=[],p=1,w=null,k=3,O=!1,H=!1,X=!1,q=!1,V=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(C){for(var Q=l(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=C)s(g),Q.sortIndex=Q.expirationTime,i(y,Q);else break;Q=l(g)}}function $(C){if(X=!1,M(C),!H)if(l(y)!==null)H=!0,K||(K=!0,Te());else{var Q=l(g);Q!==null&&Re($,Q.startTime-C)}}var K=!1,re=-1,Ge=5,Ye=-1;function Bt(){return q?!0:!(d.unstable_now()-Ye<Ge)}function Fe(){if(q=!1,K){var C=d.unstable_now();Ye=C;var Q=!0;try{e:{H=!1,X&&(X=!1,J(re),re=-1),O=!0;var W=k;try{t:{for(M(C),w=l(y);w!==null&&!(w.expirationTime>C&&Bt());){var ue=w.callback;if(typeof ue=="function"){w.callback=null,k=w.priorityLevel;var x=ue(w.expirationTime<=C);if(C=d.unstable_now(),typeof x=="function"){w.callback=x,M(C),Q=!0;break t}w===l(y)&&s(y),M(C)}else s(y);w=l(y)}if(w!==null)Q=!0;else{var D=l(g);D!==null&&Re($,D.startTime-C),Q=!1}}break e}finally{w=null,k=W,O=!1}Q=void 0}}finally{Q?Te():K=!1}}}var Te;if(typeof N=="function")Te=function(){N(Fe)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,ot=et.port2;et.port1.onmessage=Fe,Te=function(){ot.postMessage(null)}}else Te=function(){V(Fe,0)};function Re(C,Q){re=V(function(){C(d.unstable_now())},Q)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(C){C.callback=null},d.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<C?Math.floor(1e3/C):5},d.unstable_getCurrentPriorityLevel=function(){return k},d.unstable_next=function(C){switch(k){case 1:case 2:case 3:var Q=3;break;default:Q=k}var W=k;k=Q;try{return C()}finally{k=W}},d.unstable_requestPaint=function(){q=!0},d.unstable_runWithPriority=function(C,Q){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var W=k;k=C;try{return Q()}finally{k=W}},d.unstable_scheduleCallback=function(C,Q,W){var ue=d.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,C){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=W+x,C={id:p++,callback:Q,priorityLevel:C,startTime:W,expirationTime:x,sortIndex:-1},W>ue?(C.sortIndex=W,i(g,C),l(y)===null&&C===l(g)&&(X?(J(re),re=-1):X=!0,Re($,W-ue))):(C.sortIndex=x,i(y,C),H||O||(H=!0,K||(K=!0,Te()))),C},d.unstable_shouldYield=Bt,d.unstable_wrapCallback=function(C){var Q=k;return function(){var W=k;k=Q;try{return C.apply(this,arguments)}finally{k=W}}}}(xu)),xu}var lg;function Xy(){return lg||(lg=1,_u.exports=Vy()),_u.exports}var Su={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Qy(){if(sg)return rt;sg=1;var d=lc();function i(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:g,implementation:p}}var f=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rt.createPortal=function(y,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return c(y,g,null,p)},rt.flushSync=function(y){var g=f.T,p=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=p,s.d.f()}},rt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},rt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},rt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var p=g.as,w=m(p,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:k,fetchPriority:O}):p==="script"&&s.d.X(y,{crossOrigin:w,integrity:k,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},rt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,w=m(p,g.crossOrigin);s.d.L(y,p,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rt.preloadModule=function(y,g){if(typeof y=="string")if(g){var p=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},rt.requestFormReset=function(y){s.d.r(y)},rt.unstable_batchedUpdates=function(y,g){return y(g)},rt.useFormState=function(y,g,p){return f.H.useFormState(y,g,p)},rt.useFormStatus=function(){return f.H.useHostTransitionStatus()},rt.version="19.1.0",rt}var rg;function Zy(){if(rg)return Su.exports;rg=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(i){console.error(i)}}return d(),Su.exports=Qy(),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Ky(){if(og)return bl;og=1;var d=Xy(),i=lc(),l=Zy();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var u=r.alternate;if(u===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===a)return m(r),e;if(u===n)return m(r),t;u=u.sibling}throw Error(s(188))}if(a.return!==n.return)a=r,n=u;else{for(var h=!1,v=r.child;v;){if(v===a){h=!0,a=r,n=u;break}if(v===n){h=!0,n=r,a=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===a){h=!0,a=u,n=r;break}if(v===n){h=!0,n=u,a=r;break}v=v.sibling}if(!h)throw Error(s(189))}}if(a.alternate!==n)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),Bt=Symbol.for("react.memo_cache_sentinel"),Fe=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=Fe&&e[Fe]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case q:return"Profiler";case X:return"StrictMode";case $:return"Suspense";case K:return"SuspenseList";case Ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case N:return(e.displayName||"Context")+".Provider";case J:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:ot(e.type)||"Memo";case Ge:t=e._payload,e=e._init;try{return ot(e(t))}catch{}}return null}var Re=Array.isArray,C=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],x=-1;function D(e){return{current:e}}function Z(e){0>x||(e.current=ue[x],ue[x]=null,x--)}function Y(e,t){x++,ue[x]=e.current,e.current=t}var F=D(null),ie=D(null),L=D(null),pe=D(null);function de(e,t){switch(Y(L,t),Y(ie,e),Y(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jh(t),e=Ah(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(F),Y(F,e)}function it(){Z(F),Z(ie),Z(L)}function Wt(e){e.memoizedState!==null&&Y(pe,e);var t=F.current,a=Ah(t,e.type);t!==a&&(Y(ie,e),Y(F,a))}function va(e){ie.current===e&&(Z(F),Z(ie)),pe.current===e&&(Z(pe),hl._currentValue=W)}var pa=Object.prototype.hasOwnProperty,bn=d.unstable_scheduleCallback,xi=d.unstable_cancelCallback,At=d.unstable_shouldYield,Ht=d.unstable_requestPaint,Ot=d.unstable_now,wn=d.unstable_getCurrentPriorityLevel,Za=d.unstable_ImmediatePriority,Rl=d.unstable_UserBlockingPriority,Ka=d.unstable_NormalPriority,ar=d.unstable_LowPriority,Dl=d.unstable_IdlePriority,nr=d.log,Cl=d.unstable_setDisableYieldValue,Ja=null,ut=null;function Qt(e){if(typeof nr=="function"&&Cl(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Ja,e)}catch{}}var ct=Math.clz32?Math.clz32:sr,ir=Math.log,lr=Math.LN2;function sr(e){return e>>>=0,e===0?32:31-(ir(e)/lr|0)|0}var _n=256,I=4194304;function oe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=n&134217727;return v!==0?(n=v&~u,n!==0?r=oe(n):(h&=v,h!==0?r=oe(h):a||(a=v&~e,a!==0&&(r=oe(a))))):(v=n&~u,v!==0?r=oe(v):h!==0?r=oe(h):a||(a=n&~e,a!==0&&(r=oe(a)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:r}function Me(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wt(){var e=_n;return _n<<=1,(_n&4194048)===0&&(_n=256),e}function Si(){var e=I;return I<<=1,(I&62914560)===0&&(I=4194304),e}function Nl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ba(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ia(e,t,a,n,r,u){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,j=e.hiddenUpdates;for(a=h&~a;0<a;){var U=31-ct(a),B=1<<U;v[U]=0,_[U]=-1;var A=j[U];if(A!==null)for(j[U]=null,U=0;U<A.length;U++){var R=A[U];R!==null&&(R.lane&=-536870913)}a&=~B}n!==0&&dc(e,n,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function dc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ct(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function fc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ct(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function or(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Zh(e.type))}function j0(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var wa=Math.random().toString(36).slice(2),lt="__reactFiber$"+wa,gt="__reactProps$"+wa,xn="__reactContainer$"+wa,ur="__reactEvents$"+wa,A0="__reactListeners$"+wa,O0="__reactHandles$"+wa,gc="__reactResources$"+wa,ki="__reactMarker$"+wa;function cr(e){delete e[lt],delete e[gt],delete e[ur],delete e[A0],delete e[O0]}function Sn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[xn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ch(e);e!==null;){if(a=e[lt])return a;e=Ch(e)}return t}e=a,a=e.parentNode}return null}function kn(e){if(e=e[lt]||e[xn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ei(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function En(e){var t=e[gc];return t||(t=e[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[ki]=!0}var mc=new Set,yc={};function Pa(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(yc[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var R0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},pc={};function D0(e){return pa.call(pc,e)?!0:pa.call(vc,e)?!1:R0.test(e)?pc[e]=!0:(vc[e]=!0,!1)}function Ul(e,t,a){if(D0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ml(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ft(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var dr,bc;function jn(e){if(dr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);dr=t&&t[1]||"",bc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dr+e+bc}var fr=!1;function hr(e,t){if(!e||fr)return"";fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(R){var A=R}Reflect.construct(e,[],B)}else{try{B.call()}catch(R){A=R}e.call(B.prototype)}}else{try{throw Error()}catch(R){A=R}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var _=h.split(`
`),j=v.split(`
`);for(r=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;r<j.length&&!j[r].includes("DetermineComponentFrameRoot");)r++;if(n===_.length||r===j.length)for(n=_.length-1,r=j.length-1;1<=n&&0<=r&&_[n]!==j[r];)r--;for(;1<=n&&0<=r;n--,r--)if(_[n]!==j[r]){if(n!==1||r!==1)do if(n--,r--,0>r||_[n]!==j[r]){var U=`
`+_[n].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=n&&0<=r);break}}}finally{fr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?jn(a):""}function C0(e){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return hr(e.type,!1);case 11:return hr(e.type.render,!1);case 1:return hr(e.type,!0);case 31:return jn("Activity");default:return""}}function wc(e){try{var t="";do t+=C0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N0(e){var t=_c(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=N0(e))}function xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=_c(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var U0=/[\n"\\]/g;function Dt(e){return e.replace(U0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gr(e,t,a,n,r,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?mr(e,h,Rt(t)):a!=null?mr(e,h,Rt(a)):n!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Rt(v):e.removeAttribute("name")}function Sc(e,t,a,n,r,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;a=a!=null?""+Rt(a):"",t=t!=null?""+Rt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=v?e.checked:!!n,e.defaultChecked=!!n,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function mr(e,t,a){t==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function An(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Rt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function kc(e,t,a){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Rt(a):""}function Ec(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(s(92));if(Re(n)){if(1<n.length)throw Error(s(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Rt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function On(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var M0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||M0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function jc(e,t,a){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&Tc(e,r,n)}else for(var u in t)t.hasOwnProperty(u)&&Tc(e,u,t[u])}function yr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return q0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vr=null;function pr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rn=null,Dn=null;function Ac(e){var t=kn(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(gr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[gt]||null;if(!r)throw Error(s(90));gr(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&xc(n)}break e;case"textarea":kc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&An(e,!!a.multiple,t,!1)}}}var br=!1;function Oc(e,t,a){if(br)return e(t,a);br=!0;try{var n=e(t);return n}finally{if(br=!1,(Rn!==null||Dn!==null)&&(Ss(),Rn&&(t=Rn,e=Dn,Dn=Rn=null,Ac(t),e)))for(t=0;t<e.length;t++)Ac(e[t])}}function Ti(e,t){var a=e.stateNode;if(a===null)return null;var n=a[gt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(ea)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){wr=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{wr=!1}var _a=null,_r=null,Bl=null;function Rc(){if(Bl)return Bl;var e,t=_r,a=t.length,n,r="value"in _a?_a.value:_a.textContent,u=r.length;for(e=0;e<a&&t[e]===r[e];e++);var h=a-e;for(n=1;n<=h&&t[a-n]===r[u-n];n++);return Bl=r.slice(e,1<n?1-n:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function Dc(){return!1}function mt(e){function t(a,n,r,u,h){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?$l:Dc,this.isPropagationStopped=Dc,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=mt(Wa),Ai=p({},Wa,{view:0,detail:0}),L0=mt(Ai),xr,Sr,Oi,Yl=p({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(xr=e.screenX-Oi.screenX,Sr=e.screenY-Oi.screenY):Sr=xr=0,Oi=e),xr)},movementY:function(e){return"movementY"in e?e.movementY:Sr}}),Cc=mt(Yl),B0=p({},Yl,{dataTransfer:0}),H0=mt(B0),$0=p({},Ai,{relatedTarget:0}),kr=mt($0),G0=p({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=mt(G0),V0=p({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X0=mt(V0),Q0=p({},Wa,{data:0}),Nc=mt(Q0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J0[e])?!!t[e]:!1}function Er(){return I0}var P0=p({},Ai,{key:function(e){if(e.key){var t=Z0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W0=mt(P0),F0=p({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=mt(F0),em=p({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),tm=mt(em),am=p({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),nm=mt(am),im=p({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=mt(im),sm=p({},Wa,{newState:0,oldState:0}),rm=mt(sm),om=[9,13,27,32],Tr=ea&&"CompositionEvent"in window,Ri=null;ea&&"documentMode"in document&&(Ri=document.documentMode);var um=ea&&"TextEvent"in window&&!Ri,Mc=ea&&(!Tr||Ri&&8<Ri&&11>=Ri),zc=" ",qc=!1;function Lc(e,t){switch(e){case"keyup":return om.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function cm(e,t){switch(e){case"compositionend":return Bc(t);case"keypress":return t.which!==32?null:(qc=!0,zc);case"textInput":return e=t.data,e===zc&&qc?null:e;default:return null}}function dm(e,t){if(Cn)return e==="compositionend"||!Tr&&Lc(e,t)?(e=Rc(),Bl=_r=_a=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mc&&t.locale!=="ko"?null:t.data;default:return null}}var fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fm[e.type]:t==="textarea"}function $c(e,t,a,n){Rn?Dn?Dn.push(n):Dn=[n]:Rn=n,t=Os(t,"onChange"),0<t.length&&(a=new Gl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Di=null,Ci=null;function hm(e){xh(e,0)}function Vl(e){var t=Ei(e);if(xc(t))return e}function Gc(e,t){if(e==="change")return t}var Yc=!1;if(ea){var jr;if(ea){var Ar="oninput"in document;if(!Ar){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),Ar=typeof Vc.oninput=="function"}jr=Ar}else jr=!1;Yc=jr&&(!document.documentMode||9<document.documentMode)}function Xc(){Di&&(Di.detachEvent("onpropertychange",Qc),Ci=Di=null)}function Qc(e){if(e.propertyName==="value"&&Vl(Ci)){var t=[];$c(t,Ci,e,pr(e)),Oc(hm,t)}}function gm(e,t,a){e==="focusin"?(Xc(),Di=t,Ci=a,Di.attachEvent("onpropertychange",Qc)):e==="focusout"&&Xc()}function mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(Ci)}function ym(e,t){if(e==="click")return Vl(t)}function vm(e,t){if(e==="input"||e==="change")return Vl(t)}function pm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:pm;function Ni(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!pa.call(t,r)||!_t(e[r],t[r]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,t){var a=Zc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zc(a)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ql(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ql(e.document)}return t}function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bm=ea&&"documentMode"in document&&11>=document.documentMode,Nn=null,Rr=null,Ui=null,Dr=!1;function Pc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dr||Nn==null||Nn!==ql(n)||(n=Nn,"selectionStart"in n&&Or(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ui&&Ni(Ui,n)||(Ui=n,n=Os(Rr,"onSelect"),0<n.length&&(t=new Gl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Nn)))}function Fa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Un={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Cr={},Wc={};ea&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function en(e){if(Cr[e])return Cr[e];if(!Un[e])return e;var t=Un[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Wc)return Cr[e]=t[a];return e}var Fc=en("animationend"),ed=en("animationiteration"),td=en("animationstart"),wm=en("transitionrun"),_m=en("transitionstart"),xm=en("transitioncancel"),ad=en("transitionend"),nd=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function $t(e,t){nd.set(e,t),Pa(t,[e])}var id=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var a=id.get(e);return a!==void 0?a:(t={value:e,source:t,stack:wc(t)},id.set(e,t),t)}return{value:e,source:t,stack:wc(t)}}var Nt=[],Mn=0,Ur=0;function Xl(){for(var e=Mn,t=Ur=Mn=0;t<e;){var a=Nt[t];Nt[t++]=null;var n=Nt[t];Nt[t++]=null;var r=Nt[t];Nt[t++]=null;var u=Nt[t];if(Nt[t++]=null,n!==null&&r!==null){var h=n.pending;h===null?r.next=r:(r.next=h.next,h.next=r),n.pending=r}u!==0&&ld(a,r,u)}}function Ql(e,t,a,n){Nt[Mn++]=e,Nt[Mn++]=t,Nt[Mn++]=a,Nt[Mn++]=n,Ur|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Mr(e,t,a,n){return Ql(e,t,a,n),Zl(e)}function zn(e,t){return Ql(e,null,null,t),Zl(e)}function ld(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,u=e.return;u!==null;)u.childLanes|=a,n=u.alternate,n!==null&&(n.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-ct(a),e=u.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),u):null}function Zl(e){if(50<ll)throw ll=0,Go=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function Sm(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,a,n){return new Sm(e,t,a,n)}function zr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var a=e.alternate;return a===null?(a=xt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Kl(e,t,a,n,r,u){var h=0;if(n=e,typeof e=="function")zr(e)&&(h=1);else if(typeof e=="string")h=Ey(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ye:return e=xt(31,a,t,r),e.elementType=Ye,e.lanes=u,e;case H:return tn(a.children,r,u,t);case X:h=8,r|=24;break;case q:return e=xt(12,a,t,r|2),e.elementType=q,e.lanes=u,e;case $:return e=xt(13,a,t,r),e.elementType=$,e.lanes=u,e;case K:return e=xt(19,a,t,r),e.elementType=K,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case N:h=10;break e;case J:h=9;break e;case M:h=11;break e;case re:h=14;break e;case Ge:h=16,n=null;break e}h=29,a=Error(s(130,e===null?"null":typeof e,"")),n=null}return t=xt(h,a,t,r),t.elementType=e,t.type=n,t.lanes=u,t}function tn(e,t,a,n){return e=xt(7,e,n,t),e.lanes=a,e}function qr(e,t,a){return e=xt(6,e,null,t),e.lanes=a,e}function Lr(e,t,a){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ln=[],Bn=0,Jl=null,Il=0,Ut=[],Mt=0,an=null,aa=1,na="";function nn(e,t){Ln[Bn++]=Il,Ln[Bn++]=Jl,Jl=e,Il=t}function rd(e,t,a){Ut[Mt++]=aa,Ut[Mt++]=na,Ut[Mt++]=an,an=e;var n=aa;e=na;var r=32-ct(n)-1;n&=~(1<<r),a+=1;var u=32-ct(t)+r;if(30<u){var h=r-r%5;u=(n&(1<<h)-1).toString(32),n>>=h,r-=h,aa=1<<32-ct(t)+r|a<<r|n,na=u+e}else aa=1<<u|a<<r|n,na=e}function Br(e){e.return!==null&&(nn(e,1),rd(e,1,0))}function Hr(e){for(;e===Jl;)Jl=Ln[--Bn],Ln[Bn]=null,Il=Ln[--Bn],Ln[Bn]=null;for(;e===an;)an=Ut[--Mt],Ut[Mt]=null,na=Ut[--Mt],Ut[Mt]=null,aa=Ut[--Mt],Ut[Mt]=null}var dt=null,ze=null,be=!1,ln=null,Zt=!1,$r=Error(s(519));function sn(e){var t=Error(s(418,""));throw qi(Ct(t,e)),$r}function od(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[lt]=e,t[gt]=n,a){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(a=0;a<rl.length;a++)ge(rl[a],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),Sc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),zl(t);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),Ec(t,n.value,n.defaultValue,n.children),zl(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Th(t.textContent,a)?(n.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),n.onScroll!=null&&ge("scroll",t),n.onScrollEnd!=null&&ge("scrollend",t),n.onClick!=null&&(t.onclick=Rs),t=!0):t=!1,t||sn(e)}function ud(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:dt=dt.return}}function Mi(e){if(e!==dt)return!1;if(!be)return ud(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||iu(e.type,e.memoizedProps)),a=!a),a&&ze&&sn(e),ud(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){ze=Yt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}ze=null}}else t===27?(t=ze,qa(e.type)?(e=ou,ou=null,ze=e):ze=t):ze=dt?Yt(e.stateNode.nextSibling):null;return!0}function zi(){ze=dt=null,be=!1}function cd(){var e=ln;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),ln=null),e}function qi(e){ln===null?ln=[e]:ln.push(e)}var Gr=D(null),rn=null,ia=null;function xa(e,t,a){Y(Gr,t._currentValue),t._currentValue=a}function la(e){e._currentValue=Gr.current,Z(Gr)}function Yr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Vr(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var h=r.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=r;for(var _=0;_<t.length;_++)if(v.context===t[_]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),Yr(u.return,a,e),n||(h=null);break e}u=v.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(s(341));h.lanes|=a,u=h.alternate,u!==null&&(u.lanes|=a),Yr(h,a,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function Li(e,t,a,n){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var v=r.type;_t(r.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(r===pe.current){if(h=r.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}r=r.return}e!==null&&Vr(t,e,a,n),t.flags|=262144}function Pl(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function on(e){rn=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return dd(rn,e)}function Wl(e,t){return rn===null&&on(e),dd(e,t)}function dd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ia===null){if(e===null)throw Error(s(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return a}var km=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Em=d.unstable_scheduleCallback,Tm=d.unstable_NormalPriority,Ve={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xr(){return{controller:new km,data:new Map,refCount:0}}function Bi(e){e.refCount--,e.refCount===0&&Em(Tm,function(){e.controller.abort()})}var Hi=null,Qr=0,Hn=0,$n=null;function jm(e,t){if(Hi===null){var a=Hi=[];Qr=0,Hn=Jo(),$n={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Qr++,t.then(fd,fd),t}function fd(){if(--Qr===0&&Hi!==null){$n!==null&&($n.status="fulfilled");var e=Hi;Hi=null,Hn=0,$n=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Am(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var hd=C.S;C.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&jm(e,t),hd!==null&&hd(e,t)};var un=D(null);function Zr(){var e=un.current;return e!==null?e:Ae.pooledCache}function Fl(e,t){t===null?Y(un,un.current):Y(un,t.pool)}function gd(){var e=Zr();return e===null?null:{parent:Ve._currentValue,pool:e}}var $i=Error(s(460)),md=Error(s(474)),es=Error(s(542)),Kr={then:function(){}};function yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ts(){}function vd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ts,ts),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bd(e),e;default:if(typeof t.status=="string")t.then(ts,ts);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bd(e),e}throw Gi=t,$i}}var Gi=null;function pd(){if(Gi===null)throw Error(s(459));var e=Gi;return Gi=null,e}function bd(e){if(e===$i||e===es)throw Error(s(483))}var Sa=!1;function Jr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(we&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=Zl(e),ld(e,null,a),t}return Ql(e,n,t,a),Zl(e)}function Yi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,fc(e,a)}}function Pr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?r=u=h:u=u.next=h,a=a.next}while(a!==null);u===null?r=u=t:u=u.next=t}else r=u=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Wr=!1;function Vi(){if(Wr){var e=$n;if(e!==null)throw e}}function Xi(e,t,a,n){Wr=!1;var r=e.updateQueue;Sa=!1;var u=r.firstBaseUpdate,h=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var _=v,j=_.next;_.next=null,h===null?u=j:h.next=j,h=_;var U=e.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==h&&(v===null?U.firstBaseUpdate=j:v.next=j,U.lastBaseUpdate=_))}if(u!==null){var B=r.baseState;h=0,U=j=_=null,v=u;do{var A=v.lane&-536870913,R=A!==v.lane;if(R?(ye&A)===A:(n&A)===A){A!==0&&A===Hn&&(Wr=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ne=e,te=v;A=t;var Ee=a;switch(te.tag){case 1:if(ne=te.payload,typeof ne=="function"){B=ne.call(Ee,B,A);break e}B=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=te.payload,A=typeof ne=="function"?ne.call(Ee,B,A):ne,A==null)break e;B=p({},B,A);break e;case 2:Sa=!0}}A=v.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=r.callbacks,R===null?r.callbacks=[A]:R.push(A))}else R={lane:A,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(j=U=R,_=B):U=U.next=R,h|=A;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;R=v,v=R.next,R.next=null,r.lastBaseUpdate=R,r.shared.pending=null}}while(!0);U===null&&(_=B),r.baseState=_,r.firstBaseUpdate=j,r.lastBaseUpdate=U,u===null&&(r.shared.lanes=0),Na|=h,e.lanes=h,e.memoizedState=B}}function wd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function _d(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wd(a[e],t)}var Gn=D(null),as=D(0);function xd(e,t){e=fa,Y(as,e),Y(Gn,t),fa=e|t.baseLanes}function Fr(){Y(as,fa),Y(Gn,Gn.current)}function eo(){fa=as.current,Z(Gn),Z(as)}var Ta=0,ce=null,Se=null,He=null,ns=!1,Yn=!1,cn=!1,is=0,Qi=0,Vn=null,Om=0;function Le(){throw Error(s(321))}function to(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!_t(e[a],t[a]))return!1;return!0}function ao(e,t,a,n,r,u){return Ta=u,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?sf:rf,cn=!1,u=a(n,r),cn=!1,Yn&&(u=kd(t,a,n,r)),Sd(e),u}function Sd(e){C.H=cs;var t=Se!==null&&Se.next!==null;if(Ta=0,He=Se=ce=null,ns=!1,Qi=0,Vn=null,t)throw Error(s(300));e===null||Ke||(e=e.dependencies,e!==null&&Pl(e)&&(Ke=!0))}function kd(e,t,a,n){ce=e;var r=0;do{if(Yn&&(Vn=null),Qi=0,Yn=!1,25<=r)throw Error(s(301));if(r+=1,He=Se=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}C.H=zm,u=t(a,n)}while(Yn);return u}function Rm(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Zi(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(ce.flags|=1024),t}function no(){var e=is!==0;return is=0,e}function io(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function lo(e){if(ns){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ns=!1}Ta=0,He=Se=ce=null,Yn=!1,Qi=is=0,Vn=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?ce.memoizedState=He=e:He=He.next=e,He}function $e(){if(Se===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=He===null?ce.memoizedState:He.next;if(t!==null)He=t,Se=e;else{if(e===null)throw ce.alternate===null?Error(s(467)):Error(s(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},He===null?ce.memoizedState=He=e:He=He.next=e}return He}function so(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zi(e){var t=Qi;return Qi+=1,Vn===null&&(Vn=[]),e=vd(Vn,e,t),t=ce,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?sf:rf),e}function ls(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zi(e);if(e.$$typeof===N)return st(e)}throw Error(s(438,String(e)))}function ro(e){var t=null,a=ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ce.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=so(),ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Bt;return t.index++,a}function sa(e,t){return typeof t=="function"?t(e):t}function ss(e){var t=$e();return oo(t,Se,e)}function oo(e,t,a){var n=e.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=a;var r=e.baseQueue,u=n.pending;if(u!==null){if(r!==null){var h=r.next;r.next=u.next,u.next=h}t.baseQueue=r=u,n.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var v=h=null,_=null,j=t,U=!1;do{var B=j.lane&-536870913;if(B!==j.lane?(ye&B)===B:(Ta&B)===B){var A=j.revertLane;if(A===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),B===Hn&&(U=!0);else if((Ta&A)===A){j=j.next,A===Hn&&(U=!0);continue}else B={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(v=_=B,h=u):_=_.next=B,ce.lanes|=A,Na|=A;B=j.action,cn&&a(u,B),u=j.hasEagerState?j.eagerState:a(u,B)}else A={lane:B,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(v=_=A,h=u):_=_.next=A,ce.lanes|=B,Na|=B;j=j.next}while(j!==null&&j!==t);if(_===null?h=u:_.next=v,!_t(u,e.memoizedState)&&(Ke=!0,U&&(a=$n,a!==null)))throw a;e.memoizedState=u,e.baseState=h,e.baseQueue=_,n.lastRenderedState=u}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function uo(e){var t=$e(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,u=t.memoizedState;if(r!==null){a.pending=null;var h=r=r.next;do u=e(u,h.action),h=h.next;while(h!==r);_t(u,t.memoizedState)||(Ke=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,n]}function Ed(e,t,a){var n=ce,r=$e(),u=be;if(u){if(a===void 0)throw Error(s(407));a=a()}else a=t();var h=!_t((Se||r).memoizedState,a);h&&(r.memoizedState=a,Ke=!0),r=r.queue;var v=Ad.bind(null,n,r,e);if(Ki(2048,8,v,[e]),r.getSnapshot!==t||h||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Xn(9,rs(),jd.bind(null,n,r,a,t),null),Ae===null)throw Error(s(349));u||(Ta&124)!==0||Td(n,t,a)}return a}function Td(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ce.updateQueue,t===null?(t=so(),ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function jd(e,t,a,n){t.value=a,t.getSnapshot=n,Od(t)&&Rd(e)}function Ad(e,t,a){return a(function(){Od(t)&&Rd(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_t(e,a)}catch{return!0}}function Rd(e){var t=zn(e,2);t!==null&&jt(t,e,2)}function co(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),cn){Qt(!0);try{a()}finally{Qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e},t}function Dd(e,t,a,n){return e.baseState=a,oo(e,Se,typeof n=="function"?n:sa)}function Dm(e,t,a,n,r){if(us(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};C.T!==null?a(!0):u.isTransition=!1,n(u),a=t.pending,a===null?(u.next=t.pending=u,Cd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Cd(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var u=C.T,h={};C.T=h;try{var v=a(r,n),_=C.S;_!==null&&_(h,v),Nd(e,t,v)}catch(j){fo(e,t,j)}finally{C.T=u}}else try{u=a(r,n),Nd(e,t,u)}catch(j){fo(e,t,j)}}function Nd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Ud(e,t,n)},function(n){return fo(e,t,n)}):Ud(e,t,a)}function Ud(e,t,a){t.status="fulfilled",t.value=a,Md(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Cd(e,a)))}function fo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Md(t),t=t.next;while(t!==n)}e.action=null}function Md(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zd(e,t){return t}function qd(e,t){if(be){var a=Ae.formState;if(a!==null){e:{var n=ce;if(be){if(ze){t:{for(var r=ze,u=Zt;r.nodeType!==8;){if(!u){r=null;break t}if(r=Yt(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){ze=Yt(r.nextSibling),n=r.data==="F!";break e}}sn(n)}n=!1}n&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:t},a.queue=n,a=af.bind(null,ce,n),n.dispatch=a,n=co(!1),u=vo.bind(null,ce,!1,n.queue),n=yt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=Dm.bind(null,ce,r,u,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function Ld(e){var t=$e();return Bd(t,Se,e)}function Bd(e,t,a){if(t=oo(e,t,zd)[0],e=ss(sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Zi(t)}catch(h){throw h===$i?es:h}else n=t;t=$e();var r=t.queue,u=r.dispatch;return a!==t.memoizedState&&(ce.flags|=2048,Xn(9,rs(),Cm.bind(null,r,a),null)),[n,u,e]}function Cm(e,t){e.action=t}function Hd(e){var t=$e(),a=Se;if(a!==null)return Bd(t,a,e);$e(),t=t.memoizedState,a=$e();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Xn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ce.updateQueue,t===null&&(t=so(),ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function rs(){return{destroy:void 0,resource:void 0}}function $d(){return $e().memoizedState}function os(e,t,a,n){var r=yt();n=n===void 0?null:n,ce.flags|=e,r.memoizedState=Xn(1|t,rs(),a,n)}function Ki(e,t,a,n){var r=$e();n=n===void 0?null:n;var u=r.memoizedState.inst;Se!==null&&n!==null&&to(n,Se.memoizedState.deps)?r.memoizedState=Xn(t,u,a,n):(ce.flags|=e,r.memoizedState=Xn(1|t,u,a,n))}function Gd(e,t){os(8390656,8,e,t)}function Yd(e,t){Ki(2048,8,e,t)}function Vd(e,t){return Ki(4,2,e,t)}function Xd(e,t){return Ki(4,4,e,t)}function Qd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,a){a=a!=null?a.concat([e]):null,Ki(4,4,Qd.bind(null,t,e),a)}function ho(){}function Kd(e,t){var a=$e();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&to(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Jd(e,t){var a=$e();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&to(t,n[1]))return n[0];if(n=e(),cn){Qt(!0);try{e()}finally{Qt(!1)}}return a.memoizedState=[n,t],n}function go(e,t,a){return a===void 0||(Ta&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Ff(),ce.lanes|=e,Na|=e,a)}function Id(e,t,a,n){return _t(a,t)?a:Gn.current!==null?(e=go(e,a,n),_t(e,t)||(Ke=!0),e):(Ta&42)===0?(Ke=!0,e.memoizedState=a):(e=Ff(),ce.lanes|=e,Na|=e,t)}function Pd(e,t,a,n,r){var u=Q.p;Q.p=u!==0&&8>u?u:8;var h=C.T,v={};C.T=v,vo(e,!1,t,a);try{var _=r(),j=C.S;if(j!==null&&j(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=Am(_,n);Ji(e,t,U,Tt(e))}else Ji(e,t,n,Tt(e))}catch(B){Ji(e,t,{then:function(){},status:"rejected",reason:B},Tt())}finally{Q.p=u,C.T=h}}function Nm(){}function mo(e,t,a,n){if(e.tag!==5)throw Error(s(476));var r=Wd(e).queue;Pd(e,r,t,W,a===null?Nm:function(){return Fd(e),a(n)})}function Wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fd(e){var t=Wd(e).next.queue;Ji(e,t,{},Tt())}function yo(){return st(hl)}function ef(){return $e().memoizedState}function tf(){return $e().memoizedState}function Um(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Tt();e=ka(a);var n=Ea(t,e,a);n!==null&&(jt(n,t,a),Yi(n,t,a)),t={cache:Xr()},e.payload=t;return}t=t.return}}function Mm(e,t,a){var n=Tt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},us(e)?nf(t,a):(a=Mr(e,t,a,n),a!==null&&(jt(a,e,n),lf(a,t,n)))}function af(e,t,a){var n=Tt();Ji(e,t,a,n)}function Ji(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(us(e))nf(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,a);if(r.hasEagerState=!0,r.eagerState=v,_t(v,h))return Ql(e,t,r,0),Ae===null&&Xl(),!1}catch{}finally{}if(a=Mr(e,t,r,n),a!==null)return jt(a,e,n),lf(a,t,n),!0}return!1}function vo(e,t,a,n){if(n={lane:2,revertLane:Jo(),action:n,hasEagerState:!1,eagerState:null,next:null},us(e)){if(t)throw Error(s(479))}else t=Mr(e,a,n,2),t!==null&&jt(t,e,2)}function us(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function nf(e,t){Yn=ns=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function lf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,fc(e,a)}}var cs={readContext:st,use:ls,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},sf={readContext:st,use:ls,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Gd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,os(4194308,4,Qd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){os(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var n=e();if(cn){Qt(!0);try{e()}finally{Qt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=yt();if(a!==void 0){var r=a(t);if(cn){Qt(!0);try{a(t)}finally{Qt(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Mm.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=co(e);var t=e.queue,a=af.bind(null,ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ho,useDeferredValue:function(e,t){var a=yt();return go(a,e,t)},useTransition:function(){var e=co(!1);return e=Pd.bind(null,ce,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ce,r=yt();if(be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),Ae===null)throw Error(s(349));(ye&124)!==0||Td(n,t,a)}r.memoizedState=a;var u={value:a,getSnapshot:t};return r.queue=u,Gd(Ad.bind(null,n,u,e),[e]),n.flags|=2048,Xn(9,rs(),jd.bind(null,n,u,a,t),null),a},useId:function(){var e=yt(),t=Ae.identifierPrefix;if(be){var a=na,n=aa;a=(n&~(1<<32-ct(n)-1)).toString(32)+a,t=""+t+"R"+a,a=is++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Om++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:yo,useFormState:qd,useActionState:qd,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=vo.bind(null,ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:ro,useCacheRefresh:function(){return yt().memoizedState=Um.bind(null,ce)}},rf={readContext:st,use:ls,useCallback:Kd,useContext:st,useEffect:Yd,useImperativeHandle:Zd,useInsertionEffect:Vd,useLayoutEffect:Xd,useMemo:Jd,useReducer:ss,useRef:$d,useState:function(){return ss(sa)},useDebugValue:ho,useDeferredValue:function(e,t){var a=$e();return Id(a,Se.memoizedState,e,t)},useTransition:function(){var e=ss(sa)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:Ed,useId:ef,useHostTransitionStatus:yo,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,t){var a=$e();return Dd(a,Se,e,t)},useMemoCache:ro,useCacheRefresh:tf},zm={readContext:st,use:ls,useCallback:Kd,useContext:st,useEffect:Yd,useImperativeHandle:Zd,useInsertionEffect:Vd,useLayoutEffect:Xd,useMemo:Jd,useReducer:uo,useRef:$d,useState:function(){return uo(sa)},useDebugValue:ho,useDeferredValue:function(e,t){var a=$e();return Se===null?go(a,e,t):Id(a,Se.memoizedState,e,t)},useTransition:function(){var e=uo(sa)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:Ed,useId:ef,useHostTransitionStatus:yo,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var a=$e();return Se!==null?Dd(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ro,useCacheRefresh:tf},Qn=null,Ii=0;function ds(e){var t=Ii;return Ii+=1,Qn===null&&(Qn=[]),vd(Qn,e,t)}function Pi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fs(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function of(e){var t=e._init;return t(e._payload)}function uf(e){function t(E,S){if(e){var T=E.deletions;T===null?(E.deletions=[S],E.flags|=16):T.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function n(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function r(E,S){return E=ta(E,S),E.index=0,E.sibling=null,E}function u(E,S,T){return E.index=T,e?(T=E.alternate,T!==null?(T=T.index,T<S?(E.flags|=67108866,S):T):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function v(E,S,T,z){return S===null||S.tag!==6?(S=qr(T,E.mode,z),S.return=E,S):(S=r(S,T),S.return=E,S)}function _(E,S,T,z){var P=T.type;return P===H?U(E,S,T.props.children,z,T.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ge&&of(P)===S.type)?(S=r(S,T.props),Pi(S,T),S.return=E,S):(S=Kl(T.type,T.key,T.props,null,E.mode,z),Pi(S,T),S.return=E,S)}function j(E,S,T,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Lr(T,E.mode,z),S.return=E,S):(S=r(S,T.children||[]),S.return=E,S)}function U(E,S,T,z,P){return S===null||S.tag!==7?(S=tn(T,E.mode,z,P),S.return=E,S):(S=r(S,T),S.return=E,S)}function B(E,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=qr(""+S,E.mode,T),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case k:return T=Kl(S.type,S.key,S.props,null,E.mode,T),Pi(T,S),T.return=E,T;case O:return S=Lr(S,E.mode,T),S.return=E,S;case Ge:var z=S._init;return S=z(S._payload),B(E,S,T)}if(Re(S)||Te(S))return S=tn(S,E.mode,T,null),S.return=E,S;if(typeof S.then=="function")return B(E,ds(S),T);if(S.$$typeof===N)return B(E,Wl(E,S),T);fs(E,S)}return null}function A(E,S,T,z){var P=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return P!==null?null:v(E,S,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case k:return T.key===P?_(E,S,T,z):null;case O:return T.key===P?j(E,S,T,z):null;case Ge:return P=T._init,T=P(T._payload),A(E,S,T,z)}if(Re(T)||Te(T))return P!==null?null:U(E,S,T,z,null);if(typeof T.then=="function")return A(E,S,ds(T),z);if(T.$$typeof===N)return A(E,S,Wl(E,T),z);fs(E,T)}return null}function R(E,S,T,z,P){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return E=E.get(T)||null,v(S,E,""+z,P);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return E=E.get(z.key===null?T:z.key)||null,_(S,E,z,P);case O:return E=E.get(z.key===null?T:z.key)||null,j(S,E,z,P);case Ge:var fe=z._init;return z=fe(z._payload),R(E,S,T,z,P)}if(Re(z)||Te(z))return E=E.get(T)||null,U(S,E,z,P,null);if(typeof z.then=="function")return R(E,S,T,ds(z),P);if(z.$$typeof===N)return R(E,S,T,Wl(S,z),P);fs(S,z)}return null}function ne(E,S,T,z){for(var P=null,fe=null,ee=S,ae=S=0,Ie=null;ee!==null&&ae<T.length;ae++){ee.index>ae?(Ie=ee,ee=null):Ie=ee.sibling;var ve=A(E,ee,T[ae],z);if(ve===null){ee===null&&(ee=Ie);break}e&&ee&&ve.alternate===null&&t(E,ee),S=u(ve,S,ae),fe===null?P=ve:fe.sibling=ve,fe=ve,ee=Ie}if(ae===T.length)return a(E,ee),be&&nn(E,ae),P;if(ee===null){for(;ae<T.length;ae++)ee=B(E,T[ae],z),ee!==null&&(S=u(ee,S,ae),fe===null?P=ee:fe.sibling=ee,fe=ee);return be&&nn(E,ae),P}for(ee=n(ee);ae<T.length;ae++)Ie=R(ee,E,ae,T[ae],z),Ie!==null&&(e&&Ie.alternate!==null&&ee.delete(Ie.key===null?ae:Ie.key),S=u(Ie,S,ae),fe===null?P=Ie:fe.sibling=Ie,fe=Ie);return e&&ee.forEach(function(Ga){return t(E,Ga)}),be&&nn(E,ae),P}function te(E,S,T,z){if(T==null)throw Error(s(151));for(var P=null,fe=null,ee=S,ae=S=0,Ie=null,ve=T.next();ee!==null&&!ve.done;ae++,ve=T.next()){ee.index>ae?(Ie=ee,ee=null):Ie=ee.sibling;var Ga=A(E,ee,ve.value,z);if(Ga===null){ee===null&&(ee=Ie);break}e&&ee&&Ga.alternate===null&&t(E,ee),S=u(Ga,S,ae),fe===null?P=Ga:fe.sibling=Ga,fe=Ga,ee=Ie}if(ve.done)return a(E,ee),be&&nn(E,ae),P;if(ee===null){for(;!ve.done;ae++,ve=T.next())ve=B(E,ve.value,z),ve!==null&&(S=u(ve,S,ae),fe===null?P=ve:fe.sibling=ve,fe=ve);return be&&nn(E,ae),P}for(ee=n(ee);!ve.done;ae++,ve=T.next())ve=R(ee,E,ae,ve.value,z),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?ae:ve.key),S=u(ve,S,ae),fe===null?P=ve:fe.sibling=ve,fe=ve);return e&&ee.forEach(function(qy){return t(E,qy)}),be&&nn(E,ae),P}function Ee(E,S,T,z){if(typeof T=="object"&&T!==null&&T.type===H&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case k:e:{for(var P=T.key;S!==null;){if(S.key===P){if(P=T.type,P===H){if(S.tag===7){a(E,S.sibling),z=r(S,T.props.children),z.return=E,E=z;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ge&&of(P)===S.type){a(E,S.sibling),z=r(S,T.props),Pi(z,T),z.return=E,E=z;break e}a(E,S);break}else t(E,S);S=S.sibling}T.type===H?(z=tn(T.props.children,E.mode,z,T.key),z.return=E,E=z):(z=Kl(T.type,T.key,T.props,null,E.mode,z),Pi(z,T),z.return=E,E=z)}return h(E);case O:e:{for(P=T.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(E,S.sibling),z=r(S,T.children||[]),z.return=E,E=z;break e}else{a(E,S);break}else t(E,S);S=S.sibling}z=Lr(T,E.mode,z),z.return=E,E=z}return h(E);case Ge:return P=T._init,T=P(T._payload),Ee(E,S,T,z)}if(Re(T))return ne(E,S,T,z);if(Te(T)){if(P=Te(T),typeof P!="function")throw Error(s(150));return T=P.call(T),te(E,S,T,z)}if(typeof T.then=="function")return Ee(E,S,ds(T),z);if(T.$$typeof===N)return Ee(E,S,Wl(E,T),z);fs(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(E,S.sibling),z=r(S,T),z.return=E,E=z):(a(E,S),z=qr(T,E.mode,z),z.return=E,E=z),h(E)):a(E,S)}return function(E,S,T,z){try{Ii=0;var P=Ee(E,S,T,z);return Qn=null,P}catch(ee){if(ee===$i||ee===es)throw ee;var fe=xt(29,ee,null,E.mode);return fe.lanes=z,fe.return=E,fe}finally{}}}var Zn=uf(!0),cf=uf(!1),zt=D(null),Kt=null;function ja(e){var t=e.alternate;Y(Xe,Xe.current&1),Y(zt,e),Kt===null&&(t===null||Gn.current!==null||t.memoizedState!==null)&&(Kt=e)}function df(e){if(e.tag===22){if(Y(Xe,Xe.current),Y(zt,e),Kt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kt=e)}}else Aa()}function Aa(){Y(Xe,Xe.current),Y(zt,zt.current)}function ra(e){Z(zt),Kt===e&&(Kt=null),Z(Xe)}var Xe=D(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ru(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Tt(),r=ka(n);r.payload=t,a!=null&&(r.callback=a),t=Ea(e,r,n),t!==null&&(jt(t,e,n),Yi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Tt(),r=ka(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Ea(e,r,n),t!==null&&(jt(t,e,n),Yi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Tt(),n=ka(a);n.tag=2,t!=null&&(n.callback=t),t=Ea(e,n,a),t!==null&&(jt(t,e,a),Yi(t,e,a))}};function ff(e,t,a,n,r,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,h):t.prototype&&t.prototype.isPureReactComponent?!Ni(a,n)||!Ni(r,u):!0}function hf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function dn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var gs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gf(e){gs(e)}function mf(e){console.error(e)}function yf(e){gs(e)}function ms(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function vf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function wo(e,t,a){return a=ka(a),a.tag=3,a.payload={element:null},a.callback=function(){ms(e,t)},a}function pf(e){return e=ka(e),e.tag=3,e}function bf(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var u=n.value;e.payload=function(){return r(u)},e.callback=function(){vf(t,a,n)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){vf(t,a,n),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function qm(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Li(t,a,r,!0),a=zt.current,a!==null){switch(a.tag){case 13:return Kt===null?Vo():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===Kr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Qo(e,n,r)),!1;case 22:return a.flags|=65536,n===Kr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Qo(e,n,r)),!1}throw Error(s(435,a.tag))}return Qo(e,n,r),Vo(),!1}if(be)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==$r&&(e=Error(s(422),{cause:n}),qi(Ct(e,a)))):(n!==$r&&(t=Error(s(423),{cause:n}),qi(Ct(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Ct(n,a),r=wo(e.stateNode,n,r),Pr(e,r),qe!==4&&(qe=2)),!1;var u=Error(s(520),{cause:n});if(u=Ct(u,a),il===null?il=[u]:il.push(u),qe!==4&&(qe=2),t===null)return!0;n=Ct(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=wo(a.stateNode,n,e),Pr(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ua===null||!Ua.has(u))))return a.flags|=65536,r&=-r,a.lanes|=r,r=pf(r),bf(r,e,a,n),Pr(a,r),!1}a=a.return}while(a!==null);return!1}var wf=Error(s(461)),Ke=!1;function tt(e,t,a,n){t.child=e===null?cf(t,null,a,n):Zn(t,e.child,a,n)}function _f(e,t,a,n,r){a=a.render;var u=t.ref;if("ref"in n){var h={};for(var v in n)v!=="ref"&&(h[v]=n[v])}else h=n;return on(t),n=ao(e,t,a,h,u,r),v=no(),e!==null&&!Ke?(io(e,t,r),oa(e,t,r)):(be&&v&&Br(t),t.flags|=1,tt(e,t,n,r),t.child)}function xf(e,t,a,n,r){if(e===null){var u=a.type;return typeof u=="function"&&!zr(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Sf(e,t,u,n,r)):(e=Kl(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ao(e,r)){var h=u.memoizedProps;if(a=a.compare,a=a!==null?a:Ni,a(h,n)&&e.ref===t.ref)return oa(e,t,r)}return t.flags|=1,e=ta(u,n),e.ref=t.ref,e.return=t,t.child=e}function Sf(e,t,a,n,r){if(e!==null){var u=e.memoizedProps;if(Ni(u,n)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=n=u,Ao(e,r))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,oa(e,t,r)}return _o(e,t,a,n,r)}function kf(e,t,a){var n=t.pendingProps,r=n.children,u=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=u!==null?u.baseLanes|a:a,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;t.childLanes=u&~n}else t.childLanes=0,t.child=null;return Ef(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fl(t,u!==null?u.cachePool:null),u!==null?xd(t,u):Fr(),df(t);else return t.lanes=t.childLanes=536870912,Ef(e,t,u!==null?u.baseLanes|a:a,a)}else u!==null?(Fl(t,u.cachePool),xd(t,u),Aa(),t.memoizedState=null):(e!==null&&Fl(t,null),Fr(),Aa());return tt(e,t,r,a),t.child}function Ef(e,t,a,n){var r=Zr();return r=r===null?null:{parent:Ve._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Fl(t,null),Fr(),df(t),e!==null&&Li(e,t,n,!0),null}function ys(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function _o(e,t,a,n,r){return on(t),a=ao(e,t,a,n,void 0,r),n=no(),e!==null&&!Ke?(io(e,t,r),oa(e,t,r)):(be&&n&&Br(t),t.flags|=1,tt(e,t,a,r),t.child)}function Tf(e,t,a,n,r,u){return on(t),t.updateQueue=null,a=kd(t,n,a,r),Sd(e),n=no(),e!==null&&!Ke?(io(e,t,u),oa(e,t,u)):(be&&n&&Br(t),t.flags|=1,tt(e,t,a,u),t.child)}function jf(e,t,a,n,r){if(on(t),t.stateNode===null){var u=qn,h=a.contextType;typeof h=="object"&&h!==null&&(u=st(h)),u=new a(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=bo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},Jr(t),h=a.contextType,u.context=typeof h=="object"&&h!==null?st(h):qn,u.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(po(t,a,h,n),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&bo.enqueueReplaceState(u,u.state,null),Xi(t,n,u,r),Vi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,_=dn(a,v);u.props=_;var j=u.context,U=a.contextType;h=qn,typeof U=="object"&&U!==null&&(h=st(U));var B=a.getDerivedStateFromProps;U=typeof B=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,U||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||j!==h)&&hf(t,u,n,h),Sa=!1;var A=t.memoizedState;u.state=A,Xi(t,n,u,r),Vi(),j=t.memoizedState,v||A!==j||Sa?(typeof B=="function"&&(po(t,a,B,n),j=t.memoizedState),(_=Sa||ff(t,a,_,n,A,j,h))?(U||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=j),u.props=n,u.state=j,u.context=h,n=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Ir(e,t),h=t.memoizedProps,U=dn(a,h),u.props=U,B=t.pendingProps,A=u.context,j=a.contextType,_=qn,typeof j=="object"&&j!==null&&(_=st(j)),v=a.getDerivedStateFromProps,(j=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==B||A!==_)&&hf(t,u,n,_),Sa=!1,A=t.memoizedState,u.state=A,Xi(t,n,u,r),Vi();var R=t.memoizedState;h!==B||A!==R||Sa||e!==null&&e.dependencies!==null&&Pl(e.dependencies)?(typeof v=="function"&&(po(t,a,v,n),R=t.memoizedState),(U=Sa||ff(t,a,U,n,A,R,_)||e!==null&&e.dependencies!==null&&Pl(e.dependencies))?(j||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,R,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,R,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=R),u.props=n,u.state=R,u.context=_,n=U):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,ys(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=Zn(t,e.child,null,r),t.child=Zn(t,null,a,r)):tt(e,t,a,r),t.memoizedState=u.state,e=t.child):e=oa(e,t,r),e}function Af(e,t,a,n){return zi(),t.flags|=256,tt(e,t,a,n),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function So(e){return{baseLanes:e,cachePool:gd()}}function ko(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function Of(e,t,a){var n=t.pendingProps,r=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(r?ja(t):Aa(),be){var v=ze,_;if(_=v){e:{for(_=v,v=Zt;_.nodeType!==8;){if(!v){v=null;break e}if(_=Yt(_.nextSibling),_===null){v=null;break e}}v=_}v!==null?(t.memoizedState={dehydrated:v,treeContext:an!==null?{id:aa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},_=xt(18,null,null,0),_.stateNode=v,_.return=t,t.child=_,dt=t,ze=null,_=!0):_=!1}_||sn(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ru(v)?t.lanes=32:t.lanes=536870912,null;ra(t)}return v=n.children,n=n.fallback,r?(Aa(),r=t.mode,v=vs({mode:"hidden",children:v},r),n=tn(n,r,a,null),v.return=t,n.return=t,v.sibling=n,t.child=v,r=t.child,r.memoizedState=So(a),r.childLanes=ko(e,h,a),t.memoizedState=xo,n):(ja(t),Eo(t,v))}if(_=e.memoizedState,_!==null&&(v=_.dehydrated,v!==null)){if(u)t.flags&256?(ja(t),t.flags&=-257,t=To(e,t,a)):t.memoizedState!==null?(Aa(),t.child=e.child,t.flags|=128,t=null):(Aa(),r=n.fallback,v=t.mode,n=vs({mode:"visible",children:n.children},v),r=tn(r,v,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Zn(t,e.child,null,a),n=t.child,n.memoizedState=So(a),n.childLanes=ko(e,h,a),t.memoizedState=xo,t=r);else if(ja(t),ru(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var j=h.dgst;h=j,n=Error(s(419)),n.stack="",n.digest=h,qi({value:n,source:null,stack:null}),t=To(e,t,a)}else if(Ke||Li(e,t,a,!1),h=(a&e.childLanes)!==0,Ke||h){if(h=Ae,h!==null&&(n=a&-a,n=(n&42)!==0?1:rr(n),n=(n&(h.suspendedLanes|a))!==0?0:n,n!==0&&n!==_.retryLane))throw _.retryLane=n,zn(e,n),jt(h,e,n),wf;v.data==="$?"||Vo(),t=To(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,ze=Yt(v.nextSibling),dt=t,be=!0,ln=null,Zt=!1,e!==null&&(Ut[Mt++]=aa,Ut[Mt++]=na,Ut[Mt++]=an,aa=e.id,na=e.overflow,an=t),t=Eo(t,n.children),t.flags|=4096);return t}return r?(Aa(),r=n.fallback,v=t.mode,_=e.child,j=_.sibling,n=ta(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,j!==null?r=ta(j,r):(r=tn(r,v,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,v=e.child.memoizedState,v===null?v=So(a):(_=v.cachePool,_!==null?(j=Ve._currentValue,_=_.parent!==j?{parent:j,pool:j}:_):_=gd(),v={baseLanes:v.baseLanes|a,cachePool:_}),r.memoizedState=v,r.childLanes=ko(e,h,a),t.memoizedState=xo,n):(ja(t),a=e.child,e=a.sibling,a=ta(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Eo(e,t){return t=vs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vs(e,t){return e=xt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function To(e,t,a){return Zn(t,e.child,null,a),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yr(e.return,t,a)}function jo(e,t,a,n,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=a,u.tailMode=r)}function Df(e,t,a){var n=t.pendingProps,r=n.revealOrder,u=n.tail;if(tt(e,t,n.children,a),n=Xe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,a,t);else if(e.tag===19)Rf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(Y(Xe,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&hs(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),jo(t,!1,r,a,u);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&hs(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}jo(t,!0,a,null,u);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Li(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,a=ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ao(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pl(e)))}function Lm(e,t,a){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),xa(t,Ve,e.memoizedState.cache),zi();break;case 27:case 5:Wt(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:xa(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ja(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Of(e,t,a):(ja(t),e=oa(e,t,a),e!==null?e.sibling:null);ja(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Li(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return Df(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Y(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,kf(e,t,a);case 24:xa(t,Ve,e.memoizedState.cache)}return oa(e,t,a)}function Cf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!Ao(e,a)&&(t.flags&128)===0)return Ke=!1,Lm(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,be&&(t.flags&1048576)!==0&&rd(t,Il,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")zr(n)?(e=dn(n,e),t.tag=1,t=jf(null,t,n,e,a)):(t.tag=0,t=_o(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===M){t.tag=11,t=_f(null,t,n,e,a);break e}else if(r===re){t.tag=14,t=xf(null,t,n,e,a);break e}}throw t=ot(n)||n,Error(s(306,t,""))}}return t;case 0:return _o(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=dn(n,t.pendingProps),jf(e,t,n,r,a);case 3:e:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(s(387));n=t.pendingProps;var u=t.memoizedState;r=u.element,Ir(e,t),Xi(t,n,null,a);var h=t.memoizedState;if(n=h.cache,xa(t,Ve,n),n!==u.cache&&Vr(t,[Ve],a,!0),Vi(),n=h.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Af(e,t,n,a);break e}else if(n!==r){r=Ct(Error(s(424)),t),qi(r),t=Af(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Yt(e.firstChild),dt=t,be=!0,ln=null,Zt=!0,a=cf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zi(),n===r){t=oa(e,t,a);break e}tt(e,t,n,a)}t=t.child}return t;case 26:return ys(e,t),e===null?(a=zh(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,n=Ds(L.current).createElement(a),n[lt]=t,n[gt]=e,nt(n,a,e),Ze(n),t.stateNode=n):t.memoizedState=zh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wt(t),e===null&&be&&(n=t.stateNode=Nh(t.type,t.pendingProps,L.current),dt=t,Zt=!0,r=ze,qa(t.type)?(ou=r,ze=Yt(n.firstChild)):ze=r),tt(e,t,t.pendingProps.children,a),ys(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((r=n=ze)&&(n=fy(n,t.type,t.pendingProps,Zt),n!==null?(t.stateNode=n,dt=t,ze=Yt(n.firstChild),Zt=!1,r=!0):r=!1),r||sn(t)),Wt(t),r=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,n=u.children,iu(r,u)?n=null:h!==null&&iu(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=ao(e,t,Rm,null,null,a),hl._currentValue=r),ys(e,t),tt(e,t,n,a),t.child;case 6:return e===null&&be&&((e=a=ze)&&(a=hy(a,t.pendingProps,Zt),a!==null?(t.stateNode=a,dt=t,ze=null,e=!0):e=!1),e||sn(t)),null;case 13:return Of(e,t,a);case 4:return de(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zn(t,null,n,a):tt(e,t,n,a),t.child;case 11:return _f(e,t,t.type,t.pendingProps,a);case 7:return tt(e,t,t.pendingProps,a),t.child;case 8:return tt(e,t,t.pendingProps.children,a),t.child;case 12:return tt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,xa(t,t.type,n.value),tt(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,on(t),r=st(r),n=n(r),t.flags|=1,tt(e,t,n,a),t.child;case 14:return xf(e,t,t.type,t.pendingProps,a);case 15:return Sf(e,t,t.type,t.pendingProps,a);case 19:return Df(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=vs(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ta(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return kf(e,t,a);case 24:return on(t),n=st(Ve),e===null?(r=Zr(),r===null&&(r=Ae,u=Xr(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=a),r=u),t.memoizedState={parent:n,cache:r},Jr(t),xa(t,Ve,r)):((e.lanes&a)!==0&&(Ir(e,t),Xi(t,null,null,a),Vi()),r=e.memoizedState,u=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),xa(t,Ve,n)):(n=u.cache,xa(t,Ve,n),n!==r.cache&&Vr(t,[Ve],a,!0))),tt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ua(e){e.flags|=4}function Nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$h(t)){if(t=zt.current,t!==null&&((ye&4194048)===ye?Kt!==null:(ye&62914560)!==ye&&(ye&536870912)===0||t!==Kt))throw Gi=Kr,md;e.flags|=8192}}function ps(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Si():536870912,e.lanes|=t,Pn|=t)}function Wi(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Bm(e,t,a){var n=t.pendingProps;switch(Hr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),la(Ve),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cd())),Ue(t),null;case 26:return a=t.memoizedState,e===null?(ua(t),a!==null?(Ue(t),Nf(t,a)):(Ue(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ua(t),Ue(t),Nf(t,a)):(Ue(t),t.flags&=-16777217):(e.memoizedProps!==n&&ua(t),Ue(t),t.flags&=-16777217),null;case 27:va(t),a=L.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(!n){if(t.stateNode===null)throw Error(s(166));return Ue(t),null}e=F.current,Mi(t)?od(t):(e=Nh(r,n,a),t.stateNode=e,ua(t))}return Ue(t),null;case 5:if(va(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(!n){if(t.stateNode===null)throw Error(s(166));return Ue(t),null}if(e=F.current,Mi(t))od(t);else{switch(r=Ds(L.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[lt]=t,e[gt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(nt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ua(t)}}return Ue(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(s(166));if(e=L.current,Mi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=dt,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Th(e.nodeValue,a)),e||sn(t)}else e=Ds(e).createTextNode(n),e[lt]=t,t.stateNode=e}return Ue(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Mi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(s(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));r[lt]=t}else zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),r=!1}else r=cd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(ra(t),t):(ra(t),null)}if(ra(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var u=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),ps(t,t.updateQueue),Ue(t),null;case 4:return it(),e===null&&Fo(t.stateNode.containerInfo),Ue(t),null;case 10:return la(t.type),Ue(t),null;case 19:if(Z(Xe),r=t.memoizedState,r===null)return Ue(t),null;if(n=(t.flags&128)!==0,u=r.rendering,u===null)if(n)Wi(r,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=hs(e),u!==null){for(t.flags|=128,Wi(r,!1),e=u.updateQueue,t.updateQueue=e,ps(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)sd(a,e),a=a.sibling;return Y(Xe,Xe.current&1|2),t.child}e=e.sibling}r.tail!==null&&Ot()>_s&&(t.flags|=128,n=!0,Wi(r,!1),t.lanes=4194304)}else{if(!n)if(e=hs(u),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ps(t,e),Wi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!be)return Ue(t),null}else 2*Ot()-r.renderingStartTime>_s&&a!==536870912&&(t.flags|=128,n=!0,Wi(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ot(),t.sibling=null,e=Xe.current,Y(Xe,n?e&1|2:e&1),t):(Ue(t),null);case 22:case 23:return ra(t),eo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),a=t.updateQueue,a!==null&&ps(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Z(un),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),la(Ve),Ue(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Hm(e,t){switch(Hr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(Ve),it(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return va(t),null;case 13:if(ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(Xe),null;case 4:return it(),null;case 10:return la(t.type),null;case 22:case 23:return ra(t),eo(),e!==null&&Z(un),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return la(Ve),null;case 25:return null;default:return null}}function Uf(e,t){switch(Hr(t),t.tag){case 3:la(Ve),it();break;case 26:case 27:case 5:va(t);break;case 4:it();break;case 13:ra(t);break;case 19:Z(Xe);break;case 10:la(t.type);break;case 22:case 23:ra(t),eo(),e!==null&&Z(un);break;case 24:la(Ve)}}function Fi(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var u=a.create,h=a.inst;n=u(),h.destroy=n}a=a.next}while(a!==r)}}catch(v){je(t,t.return,v)}}function Oa(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&e)===e){var h=n.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,r=t;var _=a,j=v;try{j()}catch(U){je(r,_,U)}}}n=n.next}while(n!==u)}}catch(U){je(t,t.return,U)}}function Mf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{_d(t,a)}catch(n){je(e,e.return,n)}}}function zf(e,t,a){a.props=dn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){je(e,t,n)}}function el(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){je(e,t,r)}}function Jt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){je(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){je(e,t,r)}else a.current=null}function qf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){je(e,e.return,r)}}function Oo(e,t,a){try{var n=e.stateNode;ry(n,e.type,a,t),n[gt]=t}catch(r){je(e,e.return,r)}}function Lf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function Ro(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Rs));else if(n!==4&&(n===27&&qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Do(e,t,a),e=e.sibling;e!==null;)Do(e,t,a),e=e.sibling}function bs(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bs(e,t,a),e=e.sibling;e!==null;)bs(e,t,a),e=e.sibling}function Bf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);nt(t,n,a),t[lt]=e,t[gt]=a}catch(u){je(e,e.return,u)}}var ca=!1,Be=!1,Co=!1,Hf=typeof WeakSet=="function"?WeakSet:Set,Je=null;function $m(e,t){if(e=e.containerInfo,au=qs,e=Ic(e),Or(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var h=0,v=-1,_=-1,j=0,U=0,B=e,A=null;t:for(;;){for(var R;B!==a||r!==0&&B.nodeType!==3||(v=h+r),B!==u||n!==0&&B.nodeType!==3||(_=h+n),B.nodeType===3&&(h+=B.nodeValue.length),(R=B.firstChild)!==null;)A=B,B=R;for(;;){if(B===e)break t;if(A===a&&++j===r&&(v=h),A===u&&++U===n&&(_=h),(R=B.nextSibling)!==null)break;B=A,A=B.parentNode}B=R}a=v===-1||_===-1?null:{start:v,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(nu={focusedElem:e,selectionRange:a},qs=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,r=u.memoizedProps,u=u.memoizedState,n=a.stateNode;try{var ne=dn(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ne,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(te){je(a,a.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)su(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function $f(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ra(e,a),n&4&&Fi(5,a);break;case 1:if(Ra(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){je(a,a.return,h)}else{var r=dn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){je(a,a.return,h)}}n&64&&Mf(a),n&512&&el(a,a.return);break;case 3:if(Ra(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_d(e,t)}catch(h){je(a,a.return,h)}}break;case 27:t===null&&n&4&&Bf(a);case 26:case 5:Ra(e,a),t===null&&n&4&&qf(a),n&512&&el(a,a.return);break;case 12:Ra(e,a);break;case 13:Ra(e,a),n&4&&Vf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Im.bind(null,a),gy(e,a))));break;case 22:if(n=a.memoizedState!==null||ca,!n){t=t!==null&&t.memoizedState!==null||Be,r=ca;var u=Be;ca=n,(Be=t)&&!u?Da(e,a,(a.subtreeFlags&8772)!==0):Ra(e,a),ca=r,Be=u}break;case 30:break;default:Ra(e,a)}}function Gf(e){var t=e.alternate;t!==null&&(e.alternate=null,Gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,vt=!1;function da(e,t,a){for(a=a.child;a!==null;)Yf(e,t,a),a=a.sibling}function Yf(e,t,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ja,a)}catch{}switch(a.tag){case 26:Be||Jt(a,t),da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Be||Jt(a,t);var n=De,r=vt;qa(a.type)&&(De=a.stateNode,vt=!1),da(e,t,a),ul(a.stateNode),De=n,vt=r;break;case 5:Be||Jt(a,t);case 6:if(n=De,r=vt,De=null,da(e,t,a),De=n,vt=r,De!==null)if(vt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(a.stateNode)}catch(u){je(a,t,u)}else try{De.removeChild(a.stateNode)}catch(u){je(a,t,u)}break;case 18:De!==null&&(vt?(e=De,Dh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),vl(e)):Dh(De,a.stateNode));break;case 4:n=De,r=vt,De=a.stateNode.containerInfo,vt=!0,da(e,t,a),De=n,vt=r;break;case 0:case 11:case 14:case 15:Be||Oa(2,a,t),Be||Oa(4,a,t),da(e,t,a);break;case 1:Be||(Jt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&zf(a,t,n)),da(e,t,a);break;case 21:da(e,t,a);break;case 22:Be=(n=Be)||a.memoizedState!==null,da(e,t,a),Be=n;break;default:da(e,t,a)}}function Vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vl(e)}catch(a){je(t,t.return,a)}}function Gm(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hf),t;default:throw Error(s(435,e.tag))}}function No(e,t){var a=Gm(e);t.forEach(function(n){var r=Pm.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function St(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(qa(v.type)){De=v.stateNode,vt=!1;break e}break;case 5:De=v.stateNode,vt=!1;break e;case 3:case 4:De=v.stateNode.containerInfo,vt=!0;break e}v=v.return}if(De===null)throw Error(s(160));Yf(u,h,r),De=null,vt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}var Gt=null;function Xf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),kt(e),n&4&&(Oa(3,e,e.return),Fi(3,e),Oa(5,e,e.return));break;case 1:St(t,e),kt(e),n&512&&(Be||a===null||Jt(a,a.return)),n&64&&ca&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=Gt;if(St(t,e),kt(e),n&512&&(Be||a===null||Jt(a,a.return)),n&4){var u=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":u=r.getElementsByTagName("title")[0],(!u||u[ki]||u[lt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(n),r.head.insertBefore(u,r.querySelector("head > title"))),nt(u,n,a),u[lt]=e,Ze(u),n=u;break e;case"link":var h=Bh("link","href",r).get(n+(a.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(v,1);break t}}u=r.createElement(n),nt(u,n,a),r.head.appendChild(u);break;case"meta":if(h=Bh("meta","content",r).get(n+(a.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(v,1);break t}}u=r.createElement(n),nt(u,n,a),r.head.appendChild(u);break;default:throw Error(s(468,n))}u[lt]=e,Ze(u),n=u}e.stateNode=n}else Hh(r,e.type,e.stateNode);else e.stateNode=Lh(r,n,e.memoizedProps);else u!==n?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,n===null?Hh(r,e.type,e.stateNode):Lh(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Oo(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),kt(e),n&512&&(Be||a===null||Jt(a,a.return)),a!==null&&n&4&&Oo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),kt(e),n&512&&(Be||a===null||Jt(a,a.return)),e.flags&32){r=e.stateNode;try{On(r,"")}catch(R){je(e,e.return,R)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Oo(e,r,a!==null?a.memoizedProps:r)),n&1024&&(Co=!0);break;case 6:if(St(t,e),kt(e),n&4){if(e.stateNode===null)throw Error(s(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(R){je(e,e.return,R)}}break;case 3:if(Us=null,r=Gt,Gt=Cs(t.containerInfo),St(t,e),Gt=r,kt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{vl(t.containerInfo)}catch(R){je(e,e.return,R)}Co&&(Co=!1,Qf(e));break;case 4:n=Gt,Gt=Cs(e.stateNode.containerInfo),St(t,e),kt(e),Gt=n;break;case 12:St(t,e),kt(e);break;case 13:St(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bo=Ot()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,No(e,n)));break;case 22:r=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,j=ca,U=Be;if(ca=j||r,Be=U||_,St(t,e),Be=U,ca=j,kt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||_||ca||Be||fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,r)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=_.stateNode;var B=_.memoizedProps.style,A=B!=null&&B.hasOwnProperty("display")?B.display:null;v.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(R){je(_,_.return,R)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(R){je(_,_.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,No(e,a))));break;case 19:St(t,e),kt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,No(e,n)));break;case 30:break;case 21:break;default:St(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Lf(n)){a=n;break}n=n.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var r=a.stateNode,u=Ro(e);bs(e,u,r);break;case 5:var h=a.stateNode;a.flags&32&&(On(h,""),a.flags&=-33);var v=Ro(e);bs(e,v,h);break;case 3:case 4:var _=a.stateNode.containerInfo,j=Ro(e);Do(e,j,_);break;default:throw Error(s(161))}}catch(U){je(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$f(e,t.alternate,t),t=t.sibling}function fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Oa(4,t,t.return),fn(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&zf(t,t.return,a),fn(t);break;case 27:ul(t.stateNode);case 26:case 5:Jt(t,t.return),fn(t);break;case 22:t.memoizedState===null&&fn(t);break;case 30:fn(t);break;default:fn(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:Da(r,u,a),Fi(4,u);break;case 1:if(Da(r,u,a),n=u,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(j){je(n,n.return,j)}if(n=u,r=n.updateQueue,r!==null){var v=n.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)wd(_[r],v)}catch(j){je(n,n.return,j)}}a&&h&64&&Mf(u),el(u,u.return);break;case 27:Bf(u);case 26:case 5:Da(r,u,a),a&&n===null&&h&4&&qf(u),el(u,u.return);break;case 12:Da(r,u,a);break;case 13:Da(r,u,a),a&&h&4&&Vf(r,u);break;case 22:u.memoizedState===null&&Da(r,u,a),el(u,u.return);break;case 30:break;default:Da(r,u,a)}t=t.sibling}}function Uo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bi(a))}function Mo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e))}function It(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zf(e,t,a,n),t=t.sibling}function Zf(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,n),r&2048&&Fi(9,t);break;case 1:It(e,t,a,n);break;case 3:It(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e)));break;case 12:if(r&2048){It(e,t,a,n),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){je(t,t.return,_)}}else It(e,t,a,n);break;case 13:It(e,t,a,n);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?It(e,t,a,n):tl(e,t):u._visibility&2?It(e,t,a,n):(u._visibility|=2,Kn(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&Uo(h,t);break;case 24:It(e,t,a,n),r&2048&&Mo(t.alternate,t);break;default:It(e,t,a,n)}}function Kn(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,h=t,v=a,_=n,j=h.flags;switch(h.tag){case 0:case 11:case 15:Kn(u,h,v,_,r),Fi(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?Kn(u,h,v,_,r):tl(u,h):(U._visibility|=2,Kn(u,h,v,_,r)),r&&j&2048&&Uo(h.alternate,h);break;case 24:Kn(u,h,v,_,r),r&&j&2048&&Mo(h.alternate,h);break;default:Kn(u,h,v,_,r)}t=t.sibling}}function tl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:tl(a,n),r&2048&&Uo(n.alternate,n);break;case 24:tl(a,n),r&2048&&Mo(n.alternate,n);break;default:tl(a,n)}t=t.sibling}}var al=8192;function Jn(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Kf(e),e=e.sibling}function Kf(e){switch(e.tag){case 26:Jn(e),e.flags&al&&e.memoizedState!==null&&jy(Gt,e.memoizedState,e.memoizedProps);break;case 5:Jn(e);break;case 3:case 4:var t=Gt;Gt=Cs(e.stateNode.containerInfo),Jn(e),Gt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=al,al=16777216,Jn(e),al=t):Jn(e));break;default:Jn(e)}}function Jf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function nl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Je=n,Pf(n,e)}Jf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)If(e),e=e.sibling}function If(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Oa(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ws(e)):nl(e);break;default:nl(e)}}function ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Je=n,Pf(n,e)}Jf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Oa(8,t,t.return),ws(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ws(t));break;default:ws(t)}e=e.sibling}}function Pf(e,t){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Oa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Bi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Je=n;else e:for(a=e;Je!==null;){n=Je;var r=n.sibling,u=n.return;if(Gf(n),n===a){Je=null;break e}if(r!==null){r.return=u,Je=r;break e}Je=u}}}var Ym={getCacheForType:function(e){var t=st(Ve),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Vm=typeof WeakMap=="function"?WeakMap:Map,we=0,Ae=null,he=null,ye=0,_e=0,Et=null,Ca=!1,In=!1,zo=!1,fa=0,qe=0,Na=0,hn=0,qo=0,qt=0,Pn=0,il=null,pt=null,Lo=!1,Bo=0,_s=1/0,xs=null,Ua=null,at=0,Ma=null,Wn=null,Fn=0,Ho=0,$o=null,Wf=null,ll=0,Go=null;function Tt(){if((we&2)!==0&&ye!==0)return ye&-ye;if(C.T!==null){var e=Hn;return e!==0?e:Jo()}return hc()}function Ff(){qt===0&&(qt=(ye&536870912)===0||be?wt():536870912);var e=zt.current;return e!==null&&(e.flags|=32),qt}function jt(e,t,a){(e===Ae&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(ei(e,0),za(e,ye,qt,!1)),ba(e,a),((we&2)===0||e!==Ae)&&(e===Ae&&((we&2)===0&&(hn|=a),qe===4&&za(e,ye,qt,!1)),Pt(e))}function eh(e,t,a){if((we&6)!==0)throw Error(s(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Me(e,t),r=n?Zm(e,t):Xo(e,t,!0),u=n;do{if(r===0){In&&!n&&za(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Xm(a)){r=Xo(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;r=il;var _=v.current.memoizedState.isDehydrated;if(_&&(ei(v,h).flags|=256),h=Xo(v,h,!1),h!==2){if(zo&&!_){v.errorRecoveryDisabledLanes|=u,hn|=u,r=4;break e}u=pt,pt=r,u!==null&&(pt===null?pt=u:pt.push.apply(pt,u))}r=h}if(u=!1,r!==2)continue}}if(r===1){ei(e,0),za(e,t,0,!0);break}e:{switch(n=e,u=r,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:za(n,t,qt,!Ca);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(r=Bo+300-Ot(),10<r)){if(za(n,t,qt,!Ca),xe(n,0,!0)!==0)break e;n.timeoutHandle=Oh(th.bind(null,n,a,pt,xs,Lo,t,qt,hn,Pn,Ca,u,2,-0,0),r);break e}th(n,a,pt,xs,Lo,t,qt,hn,Pn,Ca,u,0,-0,0)}}break}while(!0);Pt(e)}function th(e,t,a,n,r,u,h,v,_,j,U,B,A,R){if(e.timeoutHandle=-1,B=t.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:Ty},Kf(t),B=Ay(),B!==null)){e.cancelPendingCommit=B(oh.bind(null,e,t,u,a,n,r,h,v,_,U,1,A,R)),za(e,u,h,!j);return}oh(e,t,u,a,n,r,h,v,_)}function Xm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],u=r.getSnapshot;r=r.value;try{if(!_t(u(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t,a,n){t&=~qo,t&=~hn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var u=31-ct(r),h=1<<u;n[u]=-1,r&=~h}a!==0&&dc(e,a,t)}function Ss(){return(we&6)===0?(sl(0),!1):!0}function Yo(){if(he!==null){if(_e===0)var e=he.return;else e=he,ia=rn=null,lo(e),Qn=null,Ii=0,e=he;for(;e!==null;)Uf(e.alternate,e),e=e.return;he=null}}function ei(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,uy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yo(),Ae=e,he=a=ta(e.current,null),ye=t,_e=0,Et=null,Ca=!1,In=Me(e,t),zo=!1,Pn=qt=qo=hn=Na=qe=0,pt=il=null,Lo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-ct(n),u=1<<r;t|=e[r],n&=~u}return fa=t,Xl(),a}function ah(e,t){ce=null,C.H=cs,t===$i||t===es?(t=pd(),_e=3):t===md?(t=pd(),_e=4):_e=t===wf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,he===null&&(qe=1,ms(e,Ct(t,e.current)))}function nh(){var e=C.H;return C.H=cs,e===null?cs:e}function ih(){var e=C.A;return C.A=Ym,e}function Vo(){qe=4,Ca||(ye&4194048)!==ye&&zt.current!==null||(In=!0),(Na&134217727)===0&&(hn&134217727)===0||Ae===null||za(Ae,ye,qt,!1)}function Xo(e,t,a){var n=we;we|=2;var r=nh(),u=ih();(Ae!==e||ye!==t)&&(xs=null,ei(e,t)),t=!1;var h=qe;e:do try{if(_e!==0&&he!==null){var v=he,_=Et;switch(_e){case 8:Yo(),h=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var j=_e;if(_e=0,Et=null,ti(e,v,_,j),a&&In){h=0;break e}break;default:j=_e,_e=0,Et=null,ti(e,v,_,j)}}Qm(),h=qe;break}catch(U){ah(e,U)}while(!0);return t&&e.shellSuspendCounter++,ia=rn=null,we=n,C.H=r,C.A=u,he===null&&(Ae=null,ye=0,Xl()),h}function Qm(){for(;he!==null;)lh(he)}function Zm(e,t){var a=we;we|=2;var n=nh(),r=ih();Ae!==e||ye!==t?(xs=null,_s=Ot()+500,ei(e,t)):In=Me(e,t);e:do try{if(_e!==0&&he!==null){t=he;var u=Et;t:switch(_e){case 1:_e=0,Et=null,ti(e,t,u,1);break;case 2:case 9:if(yd(u)){_e=0,Et=null,sh(t);break}t=function(){_e!==2&&_e!==9||Ae!==e||(_e=7),Pt(e)},u.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:yd(u)?(_e=0,Et=null,sh(t)):(_e=0,Et=null,ti(e,t,u,7));break;case 5:var h=null;switch(he.tag){case 26:h=he.memoizedState;case 5:case 27:var v=he;if(!h||$h(h)){_e=0,Et=null;var _=v.sibling;if(_!==null)he=_;else{var j=v.return;j!==null?(he=j,ks(j)):he=null}break t}}_e=0,Et=null,ti(e,t,u,5);break;case 6:_e=0,Et=null,ti(e,t,u,6);break;case 8:Yo(),qe=6;break e;default:throw Error(s(462))}}Km();break}catch(U){ah(e,U)}while(!0);return ia=rn=null,C.H=n,C.A=r,we=a,he!==null?0:(Ae=null,ye=0,Xl(),qe)}function Km(){for(;he!==null&&!At();)lh(he)}function lh(e){var t=Cf(e.alternate,e,fa);e.memoizedProps=e.pendingProps,t===null?ks(e):he=t}function sh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Tf(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Tf(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:lo(t);default:Uf(a,t),t=he=sd(t,fa),t=Cf(a,t,fa)}e.memoizedProps=e.pendingProps,t===null?ks(e):he=t}function ti(e,t,a,n){ia=rn=null,lo(t),Qn=null,Ii=0;var r=t.return;try{if(qm(e,r,t,a,ye)){qe=1,ms(e,Ct(a,e.current)),he=null;return}}catch(u){if(r!==null)throw he=r,u;qe=1,ms(e,Ct(a,e.current)),he=null;return}t.flags&32768?(be||n===1?e=!0:In||(ye&536870912)!==0?e=!1:(Ca=e=!0,(n===2||n===9||n===3||n===6)&&(n=zt.current,n!==null&&n.tag===13&&(n.flags|=16384))),rh(t,e)):ks(t)}function ks(e){var t=e;do{if((t.flags&32768)!==0){rh(t,Ca);return}e=t.return;var a=Bm(t.alternate,t,fa);if(a!==null){he=a;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);qe===0&&(qe=5)}function rh(e,t){do{var a=Hm(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);qe=6,he=null}function oh(e,t,a,n,r,u,h,v,_){e.cancelPendingCommit=null;do Es();while(at!==0);if((we&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Ur,Ia(e,a,u,h,v,_),e===Ae&&(he=Ae=null,ye=0),Wn=t,Ma=e,Fn=a,Ho=u,$o=r,Wf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wm(Ka,function(){return hh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=C.T,C.T=null,r=Q.p,Q.p=2,h=we,we|=4;try{$m(e,t,a)}finally{we=h,Q.p=r,C.T=n}}at=1,uh(),ch(),dh()}}function uh(){if(at===1){at=0;var e=Ma,t=Wn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var n=Q.p;Q.p=2;var r=we;we|=4;try{Xf(t,e);var u=nu,h=Ic(e.containerInfo),v=u.focusedElem,_=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&Jc(v.ownerDocument.documentElement,v)){if(_!==null&&Or(v)){var j=_.start,U=_.end;if(U===void 0&&(U=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(U,v.value.length);else{var B=v.ownerDocument||document,A=B&&B.defaultView||window;if(A.getSelection){var R=A.getSelection(),ne=v.textContent.length,te=Math.min(_.start,ne),Ee=_.end===void 0?te:Math.min(_.end,ne);!R.extend&&te>Ee&&(h=Ee,Ee=te,te=h);var E=Kc(v,te),S=Kc(v,Ee);if(E&&S&&(R.rangeCount!==1||R.anchorNode!==E.node||R.anchorOffset!==E.offset||R.focusNode!==S.node||R.focusOffset!==S.offset)){var T=B.createRange();T.setStart(E.node,E.offset),R.removeAllRanges(),te>Ee?(R.addRange(T),R.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),R.addRange(T))}}}}for(B=[],R=v;R=R.parentNode;)R.nodeType===1&&B.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<B.length;v++){var z=B[v];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}qs=!!au,nu=au=null}finally{we=r,Q.p=n,C.T=a}}e.current=t,at=2}}function ch(){if(at===2){at=0;var e=Ma,t=Wn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var n=Q.p;Q.p=2;var r=we;we|=4;try{$f(e,t.alternate,t)}finally{we=r,Q.p=n,C.T=a}}at=3}}function dh(){if(at===4||at===3){at=0,Ht();var e=Ma,t=Wn,a=Fn,n=Wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,Wn=Ma=null,fh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ua=null),or(a),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ja,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=C.T,r=Q.p,Q.p=2,C.T=null;try{for(var u=e.onRecoverableError,h=0;h<n.length;h++){var v=n[h];u(v.value,{componentStack:v.stack})}}finally{C.T=t,Q.p=r}}(Fn&3)!==0&&Es(),Pt(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===Go?ll++:(ll=0,Go=e):ll=0,sl(0)}}function fh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Bi(t)))}function Es(e){return uh(),ch(),dh(),hh()}function hh(){if(at!==5)return!1;var e=Ma,t=Ho;Ho=0;var a=or(Fn),n=C.T,r=Q.p;try{Q.p=32>a?32:a,C.T=null,a=$o,$o=null;var u=Ma,h=Fn;if(at=0,Wn=Ma=null,Fn=0,(we&6)!==0)throw Error(s(331));var v=we;if(we|=4,If(u.current),Zf(u,u.current,h,a),we=v,sl(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ja,u)}catch{}return!0}finally{Q.p=r,C.T=n,fh(e,t)}}function gh(e,t,a){t=Ct(a,t),t=wo(e.stateNode,t,2),e=Ea(e,t,2),e!==null&&(ba(e,2),Pt(e))}function je(e,t,a){if(e.tag===3)gh(e,e,a);else for(;t!==null;){if(t.tag===3){gh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ua===null||!Ua.has(n))){e=Ct(a,e),a=pf(2),n=Ea(t,a,2),n!==null&&(bf(a,n,t,e),ba(n,2),Pt(n));break}}t=t.return}}function Qo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Vm;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(zo=!0,r.add(a),e=Jm.bind(null,e,t,a),t.then(e,e))}function Jm(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ae===e&&(ye&a)===a&&(qe===4||qe===3&&(ye&62914560)===ye&&300>Ot()-Bo?(we&2)===0&&ei(e,0):qo|=a,Pn===ye&&(Pn=0)),Pt(e)}function mh(e,t){t===0&&(t=Si()),e=zn(e,t),e!==null&&(ba(e,t),Pt(e))}function Im(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),mh(e,a)}function Pm(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}n!==null&&n.delete(t),mh(e,a)}function Wm(e,t){return bn(e,t)}var Ts=null,ai=null,Zo=!1,js=!1,Ko=!1,gn=0;function Pt(e){e!==ai&&e.next===null&&(ai===null?Ts=ai=e:ai=ai.next=e),js=!0,Zo||(Zo=!0,ey())}function sl(e,t){if(!Ko&&js){Ko=!0;do for(var a=!1,n=Ts;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var u=0;else{var h=n.suspendedLanes,v=n.pingedLanes;u=(1<<31-ct(42|e)+1)-1,u&=r&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,bh(n,u))}else u=ye,u=xe(n,n===Ae?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||Me(n,u)||(a=!0,bh(n,u));n=n.next}while(a);Ko=!1}}function Fm(){yh()}function yh(){js=Zo=!1;var e=0;gn!==0&&(oy()&&(e=gn),gn=0);for(var t=Ot(),a=null,n=Ts;n!==null;){var r=n.next,u=vh(n,t);u===0?(n.next=null,a===null?Ts=r:a.next=r,r===null&&(ai=a)):(a=n,(e!==0||(u&3)!==0)&&(js=!0)),n=r}sl(e)}function vh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-ct(u),v=1<<h,_=r[h];_===-1?((v&a)===0||(v&n)!==0)&&(r[h]=Ne(v,t)):_<=t&&(e.expiredLanes|=v),u&=~v}if(t=Ae,a=ye,a=xe(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&xi(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Me(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&xi(n),or(a)){case 2:case 8:a=Rl;break;case 32:a=Ka;break;case 268435456:a=Dl;break;default:a=Ka}return n=ph.bind(null,e),a=bn(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&xi(n),e.callbackPriority=2,e.callbackNode=null,2}function ph(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Es()&&e.callbackNode!==a)return null;var n=ye;return n=xe(e,e===Ae?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(eh(e,n,t),vh(e,Ot()),e.callbackNode!=null&&e.callbackNode===a?ph.bind(null,e):null)}function bh(e,t){if(Es())return null;eh(e,t,!0)}function ey(){cy(function(){(we&6)!==0?bn(Za,Fm):yh()})}function Jo(){return gn===0&&(gn=wt()),gn}function wh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function _h(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ty(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var u=wh((r[gt]||null).action),h=n.submitter;h&&(t=(t=h[gt]||null)?wh(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new Gl("action","action",null,n,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(gn!==0){var _=h?_h(r,h):new FormData(r);mo(a,{pending:!0,data:_,method:r.method,action:u},null,_)}}else typeof u=="function"&&(v.preventDefault(),_=h?_h(r,h):new FormData(r),mo(a,{pending:!0,data:_,method:r.method,action:u},u,_))},currentTarget:r}]})}}for(var Io=0;Io<Nr.length;Io++){var Po=Nr[Io],ay=Po.toLowerCase(),ny=Po[0].toUpperCase()+Po.slice(1);$t(ay,"on"+ny)}$t(Fc,"onAnimationEnd"),$t(ed,"onAnimationIteration"),$t(td,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(wm,"onTransitionRun"),$t(_m,"onTransitionStart"),$t(xm,"onTransitionCancel"),$t(ad,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function xh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var h=n.length-1;0<=h;h--){var v=n[h],_=v.instance,j=v.currentTarget;if(v=v.listener,_!==u&&r.isPropagationStopped())break e;u=v,r.currentTarget=j;try{u(r)}catch(U){gs(U)}r.currentTarget=null,u=_}else for(h=0;h<n.length;h++){if(v=n[h],_=v.instance,j=v.currentTarget,v=v.listener,_!==u&&r.isPropagationStopped())break e;u=v,r.currentTarget=j;try{u(r)}catch(U){gs(U)}r.currentTarget=null,u=_}}}}function ge(e,t){var a=t[ur];a===void 0&&(a=t[ur]=new Set);var n=e+"__bubble";a.has(n)||(Sh(t,e,2,!1),a.add(n))}function Wo(e,t,a){var n=0;t&&(n|=4),Sh(a,e,n,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[As]){e[As]=!0,mc.forEach(function(a){a!=="selectionchange"&&(iy.has(a)||Wo(a,!1,e),Wo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,Wo("selectionchange",!1,t))}}function Sh(e,t,a,n){switch(Zh(t)){case 2:var r=Dy;break;case 8:r=Cy;break;default:r=hu}a=r.bind(null,t,a,e),r=void 0,!wr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function eu(e,t,a,n,r){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var v=n.stateNode.containerInfo;if(v===r)break;if(h===4)for(h=n.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;v!==null;){if(h=Sn(v),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){n=u=h;continue e}v=v.parentNode}}n=n.return}Oc(function(){var j=u,U=pr(a),B=[];e:{var A=nd.get(e);if(A!==void 0){var R=Gl,ne=e;switch(e){case"keypress":if(Hl(a)===0)break e;case"keydown":case"keyup":R=W0;break;case"focusin":ne="focus",R=kr;break;case"focusout":ne="blur",R=kr;break;case"beforeblur":case"afterblur":R=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=tm;break;case Fc:case ed:case td:R=Y0;break;case ad:R=nm;break;case"scroll":case"scrollend":R=L0;break;case"wheel":R=lm;break;case"copy":case"cut":case"paste":R=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Uc;break;case"toggle":case"beforetoggle":R=rm}var te=(t&4)!==0,Ee=!te&&(e==="scroll"||e==="scrollend"),E=te?A!==null?A+"Capture":null:A;te=[];for(var S=j,T;S!==null;){var z=S;if(T=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||T===null||E===null||(z=Ti(S,E),z!=null&&te.push(ol(S,z,T))),Ee)break;S=S.return}0<te.length&&(A=new R(A,ne,null,a,U),B.push({event:A,listeners:te}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&a!==vr&&(ne=a.relatedTarget||a.fromElement)&&(Sn(ne)||ne[xn]))break e;if((R||A)&&(A=U.window===U?U:(A=U.ownerDocument)?A.defaultView||A.parentWindow:window,R?(ne=a.relatedTarget||a.toElement,R=j,ne=ne?Sn(ne):null,ne!==null&&(Ee=c(ne),te=ne.tag,ne!==Ee||te!==5&&te!==27&&te!==6)&&(ne=null)):(R=null,ne=j),R!==ne)){if(te=Cc,z="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(te=Uc,z="onPointerLeave",E="onPointerEnter",S="pointer"),Ee=R==null?A:Ei(R),T=ne==null?A:Ei(ne),A=new te(z,S+"leave",R,a,U),A.target=Ee,A.relatedTarget=T,z=null,Sn(U)===j&&(te=new te(E,S+"enter",ne,a,U),te.target=T,te.relatedTarget=Ee,z=te),Ee=z,R&&ne)t:{for(te=R,E=ne,S=0,T=te;T;T=ni(T))S++;for(T=0,z=E;z;z=ni(z))T++;for(;0<S-T;)te=ni(te),S--;for(;0<T-S;)E=ni(E),T--;for(;S--;){if(te===E||E!==null&&te===E.alternate)break t;te=ni(te),E=ni(E)}te=null}else te=null;R!==null&&kh(B,A,R,te,!1),ne!==null&&Ee!==null&&kh(B,Ee,ne,te,!0)}}e:{if(A=j?Ei(j):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var P=Gc;else if(Hc(A))if(Yc)P=vm;else{P=mm;var fe=gm}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?j&&yr(j.elementType)&&(P=Gc):P=ym;if(P&&(P=P(e,j))){$c(B,P,a,U);break e}fe&&fe(e,A,j),e==="focusout"&&j&&A.type==="number"&&j.memoizedProps.value!=null&&mr(A,"number",A.value)}switch(fe=j?Ei(j):window,e){case"focusin":(Hc(fe)||fe.contentEditable==="true")&&(Nn=fe,Rr=j,Ui=null);break;case"focusout":Ui=Rr=Nn=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Pc(B,a,U);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":Pc(B,a,U)}var ee;if(Tr)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Cn?Lc(e,a)&&(ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(Mc&&a.locale!=="ko"&&(Cn||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Cn&&(ee=Rc()):(_a=U,_r="value"in _a?_a.value:_a.textContent,Cn=!0)),fe=Os(j,ae),0<fe.length&&(ae=new Nc(ae,e,null,a,U),B.push({event:ae,listeners:fe}),ee?ae.data=ee:(ee=Bc(a),ee!==null&&(ae.data=ee)))),(ee=um?cm(e,a):dm(e,a))&&(ae=Os(j,"onBeforeInput"),0<ae.length&&(fe=new Nc("onBeforeInput","beforeinput",null,a,U),B.push({event:fe,listeners:ae}),fe.data=ee)),ty(B,e,j,a,U)}xh(B,t)})}function ol(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Os(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Ti(e,a),r!=null&&n.unshift(ol(e,r,u)),r=Ti(e,t),r!=null&&n.push(ol(e,r,u))),e.tag===3)return n;e=e.return}return[]}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kh(e,t,a,n,r){for(var u=t._reactName,h=[];a!==null&&a!==n;){var v=a,_=v.alternate,j=v.stateNode;if(v=v.tag,_!==null&&_===n)break;v!==5&&v!==26&&v!==27||j===null||(_=j,r?(j=Ti(a,u),j!=null&&h.unshift(ol(a,j,_))):r||(j=Ti(a,u),j!=null&&h.push(ol(a,j,_)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var ly=/\r\n?/g,sy=/\u0000|\uFFFD/g;function Eh(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(sy,"")}function Th(e,t){return t=Eh(t),Eh(e)===t}function Rs(){}function ke(e,t,a,n,r,u){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||On(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&On(e,""+n);break;case"className":Ml(e,"class",n);break;case"tabIndex":Ml(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(e,a,n);break;case"style":jc(e,n,u);break;case"data":if(t!=="object"){Ml(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ll(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&ke(e,t,"name",r.name,r,null),ke(e,t,"formEncType",r.formEncType,r,null),ke(e,t,"formMethod",r.formMethod,r,null),ke(e,t,"formTarget",r.formTarget,r,null)):(ke(e,t,"encType",r.encType,r,null),ke(e,t,"method",r.method,r,null),ke(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ll(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Rs);break;case"onScroll":n!=null&&ge("scroll",e);break;case"onScrollEnd":n!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(s(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ll(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Ul(e,"popover",n);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ul(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=z0.get(a)||a,Ul(e,a,n))}}function tu(e,t,a,n,r,u){switch(a){case"style":jc(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(s(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof n=="string"?On(e,n):(typeof n=="number"||typeof n=="bigint")&&On(e,""+n);break;case"onScroll":n!=null&&ge("scroll",e);break;case"onScrollEnd":n!=null&&ge("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),u=e[gt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof n=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ul(e,a,n)}}}function nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var n=!1,r=!1,u;for(u in a)if(a.hasOwnProperty(u)){var h=a[u];if(h!=null)switch(u){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ke(e,t,u,h,a,null)}}r&&ke(e,t,"srcSet",a.srcSet,a,null),n&&ke(e,t,"src",a.src,a,null);return;case"input":ge("invalid",e);var v=u=h=r=null,_=null,j=null;for(n in a)if(a.hasOwnProperty(n)){var U=a[n];if(U!=null)switch(n){case"name":r=U;break;case"type":h=U;break;case"checked":_=U;break;case"defaultChecked":j=U;break;case"value":u=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:ke(e,t,n,U,a,null)}}Sc(e,u,v,_,j,h,r,!1),zl(e);return;case"select":ge("invalid",e),n=h=u=null;for(r in a)if(a.hasOwnProperty(r)&&(v=a[r],v!=null))switch(r){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":n=v;default:ke(e,t,r,v,a,null)}t=u,a=h,e.multiple=!!n,t!=null?An(e,!!n,t,!1):a!=null&&An(e,!!n,a,!0);return;case"textarea":ge("invalid",e),u=r=n=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":n=v;break;case"defaultValue":r=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:ke(e,t,h,v,a,null)}Ec(e,n,r,u),zl(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ke(e,t,_,n,a,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(n=0;n<rl.length;n++)ge(rl[n],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ke(e,t,j,n,a,null)}return;default:if(yr(t)){for(U in a)a.hasOwnProperty(U)&&(n=a[U],n!==void 0&&tu(e,t,U,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&ke(e,t,v,n,a,null))}function ry(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,h=null,v=null,_=null,j=null,U=null;for(R in a){var B=a[R];if(a.hasOwnProperty(R)&&B!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":_=B;default:n.hasOwnProperty(R)||ke(e,t,R,null,n,B)}}for(var A in n){var R=n[A];if(B=a[A],n.hasOwnProperty(A)&&(R!=null||B!=null))switch(A){case"type":u=R;break;case"name":r=R;break;case"checked":j=R;break;case"defaultChecked":U=R;break;case"value":h=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,t));break;default:R!==B&&ke(e,t,A,R,n,B)}}gr(e,h,v,_,j,U,u,r);return;case"select":R=h=v=A=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":R=_;default:n.hasOwnProperty(u)||ke(e,t,u,null,n,_)}for(r in n)if(u=n[r],_=a[r],n.hasOwnProperty(r)&&(u!=null||_!=null))switch(r){case"value":A=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==_&&ke(e,t,r,u,n,_)}t=v,a=h,n=R,A!=null?An(e,!!a,A,!1):!!n!=!!a&&(t!=null?An(e,!!a,t,!0):An(e,!!a,a?[]:"",!1));return;case"textarea":R=A=null;for(v in a)if(r=a[v],a.hasOwnProperty(v)&&r!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ke(e,t,v,null,n,r)}for(h in n)if(r=n[h],u=a[h],n.hasOwnProperty(h)&&(r!=null||u!=null))switch(h){case"value":A=r;break;case"defaultValue":R=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(s(91));break;default:r!==u&&ke(e,t,h,r,n,u)}kc(e,A,R);return;case"option":for(var ne in a)if(A=a[ne],a.hasOwnProperty(ne)&&A!=null&&!n.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:ke(e,t,ne,null,n,A)}for(_ in n)if(A=n[_],R=a[_],n.hasOwnProperty(_)&&A!==R&&(A!=null||R!=null))switch(_){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:ke(e,t,_,A,n,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in a)A=a[te],a.hasOwnProperty(te)&&A!=null&&!n.hasOwnProperty(te)&&ke(e,t,te,null,n,A);for(j in n)if(A=n[j],R=a[j],n.hasOwnProperty(j)&&A!==R&&(A!=null||R!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(137,t));break;default:ke(e,t,j,A,n,R)}return;default:if(yr(t)){for(var Ee in a)A=a[Ee],a.hasOwnProperty(Ee)&&A!==void 0&&!n.hasOwnProperty(Ee)&&tu(e,t,Ee,void 0,n,A);for(U in n)A=n[U],R=a[U],!n.hasOwnProperty(U)||A===R||A===void 0&&R===void 0||tu(e,t,U,A,n,R);return}}for(var E in a)A=a[E],a.hasOwnProperty(E)&&A!=null&&!n.hasOwnProperty(E)&&ke(e,t,E,null,n,A);for(B in n)A=n[B],R=a[B],!n.hasOwnProperty(B)||A===R||A==null&&R==null||ke(e,t,B,A,n,R)}var au=null,nu=null;function Ds(e){return e.nodeType===9?e:e.ownerDocument}function jh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ah(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=null;function oy(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var Oh=typeof setTimeout=="function"?setTimeout:void 0,uy=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,cy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(dy)}:Oh;function dy(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function Dh(e,t){var a=t,n=0,r=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(0<n&&8>n){a=n;var h=e.ownerDocument;if(a&1&&ul(h.documentElement),a&2&&ul(h.body),a&4)for(a=h.head,ul(a),h=a.firstChild;h;){var v=h.nextSibling,_=h.nodeName;h[ki]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}if(r===0){e.removeChild(u),vl(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=u}while(a);vl(t)}function su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":su(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fy(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[ki])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function hy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function ru(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gy(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ou=null;function Ch(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Nh(e,t,a){switch(t=Ds(a),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ul(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cr(e)}var Lt=new Map,Uh=new Set;function Cs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=Q.d;Q.d={f:my,r:yy,D:vy,C:py,L:by,m:wy,X:xy,S:_y,M:Sy};function my(){var e=ha.f(),t=Ss();return e||t}function yy(e){var t=kn(e);t!==null&&t.tag===5&&t.type==="form"?Fd(t):ha.r(e)}var ii=typeof document>"u"?null:document;function Mh(e,t,a){var n=ii;if(n&&typeof t=="string"&&t){var r=Dt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Uh.has(r)||(Uh.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),nt(t,"link",e),Ze(t),n.head.appendChild(t)))}}function vy(e){ha.D(e),Mh("dns-prefetch",e,null)}function py(e,t){ha.C(e,t),Mh("preconnect",e,t)}function by(e,t,a){ha.L(e,t,a);var n=ii;if(n&&e&&t){var r='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Dt(a.imageSizes)+'"]')):r+='[href="'+Dt(e)+'"]';var u=r;switch(t){case"style":u=li(e);break;case"script":u=si(e)}Lt.has(u)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Lt.set(u,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(cl(u))||t==="script"&&n.querySelector(dl(u))||(t=n.createElement("link"),nt(t,"link",e),Ze(t),n.head.appendChild(t)))}}function wy(e,t){ha.m(e,t);var a=ii;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Dt(n)+'"][href="'+Dt(e)+'"]',u=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=si(e)}if(!Lt.has(u)&&(e=p({rel:"modulepreload",href:e},t),Lt.set(u,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(u)))return}n=a.createElement("link"),nt(n,"link",e),Ze(n),a.head.appendChild(n)}}}function _y(e,t,a){ha.S(e,t,a);var n=ii;if(n&&e){var r=En(n).hoistableStyles,u=li(e);t=t||"default";var h=r.get(u);if(!h){var v={loading:0,preload:null};if(h=n.querySelector(cl(u)))v.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Lt.get(u))&&uu(e,a);var _=h=n.createElement("link");Ze(_),nt(_,"link",e),_._p=new Promise(function(j,U){_.onload=j,_.onerror=U}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ns(h,t,n)}h={type:"stylesheet",instance:h,count:1,state:v},r.set(u,h)}}}function xy(e,t){ha.X(e,t);var a=ii;if(a&&e){var n=En(a).hoistableScripts,r=si(e),u=n.get(r);u||(u=a.querySelector(dl(r)),u||(e=p({src:e,async:!0},t),(t=Lt.get(r))&&cu(e,t),u=a.createElement("script"),Ze(u),nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(r,u))}}function Sy(e,t){ha.M(e,t);var a=ii;if(a&&e){var n=En(a).hoistableScripts,r=si(e),u=n.get(r);u||(u=a.querySelector(dl(r)),u||(e=p({src:e,async:!0,type:"module"},t),(t=Lt.get(r))&&cu(e,t),u=a.createElement("script"),Ze(u),nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(r,u))}}function zh(e,t,a,n){var r=(r=L.current)?Cs(r):null;if(!r)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=li(a.href),a=En(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=li(a.href);var u=En(r).hoistableStyles,h=u.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=r.querySelector(cl(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Lt.set(e,a),u||ky(r,e,a,h.state))),t&&n===null)throw Error(s(528,""));return h}if(t&&n!==null)throw Error(s(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=si(a),a=En(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function li(e){return'href="'+Dt(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function qh(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function ky(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),nt(t,"link",a),Ze(t),e.head.appendChild(t))}function si(e){return'[src="'+Dt(e)+'"]'}function dl(e){return"script[async]"+e}function Lh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(n)return t.instance=n,Ze(n),n;var r=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ze(n),nt(n,"style",r),Ns(n,a.precedence,e),t.instance=n;case"stylesheet":r=li(a.href);var u=e.querySelector(cl(r));if(u)return t.state.loading|=4,t.instance=u,Ze(u),u;n=qh(a),(r=Lt.get(r))&&uu(n,r),u=(e.ownerDocument||e).createElement("link"),Ze(u);var h=u;return h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),nt(u,"link",n),t.state.loading|=4,Ns(u,a.precedence,e),t.instance=u;case"script":return u=si(a.src),(r=e.querySelector(dl(u)))?(t.instance=r,Ze(r),r):(n=a,(r=Lt.get(u))&&(n=p({},a),cu(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ze(r),nt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ns(n,a.precedence,e));return t.instance}function Ns(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,u=r,h=0;h<n.length;h++){var v=n[h];if(v.dataset.precedence===t)u=v;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Us=null;function Bh(e,t,a){if(Us===null){var n=new Map,r=Us=new Map;r.set(a,n)}else r=Us,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var u=a[r];if(!(u[ki]||u[lt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=n.get(h);v?v.push(u):n.set(h,[u])}}return n}function Hh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ey(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $h(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var fl=null;function Ty(){}function jy(e,t,a){if(fl===null)throw Error(s(475));var n=fl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=li(a.href),u=e.querySelector(cl(r));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ms.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=u,Ze(u);return}u=e.ownerDocument||e,a=qh(a),(r=Lt.get(r))&&uu(a,r),u=u.createElement("link"),Ze(u);var h=u;h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),nt(u,"link",a),t.instance=u}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ms.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ay(){if(fl===null)throw Error(s(475));var e=fl;return e.stylesheets&&e.count===0&&du(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&du(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ms(){if(this.count--,this.count===0){if(this.stylesheets)du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zs=null;function du(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zs=new Map,t.forEach(Oy,e),zs=null,Ms.call(e))}function Oy(e,t){if(!(t.state.loading&4)){var a=zs.get(e);if(a)var n=a.get(null);else{a=new Map,zs.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var h=r[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),n=h)}n&&a.set(null,n)}r=t.instance,h=r.getAttribute("data-precedence"),u=a.get(h)||n,u===n&&a.set(null,r),a.set(h,r),this.count++,n=Ms.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var hl={$$typeof:N,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Ry(e,t,a,n,r,u,h,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.hiddenUpdates=Nl(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Gh(e,t,a,n,r,u,h,v,_,j,U,B){return e=new Ry(e,t,a,h,v,_,j,B),t=1,u===!0&&(t|=24),u=xt(3,null,null,t),e.current=u,u.stateNode=e,t=Xr(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:a,cache:t},Jr(u),e}function Yh(e){return e?(e=qn,e):qn}function Vh(e,t,a,n,r,u){r=Yh(r),n.context===null?n.context=r:n.pendingContext=r,n=ka(t),n.payload={element:a},u=u===void 0?null:u,u!==null&&(n.callback=u),a=Ea(e,n,t),a!==null&&(jt(a,e,t),Yi(a,e,t))}function Xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fu(e,t){Xh(e,t),(e=e.alternate)&&Xh(e,t)}function Qh(e){if(e.tag===13){var t=zn(e,67108864);t!==null&&jt(t,e,67108864),fu(e,67108864)}}var qs=!0;function Dy(e,t,a,n){var r=C.T;C.T=null;var u=Q.p;try{Q.p=2,hu(e,t,a,n)}finally{Q.p=u,C.T=r}}function Cy(e,t,a,n){var r=C.T;C.T=null;var u=Q.p;try{Q.p=8,hu(e,t,a,n)}finally{Q.p=u,C.T=r}}function hu(e,t,a,n){if(qs){var r=gu(n);if(r===null)eu(e,t,n,Ls,a),Kh(e,n);else if(Uy(r,e,t,a,n))n.stopPropagation();else if(Kh(e,n),t&4&&-1<Ny.indexOf(e)){for(;r!==null;){var u=kn(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=oe(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var _=1<<31-ct(h);v.entanglements[1]|=_,h&=~_}Pt(u),(we&6)===0&&(_s=Ot()+500,sl(0))}}break;case 13:v=zn(u,2),v!==null&&jt(v,u,2),Ss(),fu(u,2)}if(u=gu(n),u===null&&eu(e,t,n,Ls,a),u===r)break;r=u}r!==null&&n.stopPropagation()}else eu(e,t,n,null,a)}}function gu(e){return e=pr(e),mu(e)}var Ls=null;function mu(e){if(Ls=null,e=Sn(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ls=e,null}function Zh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wn()){case Za:return 2;case Rl:return 8;case Ka:case ar:return 32;case Dl:return 268435456;default:return 32}default:return 32}}var yu=!1,La=null,Ba=null,Ha=null,gl=new Map,ml=new Map,$a=[],Ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kh(e,t){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function yl(e,t,a,n,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:u,targetContainers:[r]},t!==null&&(t=kn(t),t!==null&&Qh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Uy(e,t,a,n,r){switch(t){case"focusin":return La=yl(La,e,t,a,n,r),!0;case"dragenter":return Ba=yl(Ba,e,t,a,n,r),!0;case"mouseover":return Ha=yl(Ha,e,t,a,n,r),!0;case"pointerover":var u=r.pointerId;return gl.set(u,yl(gl.get(u)||null,e,t,a,n,r)),!0;case"gotpointercapture":return u=r.pointerId,ml.set(u,yl(ml.get(u)||null,e,t,a,n,r)),!0}return!1}function Jh(e){var t=Sn(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,j0(e.priority,function(){if(a.tag===13){var n=Tt();n=rr(n);var r=zn(a,n);r!==null&&jt(r,a,n),fu(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=gu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);vr=n,a.target.dispatchEvent(n),vr=null}else return t=kn(a),t!==null&&Qh(t),e.blockedOn=a,!1;t.shift()}return!0}function Ih(e,t,a){Bs(e)&&a.delete(t)}function My(){yu=!1,La!==null&&Bs(La)&&(La=null),Ba!==null&&Bs(Ba)&&(Ba=null),Ha!==null&&Bs(Ha)&&(Ha=null),gl.forEach(Ih),ml.forEach(Ih)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,yu||(yu=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,My)))}var $s=null;function Ph(e){$s!==e&&($s=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){$s===e&&($s=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(mu(n||a)===null)continue;break}var u=kn(a);u!==null&&(e.splice(t,3),t-=3,mo(u,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function vl(e){function t(_){return Hs(_,e)}La!==null&&Hs(La,e),Ba!==null&&Hs(Ba,e),Ha!==null&&Hs(Ha,e),gl.forEach(t),ml.forEach(t);for(var a=0;a<$a.length;a++){var n=$a[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<$a.length&&(a=$a[0],a.blockedOn===null);)Jh(a),a.blockedOn===null&&$a.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],u=a[n+1],h=r[gt]||null;if(typeof u=="function")h||Ph(a);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(r=u,h=u[gt]||null)v=h.formAction;else if(mu(r)!==null)continue}else v=h.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),Ph(a)}}}function vu(e){this._internalRoot=e}Gs.prototype.render=vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var a=t.current,n=Tt();Vh(a,n,e,t,null,null)},Gs.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vh(e.current,2,null,e,null,null),Ss(),t[xn]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=hc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<$a.length&&t!==0&&t<$a[a].priority;a++);$a.splice(a,0,e),a===0&&Jh(e)}};var Wh=i.version;if(Wh!=="19.1.0")throw Error(s(527,Wh,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var zy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{Ja=Ys.inject(zy),ut=Ys}catch{}}return bl.createRoot=function(e,t){if(!o(e))throw Error(s(299));var a=!1,n="",r=gf,u=mf,h=yf,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Gh(e,1,!1,null,null,a,n,r,u,h,v,null),e[xn]=t.current,Fo(e),new vu(t)},bl.hydrateRoot=function(e,t,a){if(!o(e))throw Error(s(299));var n=!1,r="",u=gf,h=mf,v=yf,_=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),t=Gh(e,1,!0,t,a??null,n,r,u,h,v,_,j),t.context=Yh(null),a=t.current,n=Tt(),n=rr(n),r=ka(n),r.callback=null,Ea(a,r,n),a=n,t.current.lanes=a,ba(t,a),Pt(t),e[xn]=t.current,Fo(e),new Gs(t)},bl.version="19.1.0",bl}var ug;function Jy(){if(ug)return wu.exports;ug=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(i){console.error(i)}}return d(),wu.exports=Ky(),wu.exports}var Iy=Jy();const Py="modulepreload",Wy=function(d){return"/"+d},cg={},Al=function(i,l,s){let o=Promise.resolve();if(l&&l.length>0){let f=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(l.map(g=>{if(g=Wy(g),g in cg)return;cg[g]=!0;const p=g.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const k=document.createElement("link");if(k.rel=p?"stylesheet":Py,p||(k.as="script"),k.crossOrigin="",k.href=g,y&&k.setAttribute("nonce",y),document.head.appendChild(k),p)return new Promise((O,H)=>{k.addEventListener("load",O),k.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return i().catch(c)})},Fy=d=>{let i;return d?i=d:typeof fetch>"u"?i=(...l)=>Al(async()=>{const{default:s}=await Promise.resolve().then(()=>_i);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)};class sc extends Error{constructor(i,l="FunctionsError",s){super(i),this.name=l,this.context=s}}class ev extends sc{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class tv extends sc{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class av extends sc{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Zu;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(Zu||(Zu={}));var nv=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};class iv{constructor(i,{headers:l={},customFetch:s,region:o=Zu.Any}={}){this.url=i,this.headers=l,this.region=o,this.fetch=Fy(s)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,l={}){var s;return nv(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:f}=l;let m={},{region:y}=l;y||(y=this.region),y&&y!=="any"&&(m["x-region"]=y);let g;f&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=f):typeof f=="string"?(m["Content-Type"]="text/plain",g=f):typeof FormData<"u"&&f instanceof FormData?g=f:(m["Content-Type"]="application/json",g=JSON.stringify(f)));const p=yield this.fetch(`${this.url}/${i}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:g}).catch(H=>{throw new ev(H)}),w=p.headers.get("x-relay-error");if(w&&w==="true")throw new tv(p);if(!p.ok)throw new av(p);let k=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return k==="application/json"?O=yield p.json():k==="application/octet-stream"?O=yield p.blob():k==="text/event-stream"?O=p:k==="multipart/form-data"?O=yield p.formData():O=yield p.text(),{data:O,error:null}}catch(o){return{data:null,error:o}}})}}var Pe={},ri={},oi={},ui={},ci={},di={},lv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wi=lv();const sv=wi.fetch,s0=wi.fetch.bind(wi),r0=wi.Headers,rv=wi.Request,ov=wi.Response,_i=Object.freeze(Object.defineProperty({__proto__:null,Headers:r0,Request:rv,Response:ov,default:s0,fetch:sv},Symbol.toStringTag,{value:"Module"})),uv=Hy(_i);var Vs={},dg;function o0(){if(dg)return Vs;dg=1,Object.defineProperty(Vs,"__esModule",{value:!0});class d extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Vs.default=d,Vs}var fg;function u0(){if(fg)return di;fg=1;var d=di&&di.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(di,"__esModule",{value:!0});const i=d(uv),l=d(o0());class s{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let y=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,w,k;let O=null,H=null,X=null,q=g.status,V=g.statusText;if(g.ok){if(this.method!=="HEAD"){const $=await g.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?H=$:H=JSON.parse($))}const N=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),M=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");N&&M&&M.length>1&&(X=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(H)&&(H.length>1?(O={code:"PGRST116",details:`Results contain ${H.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},H=null,X=null,q=406,V="Not Acceptable"):H.length===1?H=H[0]:H=null)}else{const N=await g.text();try{O=JSON.parse(N),Array.isArray(O)&&g.status===404&&(H=[],O=null,q=200,V="OK")}catch{g.status===404&&N===""?(q=204,V="No Content"):O={message:N}}if(O&&this.isMaybeSingle&&(!((k=O==null?void 0:O.details)===null||k===void 0)&&k.includes("0 rows"))&&(O=null,q=200,V="OK"),O&&this.shouldThrowOnError)throw new l.default(O)}return{error:O,data:H,count:X,status:q,statusText:V}});return this.shouldThrowOnError||(y=y.catch(g=>{var p,w,k;return{error:{message:`${(p=g==null?void 0:g.name)!==null&&p!==void 0?p:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(w=g==null?void 0:g.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(k=g==null?void 0:g.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),y.then(c,f)}returns(){return this}overrideTypes(){return this}}return di.default=s,di}var hg;function c0(){if(hg)return ci;hg=1;var d=ci&&ci.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ci,"__esModule",{value:!0});const i=d(u0());class l extends i.default{select(o){let c=!1;const f=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:f,foreignTable:m,referencedTable:y=m}={}){const g=y?`${y}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${o}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:f,referencedTable:m=f}={}){const y=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(y,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:f=!1,buffers:m=!1,wal:y=!1,format:g="text"}={}){var p;const w=[o?"analyze":null,c?"verbose":null,f?"settings":null,m?"buffers":null,y?"wal":null].filter(Boolean).join("|"),k=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${k}"; options=${w};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ci.default=l,ci}var gg;function rc(){if(gg)return ui;gg=1;var d=ui&&ui.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ui,"__esModule",{value:!0});const i=d(c0());class l extends i.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const f=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:f,type:m}={}){let y="";m==="plain"?y="pl":m==="phrase"?y="ph":m==="websearch"&&(y="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${y}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(o,c,f){return this.url.searchParams.append(o,`not.${c}.${f}`),this}or(o,{foreignTable:c,referencedTable:f=c}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,c,f){return this.url.searchParams.append(o,`${c}.${f}`),this}}return ui.default=l,ui}var mg;function d0(){if(mg)return oi;mg=1;var d=oi&&oi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(oi,"__esModule",{value:!0});const i=d(rc());class l{constructor(o,{headers:c={},schema:f,fetch:m}){this.url=o,this.headers=c,this.schema=f,this.fetch=m}select(o,{head:c=!1,count:f}={}){const m=c?"HEAD":"GET";let y=!1;const g=(o??"*").split("").map(p=>/\s/.test(p)&&!y?"":(p==='"'&&(y=!y),p)).join("");return this.url.searchParams.set("select",g),f&&(this.headers.Prefer=`count=${f}`),new i.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:f=!0}={}){const m="POST",y=[];if(this.headers.Prefer&&y.push(this.headers.Prefer),c&&y.push(`count=${c}`),f||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const g=o.reduce((p,w)=>p.concat(Object.keys(w)),[]);if(g.length>0){const p=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",p.join(","))}}return new i.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:f=!1,count:m,defaultToNull:y=!0}={}){const g="POST",p=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&p.push(this.headers.Prefer),m&&p.push(`count=${m}`),y||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const w=o.reduce((k,O)=>k.concat(Object.keys(O)),[]);if(w.length>0){const k=[...new Set(w)].map(O=>`"${O}"`);this.url.searchParams.set("columns",k.join(","))}}return new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const f="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),this.headers.Prefer=m.join(","),new i.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",f=[];return o&&f.push(`count=${o}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new i.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return oi.default=l,oi}var wl={},_l={},yg;function cv(){return yg||(yg=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.version=void 0,_l.version="0.0.0-automated"),_l}var vg;function dv(){if(vg)return wl;vg=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.DEFAULT_HEADERS=void 0;const d=cv();return wl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${d.version}`},wl}var pg;function fv(){if(pg)return ri;pg=1;var d=ri&&ri.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ri,"__esModule",{value:!0});const i=d(d0()),l=d(rc()),s=dv();class o{constructor(f,{headers:m={},schema:y,fetch:g}={}){this.url=f,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),m),this.schemaName=y,this.fetch=g}from(f){const m=new URL(`${this.url}/${f}`);return new i.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new o(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:y=!1,get:g=!1,count:p}={}){let w;const k=new URL(`${this.url}/rpc/${f}`);let O;y||g?(w=y?"HEAD":"GET",Object.entries(m).filter(([X,q])=>q!==void 0).map(([X,q])=>[X,Array.isArray(q)?`{${q.join(",")}}`:`${q}`]).forEach(([X,q])=>{k.searchParams.append(X,q)})):(w="POST",O=m);const H=Object.assign({},this.headers);return p&&(H.Prefer=`count=${p}`),new l.default({method:w,url:k,headers:H,schema:this.schemaName,body:O,fetch:this.fetch,allowEmpty:!1})}}return ri.default=o,ri}var bg;function hv(){if(bg)return Pe;bg=1;var d=Pe&&Pe.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const i=d(fv());Pe.PostgrestClient=i.default;const l=d(d0());Pe.PostgrestQueryBuilder=l.default;const s=d(rc());Pe.PostgrestFilterBuilder=s.default;const o=d(c0());Pe.PostgrestTransformBuilder=o.default;const c=d(u0());Pe.PostgrestBuilder=c.default;const f=d(o0());return Pe.PostgrestError=f.default,Pe.default={PostgrestClient:i.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:f.default},Pe}var gv=hv();const mv=ic(gv),{PostgrestClient:yv,PostgrestQueryBuilder:ww,PostgrestFilterBuilder:_w,PostgrestTransformBuilder:xw,PostgrestBuilder:Sw,PostgrestError:kw}=mv;let Ku;typeof window>"u"?Ku=require("ws"):Ku=window.WebSocket;const vv="2.11.10",pv={"X-Client-Info":`realtime-js/${vv}`},bv="1.0.0",f0=1e4,wv=1e3;var bi;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(bi||(bi={}));var ft;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(ft||(ft={}));var Xt;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(Xt||(Xt={}));var Ju;(function(d){d.websocket="websocket"})(Ju||(Ju={}));var vn;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(vn||(vn={}));class _v{constructor(){this.HEADER_LENGTH=1}decode(i,l){return i.constructor===ArrayBuffer?l(this._binaryDecode(i)):l(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const l=new DataView(i),s=new TextDecoder;return this._decodeBroadcast(i,l,s)}_decodeBroadcast(i,l,s){const o=l.getUint8(1),c=l.getUint8(2);let f=this.HEADER_LENGTH+2;const m=s.decode(i.slice(f,f+o));f=f+o;const y=s.decode(i.slice(f,f+c));f=f+c;const g=JSON.parse(s.decode(i.slice(f,i.byteLength)));return{ref:null,topic:m,event:y,payload:g}}}class h0{constructor(i,l){this.callback=i,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(Oe||(Oe={}));const wg=(d,i,l={})=>{var s;const o=(s=l.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(i).reduce((c,f)=>(c[f]=xv(f,d,i,o),c),{})},xv=(d,i,l,s)=>{const o=i.find(m=>m.name===d),c=o==null?void 0:o.type,f=l[d];return c&&!s.includes(c)?g0(c,f):Iu(f)},g0=(d,i)=>{if(d.charAt(0)==="_"){const l=d.slice(1,d.length);return Tv(i,l)}switch(d){case Oe.bool:return Sv(i);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return kv(i);case Oe.json:case Oe.jsonb:return Ev(i);case Oe.timestamp:return jv(i);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Iu(i);default:return Iu(i)}},Iu=d=>d,Sv=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},kv=d=>{if(typeof d=="string"){const i=parseFloat(d);if(!Number.isNaN(i))return i}return d},Ev=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(i){return console.log(`JSON parse error: ${i}`),d}return d},Tv=(d,i)=>{if(typeof d!="string")return d;const l=d.length-1,s=d[l];if(d[0]==="{"&&s==="}"){let c;const f=d.slice(1,l);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>g0(i,m))}return d},jv=d=>typeof d=="string"?d.replace(" ","T"):d,m0=d=>{let i=d;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class ku{constructor(i,l,s={},o=f0){this.channel=i,this.event=l,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,l){var s;return this._hasReceived(i)&&l((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:i,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:l}){this.recHooks.filter(s=>s.status===i).forEach(s=>s.callback(l))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var _g;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(_g||(_g={}));class kl{constructor(i,l){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,o,c,f),this.pendingDiffs.forEach(y=>{this.state=kl.syncDiff(this.state,y,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=kl.syncDiff(this.state,o,c,f),m())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,l,s,o){const c=this.cloneDeep(i),f=this.transformState(l),m={},y={};return this.map(c,(g,p)=>{f[g]||(y[g]=p)}),this.map(f,(g,p)=>{const w=c[g];if(w){const k=p.map(q=>q.presence_ref),O=w.map(q=>q.presence_ref),H=p.filter(q=>O.indexOf(q.presence_ref)<0),X=w.filter(q=>k.indexOf(q.presence_ref)<0);H.length>0&&(m[g]=H),X.length>0&&(y[g]=X)}else m[g]=p}),this.syncDiff(c,{joins:m,leaves:y},s,o)}static syncDiff(i,l,s,o){const{joins:c,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(m,y)=>{var g;const p=(g=i[m])!==null&&g!==void 0?g:[];if(i[m]=this.cloneDeep(y),p.length>0){const w=i[m].map(O=>O.presence_ref),k=p.filter(O=>w.indexOf(O.presence_ref)<0);i[m].unshift(...k)}s(m,p,y)}),this.map(f,(m,y)=>{let g=i[m];if(!g)return;const p=y.map(w=>w.presence_ref);g=g.filter(w=>p.indexOf(w.presence_ref)<0),i[m]=g,o(m,g,y),g.length===0&&delete i[m]}),i}static map(i,l){return Object.getOwnPropertyNames(i).map(s=>l(s,i[s]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((l,s)=>{const o=i[s];return"metas"in o?l[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):l[s]=o,l},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(xg||(xg={}));var Sg;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(Sg||(Sg={}));var ya;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(ya||(ya={}));class oc{constructor(i,l={config:{}},s){this.topic=i,this.params=l,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new ku(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new h0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new kl(this),this.broadcastEndpointURL=m0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,l=this.timeout){var s,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:f,private:m}}=this.params;this._onError(p=>i==null?void 0:i(ya.CHANNEL_ERROR,p)),this._onClose(()=>i==null?void 0:i(ya.CLOSED));const y={},g={broadcast:c,presence:f,postgres_changes:(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},y)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){i==null||i(ya.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,O=(w=k==null?void 0:k.length)!==null&&w!==void 0?w:0,H=[];for(let X=0;X<O;X++){const q=k[X],{filter:{event:V,schema:J,table:N,filter:M}}=q,$=p&&p[X];if($&&$.event===V&&$.schema===J&&$.table===N&&$.filter===M)H.push(Object.assign(Object.assign({},q),{id:$.id}));else{this.unsubscribe(),this.state=ft.errored,i==null||i(ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,i&&i(ya.SUBSCRIBED);return}}).receive("error",p=>{this.state=ft.errored,i==null||i(ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{i==null||i(ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,l={}){return await this.send({type:"presence",event:"track",payload:i},l.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,l,s){return this._on(i,l,s)}async send(i,l={}){var s,o;if(!this._canPush()&&i.type==="broadcast"){const{event:c,payload:f}=i,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=l.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,y;const g=this._push(i.type,i,l.timeout||this.timeout);i.type==="broadcast"&&!(!((y=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=ft.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(s=>{const o=new ku(this,Xt.leave,{},i);o.receive("ok",()=>{l(),s("ok")}).receive("timeout",()=>{l(),s("timed out")}).receive("error",()=>{s("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(i,l,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(i,Object.assign(Object.assign({},l),{signal:o.signal}));return clearTimeout(c),f}_push(i,l,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ku(this,i,l,s);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(i,l,s){return l}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,l,s){var o,c;const f=i.toLocaleLowerCase(),{close:m,error:y,leave:g,join:p}=Xt;if(s&&[m,y,g,p].indexOf(f)>=0&&s!==this._joinRef())return;let k=this._onMessage(f,l,s);if(l&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(O=>{var H,X,q;return((H=O.filter)===null||H===void 0?void 0:H.event)==="*"||((q=(X=O.filter)===null||X===void 0?void 0:X.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===f}).map(O=>O.callback(k,s)):(c=this.bindings[f])===null||c===void 0||c.filter(O=>{var H,X,q,V,J,N;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const M=O.id,$=(H=O.filter)===null||H===void 0?void 0:H.event;return M&&((X=l.ids)===null||X===void 0?void 0:X.includes(M))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((q=l.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))}else{const M=(J=(V=O==null?void 0:O.filter)===null||V===void 0?void 0:V.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return M==="*"||M===((N=l==null?void 0:l.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof k=="object"&&"ids"in k){const H=k.data,{schema:X,table:q,commit_timestamp:V,type:J,errors:N}=H;k=Object.assign(Object.assign({},{schema:X,table:q,commit_timestamp:V,eventType:J,new:{},old:{},errors:N}),this._getPayloadRecords(H))}O.callback(k,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,l,s){const o=i.toLocaleLowerCase(),c={type:o,filter:l,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(i,l){const s=i.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&oc.isEqual(o.filter,l))}),this}static isEqual(i,l){if(Object.keys(i).length!==Object.keys(l).length)return!1;for(const s in i)if(i[s]!==l[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Xt.close,{},i)}_onError(i){this._on(Xt.error,{},l=>i(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const l={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(l.new=wg(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(l.old=wg(i.columns,i.old_record)),l}}const kg=()=>{},Av=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ov{constructor(i,l){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=pv,this.params={},this.timeout=f0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kg,this.ref=0,this.logger=kg,this.conn=null,this.sendBuffer=[],this.serializer=new _v,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...m)=>Al(async()=>{const{default:y}=await Promise.resolve().then(()=>_i);return{default:y}},void 0).then(({default:y})=>y(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${i}/${Ju.websocket}`,this.httpEndpoint=m0(i),l!=null&&l.transport?this.transport=l.transport:this.transport=null,l!=null&&l.params&&(this.params=l.params),l!=null&&l.headers&&(this.headers=Object.assign(Object.assign({},this.headers),l.headers)),l!=null&&l.timeout&&(this.timeout=l.timeout),l!=null&&l.logger&&(this.logger=l.logger),(l!=null&&l.logLevel||l!=null&&l.log_level)&&(this.logLevel=l.logLevel||l.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),l!=null&&l.heartbeatIntervalMs&&(this.heartbeatIntervalMs=l.heartbeatIntervalMs);const o=(s=l==null?void 0:l.params)===null||s===void 0?void 0:s.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=l!=null&&l.reconnectAfterMs?l.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=l!=null&&l.encode?l.encode:(c,f)=>f(JSON.stringify(c)),this.decode=l!=null&&l.decode?l.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new h0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(l==null?void 0:l.fetch),l!=null&&l.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(l==null?void 0:l.worker)||!1,this.workerUrl=l==null?void 0:l.workerUrl}this.accessToken=(l==null?void 0:l.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ku),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Rv(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bv}))}disconnect(i,l){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,l??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(i){const l=await i.unsubscribe();return this.channels=this.channels.filter(s=>s._joinRef!==i._joinRef),this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const i=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,l,s){this.logger(i,l,s)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return vn.Connecting;case bi.open:return vn.Open;case bi.closing:return vn.Closing;default:return vn.Closed}}isConnected(){return this.connectionState()===vn.Open}channel(i,l={config:{}}){const s=`realtime:${i}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new oc(`realtime:${i}`,l,this);return this.channels.push(c),c}}push(i){const{topic:l,event:s,payload:o,ref:c}=i,f=()=>{this.encode(i,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${l} ${s} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(i=null){let l=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(s=>{l&&s.updateJoinPayload({access_token:l,version:this.headers&&this.headers["X-Client-Info"]}),s.joinedOnce&&s._isJoined()&&s._push(Xt.access_token,{access_token:l})}))}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(i=this.conn)===null||i===void 0||i.close(wv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let l=this.channels.find(s=>s.topic===i&&(s._isJoined()||s._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${i}"`),l.unsubscribe())}_remove(i){this.channels=this.channels.filter(l=>l.topic!==i.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,l=>{let{topic:s,event:o,payload:c,ref:f}=l;s==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(l.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${s} ${o} ${f&&"("+f+")"||""}`,c),Array.from(this.channels).filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,c,f)),this.stateChangeCallbacks.message.forEach(m=>m(l))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(l=>l(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(l=>l(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Xt.error))}_appendParams(i,l){if(Object.keys(l).length===0)return i;const s=i.match(/\?/)?"&":"?",o=new URLSearchParams(l);return`${i}${s}${o}`}_workerObjectUrl(i){let l;if(i)l=i;else{const s=new Blob([Av],{type:"application/javascript"});l=URL.createObjectURL(s)}return l}}class Rv{constructor(i,l,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bi.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=s.close}}class uc extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function We(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class Dv extends uc{constructor(i,l){super(i),this.name="StorageApiError",this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pu extends uc{constructor(i,l){super(i),this.name="StorageUnknownError",this.originalError=l}}var Cv=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};const y0=d=>{let i;return d?i=d:typeof fetch>"u"?i=(...l)=>Al(async()=>{const{default:s}=await Promise.resolve().then(()=>_i);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)},Nv=()=>Cv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Al(()=>Promise.resolve().then(()=>_i),void 0)).Response:Response}),Wu=d=>{if(Array.isArray(d))return d.map(l=>Wu(l));if(typeof d=="function"||d!==Object(d))return d;const i={};return Object.entries(d).forEach(([l,s])=>{const o=l.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));i[o]=Wu(s)}),i};var pn=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};const Eu=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Uv=(d,i,l)=>pn(void 0,void 0,void 0,function*(){const s=yield Nv();d instanceof s&&!(l!=null&&l.noResolveJson)?d.json().then(o=>{i(new Dv(Eu(o),d.status||500))}).catch(o=>{i(new Pu(Eu(o),o))}):i(new Pu(Eu(d),d))}),Mv=(d,i,l,s)=>{const o={method:d,headers:(i==null?void 0:i.headers)||{}};return d==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),s&&(o.body=JSON.stringify(s)),Object.assign(Object.assign({},o),l))};function Ol(d,i,l,s,o,c){return pn(this,void 0,void 0,function*(){return new Promise((f,m)=>{d(l,Mv(i,s,o,c)).then(y=>{if(!y.ok)throw y;return s!=null&&s.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>Uv(y,m,s))})})}function Ps(d,i,l,s){return pn(this,void 0,void 0,function*(){return Ol(d,"GET",i,l,s)})}function Va(d,i,l,s,o){return pn(this,void 0,void 0,function*(){return Ol(d,"POST",i,s,o,l)})}function zv(d,i,l,s,o){return pn(this,void 0,void 0,function*(){return Ol(d,"PUT",i,s,o,l)})}function qv(d,i,l,s){return pn(this,void 0,void 0,function*(){return Ol(d,"HEAD",i,Object.assign(Object.assign({},l),{noResolveJson:!0}),s)})}function v0(d,i,l,s,o){return pn(this,void 0,void 0,function*(){return Ol(d,"DELETE",i,s,o,l)})}var bt=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};const Lv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bv{constructor(i,l={},s,o){this.url=i,this.headers=l,this.bucketId=s,this.fetch=y0(o)}uploadOrUpdate(i,l,s,o){return bt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Eg),o);let m=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),y&&c.append("metadata",this.encodeMetadata(y)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",f.cacheControl),y&&c.append("metadata",this.encodeMetadata(y))):(c=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,y&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const g=this._removeEmptyFolders(l),p=this._getFinalPath(g),w=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:i,body:c,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{})),k=yield w.json();return w.ok?{data:{path:g,id:k.Id,fullPath:k.Key},error:null}:{data:null,error:k}}catch(c){if(We(c))return{data:null,error:c};throw c}})}upload(i,l,s){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,l,s)})}uploadToSignedUrl(i,l,s,o){return bt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(i),f=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",l);try{let y;const g=Object.assign({upsert:Eg.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",g.cacheControl)):(y=s,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const w=yield this.fetch(m.toString(),{method:"PUT",body:y,headers:p}),k=yield w.json();return w.ok?{data:{path:c,fullPath:k.Key},error:null}:{data:null,error:k}}catch(y){if(We(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(i,l){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const o=Object.assign({},this.headers);l!=null&&l.upsert&&(o["x-upsert"]="true");const c=yield Va(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(this.url+c.url),m=f.searchParams.get("token");if(!m)throw new uc("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:m},error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}update(i,l,s){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,l,s)})}move(i,l,s){return bt(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:l,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}copy(i,l,s){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:l,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}createSignedUrl(i,l,s){return bt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(i),c=yield Va(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:l},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}createSignedUrls(i,l,s){return bt(this,void 0,void 0,function*(){try{const o=yield Va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:i},{headers:this.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}download(i,l){return bt(this,void 0,void 0,function*(){const o=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),f=c?`?${c}`:"";try{const m=this._getFinalPath(i);return{data:yield(yield Ps(this.fetch,`${this.url}/${o}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(We(m))return{data:null,error:m};throw m}})}info(i){return bt(this,void 0,void 0,function*(){const l=this._getFinalPath(i);try{const s=yield Ps(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:Wu(s),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}exists(i){return bt(this,void 0,void 0,function*(){const l=this._getFinalPath(i);try{return yield qv(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(We(s)&&s instanceof Pu){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(i,l){const s=this._getFinalPath(i),o=[],c=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";c!==""&&o.push(c);const m=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});y!==""&&o.push(y);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${s}${g}`)}}}remove(i){return bt(this,void 0,void 0,function*(){try{return{data:yield v0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}list(i,l,s){return bt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Lv),l),{prefix:i||""});return{data:yield Va(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const l=[];return i.width&&l.push(`width=${i.width}`),i.height&&l.push(`height=${i.height}`),i.resize&&l.push(`resize=${i.resize}`),i.format&&l.push(`format=${i.format}`),i.quality&&l.push(`quality=${i.quality}`),l.join("&")}}const Hv="2.7.1",$v={"X-Client-Info":`storage-js/${Hv}`};var fi=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};class Gv{constructor(i,l={},s){this.url=i,this.headers=Object.assign(Object.assign({},$v),l),this.fetch=y0(s)}listBuckets(){return fi(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}getBucket(i){return fi(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}createBucket(i,l={public:!1}){return fi(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}updateBucket(i,l){return fi(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}emptyBucket(i){return fi(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}deleteBucket(i){return fi(this,void 0,void 0,function*(){try{return{data:yield v0(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}}class Yv extends Gv{constructor(i,l={},s){super(i,l,s)}from(i){return new Bv(this.url,this.headers,i,this.fetch)}}const Vv="2.50.0";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const Xv={"X-Client-Info":`supabase-js-${Sl}/${Vv}`},Qv={headers:Xv},Zv={schema:"public"},Kv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jv={};var Iv=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};const Pv=d=>{let i;return d?i=d:typeof fetch>"u"?i=s0:i=fetch,(...l)=>i(...l)},Wv=()=>typeof Headers>"u"?r0:Headers,Fv=(d,i,l)=>{const s=Pv(l),o=Wv();return(c,f)=>Iv(void 0,void 0,void 0,function*(){var m;const y=(m=yield i())!==null&&m!==void 0?m:d;let g=new o(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",d),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),s(c,Object.assign(Object.assign({},f),{headers:g}))})};var ep=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};function tp(d){return d.endsWith("/")?d:d+"/"}function ap(d,i){var l,s;const{db:o,auth:c,realtime:f,global:m}=d,{db:y,auth:g,realtime:p,global:w}=i,k={db:Object.assign(Object.assign({},y),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},p),f),global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(l=w==null?void 0:w.headers)!==null&&l!==void 0?l:{}),(s=m==null?void 0:m.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>ep(this,void 0,void 0,function*(){return""})};return d.accessToken?k.accessToken=d.accessToken:delete k.accessToken,k}const p0="2.70.0",pi=30*1e3,Fu=3,Tu=Fu*pi,np="http://localhost:9999",ip="supabase.auth.token",lp={"X-Client-Info":`gotrue-js/${p0}`},ec="X-Supabase-Api-Version",b0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rp=6e5;class cc extends Error{constructor(i,l,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=s}}function le(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}class op extends cc{constructor(i,l,s){super(i,l,s),this.name="AuthApiError",this.status=l,this.code=s}}function up(d){return le(d)&&d.name==="AuthApiError"}class w0 extends cc{constructor(i,l){super(i),this.name="AuthUnknownError",this.originalError=l}}class Qa extends cc{constructor(i,l,s,o){super(i,s,o),this.name=l,this.status=s}}class Ya extends Qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cp(d){return le(d)&&d.name==="AuthSessionMissingError"}class Xs extends Qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends Qa{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends Qa{constructor(i,l=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dp(d){return le(d)&&d.name==="AuthImplicitGrantRedirectError"}class Tg extends Qa{constructor(i,l=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tc extends Qa{constructor(i,l){super(i,"AuthRetryableFetchError",l,void 0)}}function ju(d){return le(d)&&d.name==="AuthRetryableFetchError"}class jg extends Qa{constructor(i,l,s){super(i,"AuthWeakPasswordError",l,"weak_password"),this.reasons=s}}class El extends Qa{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ag=` 	
\r=`.split(""),fp=(()=>{const d=new Array(128);for(let i=0;i<d.length;i+=1)d[i]=-1;for(let i=0;i<Ag.length;i+=1)d[Ag[i].charCodeAt(0)]=-2;for(let i=0;i<Ws.length;i+=1)d[Ws[i].charCodeAt(0)]=i;return d})();function Og(d,i,l){if(d!==null)for(i.queue=i.queue<<8|d,i.queuedBits+=8;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;l(Ws[s]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;l(Ws[s]),i.queuedBits-=6}}function _0(d,i,l){const s=fp[d];if(s>-1)for(i.queue=i.queue<<6|s,i.queuedBits+=6;i.queuedBits>=8;)l(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function Rg(d){const i=[],l=f=>{i.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{mp(f,s,l)};for(let f=0;f<d.length;f+=1)_0(d.charCodeAt(f),o,c);return i.join("")}function hp(d,i){if(d<=127){i(d);return}else if(d<=2047){i(192|d>>6),i(128|d&63);return}else if(d<=65535){i(224|d>>12),i(128|d>>6&63),i(128|d&63);return}else if(d<=1114111){i(240|d>>18),i(128|d>>12&63),i(128|d>>6&63),i(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function gp(d,i){for(let l=0;l<d.length;l+=1){let s=d.charCodeAt(l);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(d.charCodeAt(l+1)-56320&65535|o)+65536,l+=1}hp(s,i)}}function mp(d,i,l){if(i.utf8seq===0){if(d<=127){l(d);return}for(let s=1;s<6;s+=1)if((d>>7-s&1)===0){i.utf8seq=s;break}if(i.utf8seq===2)i.codepoint=d&31;else if(i.utf8seq===3)i.codepoint=d&15;else if(i.utf8seq===4)i.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|d&63,i.utf8seq-=1,i.utf8seq===0&&l(i.codepoint)}}function yp(d){const i=[],l={queue:0,queuedBits:0},s=o=>{i.push(o)};for(let o=0;o<d.length;o+=1)_0(d.charCodeAt(o),l,s);return new Uint8Array(i)}function vp(d){const i=[];return gp(d,l=>i.push(l)),new Uint8Array(i)}function pp(d){const i=[],l={queue:0,queuedBits:0},s=o=>{i.push(o)};return d.forEach(o=>Og(o,l,s)),Og(null,l,s),i.join("")}function bp(d){return Math.round(Date.now()/1e3)+d}function wp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const i=Math.random()*16|0;return(d=="x"?i:i&3|8).toString(16)})}const Vt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},Tl=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function _p(d){const i={},l=new URL(d);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((o,c)=>{i[c]=o})}catch{}return l.searchParams.forEach((s,o)=>{i[o]=s}),i}const x0=d=>{let i;return d?i=d:typeof fetch>"u"?i=(...l)=>Al(async()=>{const{default:s}=await Promise.resolve().then(()=>_i);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)},xp=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",S0=async(d,i,l)=>{await d.setItem(i,JSON.stringify(l))},Ks=async(d,i)=>{const l=await d.getItem(i);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Js=async(d,i)=>{await d.removeItem(i)};class tr{constructor(){this.promise=new tr.promiseConstructor((i,l)=>{this.resolve=i,this.reject=l})}}tr.promiseConstructor=Promise;function Au(d){const i=d.split(".");if(i.length!==3)throw new El("Invalid JWT structure");for(let s=0;s<i.length;s++)if(!sp.test(i[s]))throw new El("JWT not in base64url format");return{header:JSON.parse(Rg(i[0])),payload:JSON.parse(Rg(i[1])),signature:yp(i[2]),raw:{header:i[0],payload:i[1]}}}async function Sp(d){return await new Promise(i=>{setTimeout(()=>i(null),d)})}function kp(d,i){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await d(c);if(!i(c,null,f)){s(f);return}}catch(f){if(!i(c,f)){o(f);return}}})()})}function Ep(d){return("0"+d.toString(16)).substr(-2)}function Tp(){const i=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=l.length;let o="";for(let c=0;c<56;c++)o+=l.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(i),Array.from(i,Ep).join("")}async function jp(d){const l=new TextEncoder().encode(d),s=await crypto.subtle.digest("SHA-256",l),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Ap(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const l=await jp(d);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(d,i,l=!1){const s=Tp();let o=s;l&&(o+="/PASSWORD_RECOVERY"),await S0(d,`${i}-code-verifier`,o);const c=await Ap(s);return[c,s===c?"plain":"s256"]}const Op=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rp(d){const i=d.headers.get(ec);if(!i||!i.match(Op))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function Dp(d){if(!d)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(d<=i)throw new Error("JWT has expired")}function Cp(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Np=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gi(d){if(!Np.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Up=function(d,i){var l={};for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&i.indexOf(s)<0&&(l[s]=d[s]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(d);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(d,s[o])&&(l[s[o]]=d[s[o]]);return l};const yn=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Mp=[502,503,504];async function Dg(d){var i;if(!xp(d))throw new tc(yn(d),0);if(Mp.includes(d.status))throw new tc(yn(d),d.status);let l;try{l=await d.json()}catch(c){throw new w0(yn(c),c)}let s;const o=Rp(d);if(o&&o.getTime()>=b0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?s=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(s=l.error_code),s){if(s==="weak_password")throw new jg(yn(l),d.status,((i=l.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(s==="session_not_found")throw new Ya}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new jg(yn(l),d.status,l.weak_password.reasons);throw new op(yn(l),d.status||500,s)}const zp=(d,i,l,s)=>{const o={method:d,headers:(i==null?void 0:i.headers)||{}};return d==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),l))};async function me(d,i,l,s){var o;const c=Object.assign({},s==null?void 0:s.headers);c[ec]||(c[ec]=b0["2024-01-01"].name),s!=null&&s.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const f=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(f.redirect_to=s.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await qp(d,i,l+m,{headers:c,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(y):{data:Object.assign({},y),error:null}}async function qp(d,i,l,s,o,c){const f=zp(i,s,o,c);let m;try{m=await d(l,Object.assign({},f))}catch(y){throw console.error(y),new tc(yn(y),0)}if(m.ok||await Dg(m),s!=null&&s.noResolveJson)return m;try{return await m.json()}catch(y){await Dg(y)}}function ma(d){var i;let l=null;$p(d)&&(l=Object.assign({},d),d.expires_at||(l.expires_at=bp(d.expires_in)));const s=(i=d.user)!==null&&i!==void 0?i:d;return{data:{session:l,user:s},error:null}}function Cg(d){const i=ma(d);return!i.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0)&&(i.data.weak_password=d.weak_password),i}function Xa(d){var i;return{data:{user:(i=d.user)!==null&&i!==void 0?i:d},error:null}}function Lp(d){return{data:d,error:null}}function Bp(d){const{action_link:i,email_otp:l,hashed_token:s,redirect_to:o,verification_type:c}=d,f=Up(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:i,email_otp:l,hashed_token:s,redirect_to:o,verification_type:c},y=Object.assign({},f);return{data:{properties:m,user:y},error:null}}function Hp(d){return d}function $p(d){return d.access_token&&d.refresh_token&&d.expires_in}const Ou=["global","local","others"];var Gp=function(d,i){var l={};for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&i.indexOf(s)<0&&(l[s]=d[s]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(d);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(d,s[o])&&(l[s[o]]=d[s[o]]);return l};class Yp{constructor({url:i="",headers:l={},fetch:s}){this.url=i,this.headers=l,this.fetch=x0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,l=Ou[0]){if(Ou.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ou.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async inviteUserByEmail(i,l={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Xa})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async generateLink(i){try{const{options:l}=i,s=Gp(i,["options"]),o=Object.assign(Object.assign({},s),l);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Bp,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(le(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(i){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Xa})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async listUsers(i){var l,s,o,c,f,m,y;try{const g={nextPage:null,lastPage:0,total:0},p=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=i==null?void 0:i.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=i==null?void 0:i.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Hp});if(p.error)throw p.error;const w=await p.json(),k=(f=p.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(y=(m=p.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(H=>{const X=parseInt(H.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(H.split(";")[1].split("=")[1]);g[`${q}Page`]=X}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(le(g))return{data:{users:[]},error:g};throw g}}async getUserById(i){gi(i);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Xa})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async updateUserById(i,l){gi(i);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:l,headers:this.headers,xform:Xa})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async deleteUser(i,l=!1){gi(i);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:l},xform:Xa})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async _listFactors(i){gi(i.userId);try{const{data:l,error:s}=await me(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:l,error:s}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _deleteFactor(i){gi(i.userId),gi(i.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}}const Vp={getItem:d=>Tl()?globalThis.localStorage.getItem(d):null,setItem:(d,i)=>{Tl()&&globalThis.localStorage.setItem(d,i)},removeItem:d=>{Tl()&&globalThis.localStorage.removeItem(d)}};function Ng(d={}){return{getItem:i=>d[i]||null,setItem:(i,l)=>{d[i]=l},removeItem:i=>{delete d[i]}}}function Xp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mi={debug:!!(globalThis&&Tl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class k0 extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Qp extends k0{}async function Zp(d,i,l){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,i);const s=new globalThis.AbortController;return i>0&&setTimeout(()=>{s.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,o.name);try{return await l()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,o.name)}}else{if(i===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new Qp(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(mi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}Xp();const Kp={url:np,storageKey:ip,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ug(d,i,l){return await l()}class jl{constructor(i){var l,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jl.nextInstanceID,jl.nextInstanceID+=1,this.instanceID>0&&Vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Kp),i);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Yp({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=x0(o.fetch),this.lock=o.lock||Ug,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Vt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Zp:this.lock=Ug,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Tl()?this.storage=Vp:(this.memoryStorage={},this.storage=Ng(this.memoryStorage)):(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${p0}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const l=_p(window.location.href);let s="none";if(this._isImplicitGrantCallback(l)?s="implicit":await this._isPKCECallback(l)&&(s="pkce"),Vt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(l,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),dp(c)){const y=(i=c.details)===null||i===void 0?void 0:i.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return le(l)?{error:l}:{error:new w0("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var l,s,o;try{const c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(l=i==null?void 0:i.options)===null||l===void 0?void 0:l.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=i==null?void 0:i.options)===null||o===void 0?void 0:o.captchaToken}},xform:ma}),{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:g,session:y},error:null}}catch(c){if(le(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(i){var l,s,o;try{let c;if("email"in i){const{email:p,password:w,options:k}=i;let O=null,H=null;this.flowType==="pkce"&&([O,H]=await hi(this.storage,this.storageKey)),c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:p,password:w,data:(l=k==null?void 0:k.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:O,code_challenge_method:H},xform:ma})}else if("phone"in i){const{phone:p,password:w,options:k}=i;c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:w,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},channel:(o=k==null?void 0:k.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:ma})}else throw new Qs("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:g,session:y},error:null}}catch(c){if(le(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(i){try{let l;if("email"in i){const{email:c,password:f,options:m}=i;l=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cg})}else if("phone"in i){const{phone:c,password:f,options:m}=i;l=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cg})}else throw new Qs("You must provide either an email or phone number and a password");const{data:s,error:o}=l;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Xs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(i){var l,s,o,c;return await this._handleProviderSignIn(i.provider,{redirectTo:(l=i.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=i.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=i.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=i.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:l}=i;if(l==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}async signInWithSolana(i){var l,s,o,c,f,m,y,g,p,w,k,O;let H,X;if("message"in i)H=i.message,X=i.signature;else{const{chain:q,wallet:V,statement:J,options:N}=i;let M;if(Vt())if(typeof V=="object")M=V;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))M=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=V}const $=new URL((l=N==null?void 0:N.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in M&&M.signIn){const K=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),J?{statement:J}:null));let re;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")re=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)re=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)H=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),X=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");H=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(s=N==null?void 0:N.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((y=N==null?void 0:N.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((g=N==null?void 0:N.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((w=(p=N==null?void 0:N.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||w===void 0)&&w.length?["Resources",...N.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const K=await M.signMessage(new TextEncoder().encode(H),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");X=K}}try{const{data:q,error:V}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:H,signature:pp(X)},!((k=i.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(O=i.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:ma});if(V)throw V;return!q||!q.session||!q.user?{data:{user:null,session:null},error:new Xs}:(q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),{data:Object.assign({},q),error:V})}catch(q){if(le(q))return{data:{user:null,session:null},error:q};throw q}}async _exchangeCodeForSession(i){const l=await Ks(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(l??"").split("/");try{const{data:c,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:ma});if(await Js(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Xs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(le(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(i){try{const{options:l,provider:s,token:o,access_token:c,nonce:f}=i,m=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ma}),{data:y,error:g}=m;return g?{data:{user:null,session:null},error:g}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Xs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:g})}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(i){var l,s,o,c,f;try{if("email"in i){const{email:m,options:y}=i;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await hi(this.storage,this.storageKey));const{error:w}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=y==null?void 0:y.data)!==null&&l!==void 0?l:{},create_user:(s=y==null?void 0:y.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in i){const{phone:m,options:y}=i,{data:g,error:p}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},create_user:(c=y==null?void 0:y.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(f=y==null?void 0:y.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:p}}throw new Qs("You must provide either an email or phone number.")}catch(m){if(le(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(i){var l,s;try{let o,c;"options"in i&&(o=(l=i.options)===null||l===void 0?void 0:l.redirectTo,c=(s=i.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:m}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:ma});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,g=f.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:g,session:y},error:null}}catch(o){if(le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(i){var l,s,o;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await hi(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(s=(l=i.options)===null||l===void 0?void 0:l.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=i==null?void 0:i.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:Lp})}catch(c){if(le(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:l},error:s}=i;if(s)throw s;if(!l)throw new Ya;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:o}})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const l=`${this.url}/resend`;if("email"in i){const{email:s,type:o,options:c}=i,{error:f}=await me(this.fetch,"POST",l,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in i){const{phone:s,type:o,options:c}=i,{data:f,error:m}=await me(this.fetch,"POST",l,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Qs("You must provide either an email or phone number and a type")}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(i,l){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await l()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=l();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await i(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const l=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?i=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const s=i.expires_at?i.expires_at*1e3-Date.now()<Tu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",i.expires_at),!s){if(this.storage.isServer){let f=this.suppressGetSessionWarning;i=new Proxy(i,{get:(y,g,p)=>(!f&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,g,p))})}return{data:{session:i},error:null}}const{session:o,error:c}=await this._callRefreshToken(i.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Xa}):await this._useSession(async l=>{var s,o,c;const{data:f,error:m}=l;if(m)throw m;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ya}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Xa})})}catch(l){if(le(l))return cp(l)&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(i,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,l))}async _updateUser(i,l={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new Ya;const f=o.session;let m=null,y=null;this.flowType==="pkce"&&i.email!=null&&([m,y]=await hi(this.storage,this.storageKey));const{data:g,error:p}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:m,code_challenge_method:y}),jwt:f.access_token,xform:Xa});if(p)throw p;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Ya;const l=Date.now()/1e3;let s=l,o=!0,c=null;const{payload:f}=Au(i.access_token);if(f.exp&&(s=f.exp,o=s<=l),o){const{session:m,error:y}=await this._callRefreshToken(i.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:y}=await this._getUser(i.access_token);if(y)throw y;c={access_token:i.access_token,refresh_token:i.refresh_token,user:m.user,token_type:"bearer",expires_in:s-l,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(l){if(le(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async l=>{var s;if(!i){const{data:f,error:m}=l;if(m)throw m;i=(s=f.session)!==null&&s!==void 0?s:void 0}if(!(i!=null&&i.refresh_token))throw new Ya;const{session:o,error:c}=await this._callRefreshToken(i.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(i,l){try{if(!Vt())throw new Zs("No browser detected.");if(i.error||i.error_description||i.error_code)throw new Zs(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Tg("No code detected.");const{data:J,error:N}=await this._exchangeCodeForSession(i.code);if(N)throw N;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:m,expires_at:y,token_type:g}=i;if(!c||!m||!f||!g)throw new Zs("No session defined in URL");const p=Math.round(Date.now()/1e3),w=parseInt(m);let k=p+w;y&&(k=parseInt(y));const O=k-p;O*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${w}s`);const H=k-w;p-H>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",H,k,p):p-H<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",H,k,p);const{data:X,error:q}=await this._getUser(c);if(q)throw q;const V={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:k,refresh_token:f,token_type:g,user:X.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:i.type},error:null}}catch(s){if(le(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const l=await Ks(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&l)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async l=>{var s;const{data:o,error:c}=l;if(c)return{error:c};const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:m}=await this.admin.signOut(f,i);if(m&&!(up(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return i!=="others"&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const l=wp(),s={id:l,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:s}}}async _emitInitialSession(i){return await this._useSession(async l=>{var s,o;try{const{data:{session:c},error:f}=l;if(f)throw f;await((s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",i,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",c),console.error(c)}})}async resetPasswordForEmail(i,l={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await hi(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(c){if(le(c))return{data:null,error:c};throw c}}async getUserIdentities(){var i;try{const{data:l,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(i=l.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}async linkIdentity(i){var l;try{const{data:s,error:o}=await this._useSession(async c=>{var f,m,y,g,p;const{data:w,error:k}=c;if(k)throw k;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(f=i.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=i.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=i.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",O,{headers:this.headers,jwt:(p=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Vt()&&!(!((l=i.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:i.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(le(s))return{data:{provider:i.provider,url:null},error:s};throw s}}async unlinkIdentity(i){try{return await this._useSession(async l=>{var s,o;const{data:c,error:f}=l;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _refreshAccessToken(i){const l=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(l,"begin");try{const s=Date.now();return await kp(async o=>(o>0&&await Sp(200*Math.pow(2,o-1)),this._debug(l,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ma})),(o,c)=>{const f=200*Math.pow(2,o);return c&&ju(c)&&Date.now()+f-s<pi})}catch(s){if(this._debug(l,"error",s),le(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(l,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,l){const s=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",l,"url",s),Vt()&&!l.skipBrowserRedirect&&window.location.assign(s),{data:{provider:i,url:s},error:null}}async _recoverAndRefresh(){var i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const s=await Ks(this.storage,this.storageKey);if(this._debug(l,"session from storage",s),!this._isValidSession(s)){this._debug(l,"session is not valid"),s!==null&&await this._removeSession();return}const o=((i=s.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Tu;if(this._debug(l,`session has${o?"":" not"} expired with margin of ${Tu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),ju(c)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(l,"error",s),console.error(s);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var l,s;if(!i)throw new Ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new tr;const{data:c,error:f}=await this._refreshAccessToken(i);if(f)throw f;if(!c.session)throw new Ya;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),le(c)){const f={session:null,error:c};return ju(c)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(i,l,s=!0){const o=`#_notifyAllSubscribers(${i})`;this._debug(o,"begin",l,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:i,session:l});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(i,l)}catch(y){c.push(y)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await S0(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await Js(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async l=>{const{data:{session:s}}=l;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-i)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${pi}ms, refresh threshold is ${Fu} ticks`),o<=Fu&&await this._callRefreshToken(s.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof k0)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const l=`#_onVisibilityChanged(${i})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,l,s){const o=[`provider=${encodeURIComponent(l)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,f]=await hi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(s!=null&&s.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${i}?${o.join("&")}`}async _unenroll(i){try{return await this._useSession(async l=>{var s;const{data:o,error:c}=l;return c?{data:null,error:c}:await me(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _enroll(i){try{return await this._useSession(async l=>{var s,o;const{data:c,error:f}=l;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:y,error:g}=await me(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(i.factorType==="totp"&&(!((o=y==null?void 0:y.totp)===null||o===void 0)&&o.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:o,error:c}=l;if(c)return{data:null,error:c};const{data:f,error:m}=await me(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(l){if(le(l))return{data:null,error:l};throw l}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:o,error:c}=l;return c?{data:null,error:c}:await me(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(le(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(i){const{data:l,error:s}=await this._challenge({factorId:i.factorId});return s?{data:null,error:s}:await this._verify({factorId:i.factorId,challengeId:l.id,code:i.code})}async _listFactors(){const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const s=(i==null?void 0:i.factors)||[],o=s.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=s.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:s,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var l,s;const{data:{session:o},error:c}=i;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Au(o.access_token);let m=null;f.aal&&(m=f.aal);let y=m;((s=(l=o.user.factors)===null||l===void 0?void 0:l.filter(w=>w.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(y="aal2");const p=f.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(i,l={keys:[]}){let s=l.keys.find(f=>f.kid===i);if(s||(s=this.jwks.keys.find(f=>f.kid===i),s&&this.jwks_cached_at+rp>Date.now()))return s;const{data:o,error:c}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!o.keys||o.keys.length===0)throw new El("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),s=o.keys.find(f=>f.kid===i),!s)throw new El("No matching signing key found in JWKS");return s}async getClaims(i,l={keys:[]}){try{let s=i;if(!s){const{data:O,error:H}=await this.getSession();if(H||!O.session)return{data:null,error:H};s=O.session.access_token}const{header:o,payload:c,signature:f,raw:{header:m,payload:y}}=Au(s);if(Dp(c.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:O}=await this.getUser(s);if(O)throw O;return{data:{claims:c,header:o,signature:f},error:null}}const g=Cp(o.alg),p=await this.fetchJwk(o.kid,l),w=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,f,vp(`${m}.${y}`)))throw new El("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}}jl.nextInstanceID=0;const Jp=jl;class Ip extends Jp{constructor(i){super(i)}}var Pp=function(d,i,l,s){function o(c){return c instanceof l?c:new l(function(f){f(c)})}return new(l||(l=Promise))(function(c,f){function m(p){try{g(s.next(p))}catch(w){f(w)}}function y(p){try{g(s.throw(p))}catch(w){f(w)}}function g(p){p.done?c(p.value):o(p.value).then(m,y)}g((s=s.apply(d,i||[])).next())})};class Wp{constructor(i,l,s){var o,c,f;if(this.supabaseUrl=i,this.supabaseKey=l,!i)throw new Error("supabaseUrl is required.");if(!l)throw new Error("supabaseKey is required.");const m=tp(i),y=new URL(m);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const g=`sb-${y.hostname.split(".")[0]}-auth-token`,p={db:Zv,realtime:Jv,auth:Object.assign(Object.assign({},Kv),{storageKey:g}),global:Qv},w=ap(s??{},p);this.storageKey=(o=w.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=w.global.headers)!==null&&c!==void 0?c:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(k,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,w.global.fetch),this.fetch=Fv(l,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new yv(new URL("rest/v1",y).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new iv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Yv(this.storageUrl.href,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,l={},s={}){return this.rest.rpc(i,l,s)}channel(i,l={config:{}}){return this.realtime.channel(i,l)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,l;return Pp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(l=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:l,detectSessionInUrl:s,storage:o,storageKey:c,flowType:f,lock:m,debug:y},g,p){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ip({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:c,autoRefreshToken:i,persistSession:l,detectSessionInUrl:s,storage:o,flowType:f,lock:m,debug:y,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new Ov(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,s)=>{this._handleTokenChanged(l,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(i,l,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:i==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fp=(d,i,l)=>new Wp(d,i,l),eb="https://mqsgbtnhkedelodhyxfo.supabase.co",tb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xc2didG5oa2VkZWxvZGh5eGZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxMzYyMjcsImV4cCI6MjA2NTcxMjIyN30.HRS_F0shbk3qXcXl_DDGD4VWvYlHuOsz5W4jfElhlXo",Ce=Fp(eb,tb,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"supabase-auth-token"}}),ab=24*60*60*1e3,nb=60*1e3;function E0(){const[d,i]=G.useState(null),[l,s]=G.useState(null),[o,c]=G.useState(!0),f=G.useRef(Date.now()),m=G.useRef(null),y=G.useCallback(()=>{f.current=Date.now()},[]),g=G.useCallback(async()=>{if(!l)return;if(Date.now()-f.current>=ab){console.log("Session expired due to inactivity. Logging out..."),await Fs.signOut();return}},[l]);return G.useEffect(()=>{const p=["mousedown","mousemove","keypress","scroll","touchstart","click"],w=()=>{y()};return p.forEach(k=>{document.addEventListener(k,w,{passive:!0})}),()=>{p.forEach(k=>{document.removeEventListener(k,w)})}},[y]),G.useEffect(()=>{if(l)return m.current=setInterval(g,nb),y(),()=>{m.current&&(clearInterval(m.current),m.current=null)};m.current&&(clearInterval(m.current),m.current=null)},[l,g,y]),G.useEffect(()=>{Ce.auth.getSession().then(({data:{session:w}})=>{s(w),i((w==null?void 0:w.user)??null),c(!1)});const{data:{subscription:p}}=Ce.auth.onAuthStateChange((w,k)=>{var O;console.log("Auth state changed:",w,(O=k==null?void 0:k.user)==null?void 0:O.email),s(k),i((k==null?void 0:k.user)??null),c(!1),k&&y()});return()=>p.unsubscribe()},[y]),{user:d,session:l,loading:o}}const Fs={signUp:async(d,i)=>{const{data:l,error:s}=await Ce.auth.signUp({email:d,password:i});return{data:l,error:s}},signIn:async(d,i)=>{const{data:l,error:s}=await Ce.auth.signInWithPassword({email:d,password:i});return{data:l,error:s}},signOut:async()=>{const{error:d}=await Ce.auth.signOut();return{error:d}},resetPassword:async d=>{const{data:i,error:l}=await Ce.auth.resetPasswordForEmail(d);return{data:i,error:l}}};function ib({onSuccess:d,className:i=""}){const[l,s]=G.useState("signin"),[o,c]=G.useState({email:"",password:"",confirmPassword:""}),[f,m]=G.useState(!1),[y,g]=G.useState(!1),[p,w]=G.useState(""),{user:k}=E0(),O=V=>{const J=V.trim();if(!J)return{isValid:!1,error:"Email address is required"};if(J.length>254)return{isValid:!1,error:"Email address is too long"};if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(J))return{isValid:!1,error:"Please enter a valid email address format"};const[M,...$]=J.split("@"),K=$.join("@");if(!M||M.length>64)return{isValid:!1,error:"Email local part is too long"};if(M.includes(".."))return{isValid:!1,error:"Email address cannot contain consecutive dots"};if(M.startsWith(".")||M.endsWith("."))return{isValid:!1,error:"Email address cannot start or end with a dot"};if(!K||K.length>253)return{isValid:!1,error:"Email domain is invalid"};if(K.split(".").length<2)return{isValid:!1,error:"Email domain must contain at least one dot"};const Ye={"gmai.com":"gmail.com","gmial.com":"gmail.com","gmail.co":"gmail.com","outlok.com":"outlook.com","outloo.com":"outlook.com","hotmial.com":"hotmail.com","hotmai.com":"hotmail.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com"}[K.toLowerCase()];return Ye?{isValid:!1,error:`Did you mean ${M}@${Ye}?`}:{isValid:!0}};G.useEffect(()=>{k&&y&&d&&d(o)},[k,y]);const H=V=>{const{name:J,value:N}=V.target;c(M=>({...M,[J]:N})),p&&w("")},X=V=>{s(V),w(""),c(J=>({...J,password:"",confirmPassword:""}))},q=async V=>{var N,M;if(V.preventDefault(),!o.email||!o.password){w("Please fill in all fields");return}const J=O(o.email);if(!J.isValid){w(J.error||"Please enter a valid email address");return}if(l==="signup"){if(!o.confirmPassword){w("Please confirm your password");return}if(o.password!==o.confirmPassword){w("Passwords do not match");return}if(o.password.length<6){w("Password must be at least 6 characters long");return}}m(!0),w("");try{if(l==="signup"){const{data:$,error:K}=await Fs.signUp(o.email,o.password);if(K){w(K.message),m(!1);return}if(console.log("User signed up:",(N=$.user)==null?void 0:N.email),$.user&&!$.session){w("Please check your email and click the confirmation link to activate your account."),m(!1);return}}else{const{data:$,error:K}=await Fs.signIn(o.email,o.password);if(K){w(K.message),m(!1);return}console.log("User signed in:",(M=$.user)==null?void 0:M.email)}m(!1),g(!0)}catch($){console.error("Authentication error:",$),w("An unexpected error occurred. Please try again."),m(!1)}};return y?b.jsx("div",{className:`auth-form ${i}`,children:b.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 text-center",children:[b.jsx("div",{className:"text-green-600 dark:text-green-400 text-2xl mb-2",children:""}),b.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-200 mb-1",children:l==="signin"?"Sign In Successful!":"Account Created Successfully!"}),b.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:"Redirecting to editor..."})]})}):b.jsxs("div",{className:`auth-form ${i}`,children:[b.jsxs("div",{className:"flex mb-6 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[b.jsx("button",{type:"button",onClick:()=>X("signin"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors duration-200 ${l==="signin"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sign In"}),b.jsx("button",{type:"button",onClick:()=>X("signup"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors duration-200 ${l==="signup"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sign Up"})]}),b.jsxs("form",{onSubmit:q,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),b.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:H,disabled:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50",placeholder:"Enter your email"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),b.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:H,disabled:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50",placeholder:l==="signup"?"Create a password (min 6 characters)":"Enter your password"})]}),l==="signup"&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),b.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:H,disabled:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50",placeholder:"Confirm your password"})]}),p&&b.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:b.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:p})}),b.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 disabled:cursor-not-allowed flex items-center justify-center",children:f?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),l==="signin"?"Signing in...":"Creating account..."]}):l==="signin"?"Sign In":"Create Account"}),l==="signup"&&b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-3",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})]})]})}/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sb=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,s)=>s?s.toUpperCase():l.toLowerCase()),Mg=d=>{const i=sb(d);return i.charAt(0).toUpperCase()+i.slice(1)},T0=(...d)=>d.filter((i,l,s)=>!!i&&i.trim()!==""&&s.indexOf(i)===l).join(" ").trim(),rb=d=>{for(const i in d)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=G.forwardRef(({color:d="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},y)=>G.createElement("svg",{ref:y,...ob,width:i,height:i,stroke:d,strokeWidth:s?Number(l)*24/Number(i):l,className:T0("lucide",o),...!c&&!rb(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,p])=>G.createElement(g,p)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(d,i)=>{const l=G.forwardRef(({className:s,...o},c)=>G.createElement(ub,{ref:c,iconNode:i,className:T0(`lucide-${lb(Mg(d))}`,`lucide-${d}`,s),...o}));return l.displayName=Mg(d),l};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],db=Qe("book-open",cb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hb=Qe("check",fb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mb=Qe("circle-alert",gb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ac=Qe("circle-check-big",yb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pb=Qe("circle-x",vb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nc=Qe("clock",bb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_b=Qe("copy",wb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zg=Qe("file-text",xb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kb=Qe("lightbulb",Sb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tb=Qe("log-out",Eb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ab=Qe("mail",jb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rb=Qe("plus",Ob);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cb=Qe("save",Db);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],er=Qe("search",Nb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qg=Qe("send",Ub);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zb=Qe("trash-2",Mb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Lb=Qe("trash",qb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lg=Qe("triangle-alert",Bb);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$b=Qe("x",Hb);function Bg({textToCopy:d="",className:i=""}){const[l,s]=G.useState(!1),o=async()=>{try{await navigator.clipboard.writeText(d),s(!0),setTimeout(()=>s(!1),2e3)}catch(c){console.error("Failed to copy text: ",c)}};return b.jsx("button",{onClick:o,disabled:!d,className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 ${l?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${i}`,children:l?b.jsxs(b.Fragment,{children:[b.jsx(hb,{className:"w-4 h-4 mr-2"}),"Copied!"]}):b.jsxs(b.Fragment,{children:[b.jsx(_b,{className:"w-4 h-4 mr-2"}),"Copy"]})})}function Gb({onSendEmail:d,disabled:i=!1,className:l=""}){return b.jsxs("button",{type:"button",onClick:d,disabled:i,className:`flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors duration-200 ${l}`,"aria-label":"Email",children:[b.jsx(Ab,{className:"w-5 h-5 mr-2"}),b.jsx("span",{children:"Email"})]})}const Hg=d=>{let i;const l=new Set,s=(g,p)=>{const w=typeof g=="function"?g(i):g;if(!Object.is(w,i)){const k=i;i=p??(typeof w!="object"||w===null)?w:Object.assign({},i,w),l.forEach(O=>O(i,k))}},o=()=>i,m={setState:s,getState:o,getInitialState:()=>y,subscribe:g=>(l.add(g),()=>l.delete(g))},y=i=d(s,o,m);return m},Yb=d=>d?Hg(d):Hg,Vb=d=>d;function Xb(d,i=Vb){const l=ng.useSyncExternalStore(d.subscribe,()=>i(d.getState()),()=>i(d.getInitialState()));return ng.useDebugValue(l),l}const $g=d=>{const i=Yb(d),l=s=>Xb(i,s);return Object.assign(l,i),l},Qb=d=>d?$g(d):$g;class yi{static async createDraft(i="Untitled document",l=""){const{data:{user:s}}=await Ce.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:o,error:c}=await Ce.from("drafts").insert([{title:i,content:l,user_id:s.id}]).select().single();if(c)throw console.error("Error creating draft:",c),new Error(`Failed to create draft: ${c.message}`);return o}static async updateDraft(i,l,s){const{data:o,error:c}=await Ce.from("drafts").update({title:l,content:s,updated_at:new Date().toISOString()}).eq("id",i).select().single();if(c)throw console.error("Error updating draft:",c),new Error(`Failed to update draft: ${c.message}`);return o}static async deleteDraft(i){const{error:l}=await Ce.from("drafts").delete().eq("id",i);if(l)throw console.error("Error deleting draft:",l),new Error(`Failed to delete draft: ${l.message}`)}static async getDrafts(){console.log(" DraftsService: Starting getDrafts()");try{console.log(" DraftsService: About to execute Supabase query...");const{data:i,error:l}=await Ce.from("drafts").select("*").order("updated_at",{ascending:!1});if(console.log(" DraftsService: Supabase query completed"),console.log(" DraftsService: Data:",i),console.log(" DraftsService: Error:",l),l)throw console.error(" DraftsService: Error fetching drafts:",l),new Error(`Failed to fetch drafts: ${l.message}`);return console.log(" DraftsService: Returning data:",i||[]),i||[]}catch(i){throw console.error(" DraftsService: Exception in getDrafts():",i),i}}static async getDraftById(i){const{data:l,error:s}=await Ce.from("drafts").select("*").eq("id",i).single();if(s){if(s.code==="PGRST116")return null;throw console.error("Error fetching draft:",s),new Error(`Failed to fetch draft: ${s.message}`)}return l}static async isDraftEmpty(i){const l=await this.getDraftById(i);return!l||(!l.title.trim()||l.title==="Untitled document")&&!l.content.trim()}static subscribeToDrafts(i){return Ce.channel("drafts-changes").on("postgres_changes",{event:"*",schema:"public",table:"drafts"},i).subscribe()}}class Ru{static async sendMessage(i,l,s,o,c){const{data:{user:f}}=await Ce.auth.getUser();if(!f)throw new Error("User not authenticated");const{data:m,error:y}=await Ce.from("sent_messages").insert([{title:i,content:l,recipient_email:s,cc_recipients:o,bcc_recipients:c,user_id:f.id}]).select().single();if(y)throw console.error("Error sending message:",y),new Error(`Failed to send message: ${y.message}`);return m}static async getSentMessages(){const{data:i,error:l}=await Ce.from("sent_messages").select("*").order("sent_at",{ascending:!1});if(l)throw console.error("Error fetching sent messages:",l),new Error(`Failed to fetch sent messages: ${l.message}`);return i||[]}static async getSentMessageById(i){const{data:l,error:s}=await Ce.from("sent_messages").select("*").eq("id",i).single();if(s){if(s.code==="PGRST116")return null;throw console.error("Error fetching sent message:",s),new Error(`Failed to fetch sent message: ${s.message}`)}return l}static async deleteSentMessage(i){const{error:l}=await Ce.from("sent_messages").delete().eq("id",i);if(l)throw console.error("Error deleting sent message:",l),new Error(`Failed to delete sent message: ${l.message}`)}static subscribeToSentMessages(i){return Ce.channel("sent-messages-changes").on("postgres_changes",{event:"*",schema:"public",table:"sent_messages"},i).subscribe()}static async sendDraft(i,l,s,o){try{const{data:c,error:f}=await Ce.from("drafts").select("*").eq("id",i).single();if(f||!c)throw new Error(`Draft not found: ${f==null?void 0:f.message}`);const m=await this.sendMessage(c.title,c.content,l,s,o),{error:y}=await Ce.from("drafts").delete().eq("id",i);return{sentMessage:m,draftDeleted:!y}}catch(c){throw console.error("Error sending draft:",c),c}}}let Du=null,Cu=null,vi=!1;class Zb{constructor(){ga(this,"dictionary",new Set);ga(this,"commonMisspellings",new Map);ga(this,"isLoading",!1);ga(this,"affixRules",new Map);this.initialize()}async initialize(){if(!(vi||this.isLoading)){this.isLoading=!0;try{if(Du&&Cu){this.dictionary=Du,this.commonMisspellings=Cu,vi=!0,this.isLoading=!1;return}await Promise.all([this.loadDictionary(),this.loadMisspellings()]),Du=this.dictionary,Cu=this.commonMisspellings,vi=!0}catch(i){console.warn("Failed to load spell checker datasets, falling back to basic dictionary:",i),this.loadFallbackDictionary(),vi=!0}finally{this.isLoading=!1}}}async loadDictionary(){try{const i=await fetch("https://raw.githubusercontent.com/dwyl/english-words/master/words_alpha.txt");if(!i.ok)throw new Error(`Failed to fetch dictionary: ${i.status}`);const s=(await i.text()).split(`
`).map(c=>c.trim().toLowerCase()).filter(c=>c.length>0&&c.length<=25);console.log(`Loaded ${s.length} words from dwyl/english-words dictionary`),s.forEach(c=>this.dictionary.add(c)),["don't","won't","can't","isn't","aren't","wasn't","weren't","haven't","hasn't","hadn't","shouldn't","wouldn't","couldn't","mustn't","needn't","daren't","shan't","i'm","you're","he's","she's","it's","we're","they're","you'll","he'll","she'll","covid","coronavirus","pandemic","blockchain","cryptocurrency","bitcoin","ethereum","tiktok","instagram","facebook","twitter","youtube","google","amazon","netflix","smartphone","iphone","android","wifi","bluetooth","ai","ml","iot","vr","ar"].forEach(c=>this.dictionary.add(c.toLowerCase()))}catch(i){throw console.warn("Failed to load primary dictionary:",i),i}}async loadMisspellings(){try{if((await fetch("https://raw.githubusercontent.com/dwyl/english-words/master/words.txt")).ok){this.loadCommonMisspellings();return}throw new Error("Birkbeck corpus not accessible")}catch(i){console.warn("Failed to load Birkbeck misspellings, using curated list:",i),this.loadCommonMisspellings()}}loadCommonMisspellings(){const i=[["teh",["the"]],["hte",["the"]],["adn",["and"]],["nad",["and"]],["recieve",["receive"]],["reciept",["receipt"]],["beleive",["believe"]],["seperate",["separate"]],["definately",["definitely"]],["occured",["occurred"]],["neccessary",["necessary"]],["accomodate",["accommodate"]],["begining",["beginning"]],["buisness",["business"]],["calender",["calendar"]],["cemetary",["cemetery"]],["changable",["changeable"]],["completly",["completely"]],["concious",["conscious"]],["embarass",["embarrass"]],["enviroment",["environment"]],["existance",["existence"]],["goverment",["government"]],["independant",["independent"]],["occassion",["occasion"]],["recomend",["recommend"]],["reccomend",["recommend"]],["similiar",["similar"]],["suprise",["surprise"]],["tommorrow",["tomorrow"]],["truely",["truly"]],["untill",["until"]],["usefull",["useful"]],["wierd",["weird"]],["acommodate",["accommodate"]],["adress",["address"]],["agressive",["aggressive"]],["allready",["already"]],["begger",["beggar"]],["comming",["coming"]],["commited",["committed"]],["dilemna",["dilemma"]],["dissapoint",["disappoint"]],["embarassed",["embarrassed"]],["exagerate",["exaggerate"]],["fourty",["forty"]],["gratefull",["grateful"]],["harass",["harass"]],["occassionally",["occasionally"]],["questionaire",["questionnaire"]],["reccommend",["recommend"]],["succesful",["successful"]],["alot",["a lot"]],["allot",["a lot","allot"]],["its",["it's","its"]],["there",["there","their","they're"]],["your",["your","you're"]],["too",["to","too","two"]],["affect",["affect","effect"]],["accept",["accept","except"]],["loose",["lose","loose"]],["nite",["night"]],["lite",["light"]],["thru",["through"]],["altho",["although"]],["enuf",["enough"]],["tho",["though"]],["cuz",["because"]],["wuz",["was"]],["sum",["some","sum"]],["form",["from","form"]],["fro",["from","for"]],["fo",["for","of"]],["no",["on","no"]],["on",["no","on"]],["of",["or","of"]],["or",["of","or"]],["an",["and","an"]],["nad",["and"]],["website",["website"]],["email",["email"]],["internet",["internet"]],["webpage",["web page","webpage"]],["online",["online"]],["offline",["offline"]],["database",["database"]],["software",["software"]],["covid",["COVID","covid"]],["vaccinated",["vaccinated"]],["quarantine",["quarantine"]],["pandemic",["pandemic"]],["cryptocurrency",["cryptocurrency"]],["blockchain",["blockchain"]],["micheal",["Michael"]],["recieved",["received"]],["acheive",["achieve"]],["peice",["piece"]],["freind",["friend"]],["anwser",["answer"]],["dont",["don't"]],["wont",["won't"]],["cant",["can't"]],["isnt",["isn't"]],["arent",["aren't"]],["wasnt",["wasn't"]],["werent",["weren't"]],["havent",["haven't"]],["hasnt",["hasn't"]],["hadnt",["hadn't"]],["shouldnt",["shouldn't"]],["wouldnt",["wouldn't"]],["couldnt",["couldn't"]],["mustnt",["mustn't"]],["denimd",["denim"]],["test",["test"]],["testt",["test"]],["tests",["tests"]],["testing",["testing"]],["tested",["tested"]]];i.forEach(([l,s])=>{this.commonMisspellings.set(l,s)}),console.log(`Loaded ${i.length} common misspelling patterns`)}loadFallbackDictionary(){const i=["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","first","well","way","even","new","want","because","any","these","give","day","most","us","is","was","are","been","has","had","were","said","each","which","test","tests","testing","tested","hello","world","example","sample","demo","welcome"];i.forEach(l=>this.dictionary.add(l)),this.loadCommonMisspellings(),console.log(`Loaded fallback dictionary with ${i.length} essential words`)}async ensureInitialized(){for(!vi&&!this.isLoading&&await this.initialize();this.isLoading;)await new Promise(i=>setTimeout(i,10))}isReady(){return vi&&!this.isLoading}isValidNonWord(i){return!!(/^-?\d+(\.\d+)?%?$/.test(i)||/^\d{1,4}[/.-]\d{1,2}[/.-]\d{2,4}$/.test(i)||/^\d{4}$/.test(i)&&parseInt(i)>1800&&parseInt(i)<2100||/^\d{1,2}:\d{2}(\s?(AM|PM|am|pm))?$/.test(i)||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i)||/^(https?:\/\/)?(www\.)?[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/.test(i)||/^[$]?\d+(\.\d{2})?$/.test(i)||/^\.[a-zA-Z0-9]{2,4}$/.test(i)||/^[A-Z]{2,}$/.test(i)&&i.length<=6||/^v?\d+(\.\d+)*$/.test(i)||/^\+?\d{1,3}[-.\s]?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}$/.test(i)||/^[a-zA-Z]$/.test(i))}checkWord(i){const l=i.toLowerCase().trim();return this.isValidNonWord(i)?{isCorrect:!0,suggestions:[]}:this.dictionary.has(l)?{isCorrect:!0,suggestions:[]}:this.commonMisspellings.has(l)?{isCorrect:!1,suggestions:this.commonMisspellings.get(l)||[]}:{isCorrect:!1,suggestions:this.generateSuggestions(l).slice(0,5)}}generateSuggestions(i){const l=new Set,s=this.generateEdits(i);for(const o of s)this.dictionary.has(o)&&l.add(o);if(l.size>=3)return Array.from(l);if(i.length<=6||l.size===0)for(const o of s){const c=this.generateEdits(o);for(const f of c)if(this.dictionary.has(f)&&(l.add(f),l.size>=10))break;if(l.size>=10)break}return Array.from(l)}generateEdits(i){const l=[],s="abcdefghijklmnopqrstuvwxyz";for(let o=0;o<i.length;o++)l.push(i.slice(0,o)+i.slice(o+1));for(let o=0;o<=i.length;o++)for(const c of s)l.push(i.slice(0,o)+c+i.slice(o));for(let o=0;o<i.length;o++)for(const c of s)l.push(i.slice(0,o)+c+i.slice(o+1));for(let o=0;o<i.length-1;o++)l.push(i.slice(0,o)+i[o+1]+i[o]+i.slice(o+2));return l}async checkText(i){await this.ensureInitialized();const l=[],s=/\b\w+(?:[']\w+)*\b/g;let o;for(;(o=s.exec(i))!==null;){const c=o[0],f=c.replace(/[^\w.-]/g,"");if(f.length>0){const m=this.checkWord(c);m.isCorrect||l.push({word:f,suggestions:m.suggestions,position:{start:o.index,end:o.index+c.length}})}}return l}async checkTextForSuggestions(i){return(await this.checkText(i)).map(s=>({...s,type:"spelling"}))}getDictionarySize(){return this.dictionary.size}getMisspellingsCount(){return this.commonMisspellings.size}parseAffixData(i){let l="";for(const s of i)if(s.startsWith("SFX")||s.startsWith("PFX")){const o=s.split(/\s+/);if(o.length>=4){l=o[1];const c=o[2]==="0"?"":o[2].replace(/\\(.)/g,"$1"),f=o[3]==="0"?"":o[3];this.affixRules.has(l)||this.affixRules.set(l,[]),this.affixRules.get(l).push({pattern:c,replacement:f,condition:o[4]||"."})}}}parseHunspellRule(i){const l=i.split("/"),s=l[0],o=s.includes("-")?s.split("-")[0]:"",c=s.includes("+")?s.split("+")[1]:s;return{remove:o.replace(/\\(.)/g,"$1"),add:c.replace(/\\(.)/g,"$1"),condition:l[1]||".*"}}}const Gg=new Zb;var Is={exports:{}},Nu,Yg;function Kb(){if(Yg)return Nu;Yg=1;var d=["are a number","clearly","completely","exceedingly","excellent","extremely","fairly","few","huge","interestingly","is a number","largely","many","mostly","obviously","quite","relatively","remarkably","several","significantly","substantially","surprisingly","tiny","various","vast","very"],i=["many","few"],l=new RegExp("\\b("+d.join("|")+")\\b","gi");return Nu=function(s,o){for(var c=[];match=l.exec(s);){var f=match[0].toLowerCase();(i.indexOf(f)===-1||s.substr(match.index-4,4)!=="too ")&&c.push({index:match.index,offset:f.length})}return c},Nu}var Uu,Vg;function Jb(){if(Vg)return Uu;Vg=1;var d=["awoken","been","born","beat","become","begun","bent","beset","bet","bid","bidden","bound","bitten","bled","blown","broken","bred","brought","broadcast","built","burnt","burst","bought","cast","caught","chosen","clung","come","cost","crept","cut","dealt","dug","dived","done","drawn","dreamt","driven","drunk","eaten","fallen","fed","felt","fought","found","fit","fled","flung","flown","forbidden","forgotten","foregone","forgiven","forsaken","frozen","gotten","given","gone","ground","grown","hung","heard","hidden","hit","held","hurt","kept","knelt","knit","known","laid","led","leapt","learnt","left","lent","let","lain","lighted","lost","made","meant","met","misspelt","mistaken","mown","overcome","overdone","overtaken","overthrown","paid","pled","proven","put","quit","read","rid","ridden","rung","risen","run","sawn","said","seen","sought","sold","sent","set","sewn","shaken","shaven","shorn","shed","shone","shod","shot","shown","shrunk","shut","sung","sunk","sat","slept","slain","slid","slung","slit","smitten","sown","spoken","sped","spent","spilt","spun","spit","split","spread","sprung","stood","stolen","stuck","stung","stunk","stridden","struck","strung","striven","sworn","swept","swollen","swum","swung","taken","taught","torn","told","thought","thrived","thrown","thrust","trodden","understood","upheld","upset","woken","worn","woven","wed","wept","wound","won","withheld","withstood","wrung","written"],i=["indeed"],l=new RegExp("\\b(am|are|were|being|is|been|was|be)\\b\\s*([\\w]+ed|"+d.join("|")+")\\b","gi"),s;Uu=function(c,f){for(var m=f&&f.by?s||o():l,y=[];match=m.exec(c);)i.indexOf(match[2].toLowerCase())===-1&&y.push({index:match.index,offset:match[0].length});return y};function o(){return s=new RegExp(l.toString().slice(1,-3)+"\\s*by\\b","gi")}return Uu}var Mu,Xg;function Ib(){if(Xg)return Mu;Xg=1;function d(i,l){const s=[];let o=i.exec(l);for(;o;)s.push({index:o.index,offset:o[0].length}),o=i.exec(l);return s}return Mu=d,Mu}var zu,Qg;function Pb(){if(Qg)return zu;Qg=1;const d=["absolutel","accidentall","additionall","allegedl","alternativel","angril","anxiousl","approximatel","awkwardl","badl","barel","beautifull","blindl","boldl","bravel","brightl","briskl","bristl","bubbl","busil","calml","carefull","carelessl","cautiousl","cheerfull","clearl","closel","coldl","completel","consequentl","correctl","courageousl","crinkl","cruell","crumbl","cuddl","currentl","daringl","deadl","definitel","deliberatel","doubtfull","dumbl","eagerl","earl","easil","elegantl","enormousl","enthusiasticall","equall","especiall","eventuall","exactl","exceedingl","exclusivel","extremel","fairl","faithfull","fatall","fiercel","finall","fondl","foolishl","fortunatel","frankl","franticall","generousl","gentl","giggl","gladl","gracefull","greedil","happil","hardl","hastil","healthil","heartil","helpfull","honestl","hourl","hungril","hurriedl","immediatel","impatientl","inadequatel","ingeniousl","innocentl","inquisitivel","interestingl","irritabl","jiggl","joyousl","justl","kindl","largel","latel","lazil","likel","literall","lonel","loosel","loudl","loudl","luckil","madl","man","mentall","mildl","mortall","mostl","mysteriousl","neatl","nervousl","noisil","normall","obedientl","occasionall","onl","openl","painfull","particularl","patientl","perfectl","politel","poorl","powerfull","presumabl","previousl","promptl","punctuall","quarterl","quickl","quietl","rapidl","rarel","reall","recentl","recklessl","regularl","relativel","reluctantl","remarkabl","repeatedl","rightfull","roughl","rudel","sadl","safel","selfishl","sensibl","seriousl","sharpl","shortl","shyl","significantl","silentl","simpl","sleepil","slowl","smartl","smell","smoothl","softl","solemnl","sparkl","speedil","stealthil","sternl","stupidl","substantiall","successfull","suddenl","surprisingl","suspiciousl","swiftl","tenderl","tensel","thoughtfull","tightl","timel","truthfull","unexpectedl","unfortunatel","usuall","ver","victoriousl","violentl","vivaciousl","warml","waverl","weakl","wearil","wildl","wisel","worldl","wrinkl"],i=["just","maybe","stuff","things"],l=new RegExp(`\\b((${d.join("|")})(y)|(${i.join("|")}))\\b`,"gi"),s=Ib();return zu=function(c){return s(l,c)},zu}var qu,Zg;function Wb(){if(Zg)return qu;Zg=1;function d(i,l){const s=[];let o=i.exec(l);for(;o;)s.push({index:o.index,offset:o[0].length}),o=i.exec(l);return s}return qu=d,qu}var Lu,Kg;function Fb(){if(Kg)return Lu;Kg=1;const d=Wb();let i=["a number of","abundance","accede to","accelerate","accentuate","accompany","accomplish","accorded","accrue","acquiesce","acquire","additional","adjacent to","adjustment","admissible","advantageous","adversely impact","advise","aforementioned","aggregate","aircraft","all of","all things considered","alleviate","allocate","along the lines of","already existing","alternatively","amazing","ameliorate","anticipate","apparent","appreciable","as a matter of fact","as a means of","as far as I'm concerned","as of yet","as per","as to","as yet","ascertain","assistance","at the present time","at this time","attain","attributable to","authorize","because of the fact that","belated","benefit from","bestow","by means of","by virtue of the fact that","by virtue of","cease","close proximity","commence","comply with","concerning","consequently","consolidate","constitutes","demonstrate","depart","designate","discontinue","do damage to","do harm to","due to the fact that","during the course of","each and every","economical","eliminate","elucidate","employ","endeavor","enumerate","equitable","equivalent","evaluate","evidenced","exclusively","expedite","expend","expiration","facilitate","factual evidence","feasible","finalize","first and foremost","for all intents and purposes","for the duration of","for the most part","for the purpose of","forfeit","formulate","have a tendency to","honest truth","however","if and when","impacted","implement","in a manner of speaking","in a timely manner","in a very real sense","in accordance with","in addition","in all likelihood","in an effort to","in between","in excess of","in lieu of","in light of the fact that","in many cases","in my opinion","in need of","in order to","in regard to","in some instances","in terms of","in the affirmative","in the case of","in the course of","in the event that","in the final analysis","in the midst of","in the nature of","in the near future","in the negative","in the process of","inception","incumbent upon","indicate","indication","initiate","irregardless","is applicable to","is authorized to","is responsible for","it is essential","it is","it seems that","it was","magnitude","majority of","make an effort","maximum","methodology","minimize","minimum","modify","monitor","multiple","myriad of","necessitate","nevertheless","not certain","not many","not often","not unless","not unlike","notwithstanding","null and void","numerous","objective","obligate","obtain","of late","of the fact that","off of","on the contrary","on the other hand","one particular","optimum","outside of","overall","owing to the fact that","participate","particulars","pass away","pertaining to","point in time","portion","possess","preclude","previous to","previously","prior to","prioritize","procure","proficiency","provided that","purchase","put simply","readily apparent","refer back","regarding","relocate","remainder","remuneration","requirement","reside","residence","retain","satisfy","shall","should you wish","similar to","solicit","sooner rather than later","span across","strategize","subsequent","substantial","successfully complete","sufficient","terminate","that which","the month of","the point I am trying to make","therefore","time period","took advantage of","transmit","transpire","type of","until such time as","utilization","utilize","validate","various different","what I mean to say is","whether or not","with respect to","with the exception of","witnessed"];i=i.map(s=>s.replace(/ /g,"[\\b\\s\\u200C]*"));const l=new RegExp(`\\b(?<!-)(${i.join("|")})\\b`,"gi");return Lu=function(o){return d(l,o)},Lu}var Bu,Jg;function ew(){if(Jg)return Bu;Jg=1;function d(i,l){const s=[];let o=i.exec(l);for(;o;)s.push({index:o.index,offset:o[0].length}),o=i.exec(l);return s}return Bu=d,Bu}var Hu,Ig;function tw(){if(Ig)return Hu;Ig=1;let d=["a chip off the old block","a clean slate","a dark and stormy night","a far cry","a fine kettle of fish","a loose cannon","a penny saved is a penny earned","a tough row to hoe","a word to the wise","ace in the hole","acid test","add insult to injury","against all odds","air your dirty laundry","all fun and games","all in a day's work","all talk, no action","all thumbs","all your eggs in one basket","all's fair in love and war","all's well that ends well","almighty dollar","American as apple pie","an axe to grind","another day, another dollar","armed to the teeth","as luck would have it","as old as time","as the crow flies","at loose ends","at my wits end","avoid like the plague","babe in the woods","back against the wall","back in the saddle","back to square one","back to the drawing board","bad to the bone","badge of honor","bald faced liar","ballpark figure","banging your head against a brick wall","baptism by fire","barking up the wrong tree","bat out of hell","be all and end all","beat a dead horse","beat around the bush","been there, done that","beggars can't be choosers","behind the eight ball","bend over backwards","benefit of the doubt","bent out of shape","best thing since sliced bread","bet your bottom dollar","better half","better late than never","better mousetrap","better safe than sorry","between a rock and a hard place","beyond the pale","bide your time","big as life","big cheese","big fish in a small pond","big man on campus","bigger they are the harder they fall","bird in the hand","bird's eye view","birds and the bees","birds of a feather flock together","bit the hand that feeds you","bite the bullet","bite the dust","bitten off more than he can chew","black as coal","black as pitch","black as the ace of spades","blast from the past","bleeding heart","blessing in disguise","blind ambition","blind as a bat","blind leading the blind","blood is thicker than water","blood sweat and tears","blow off steam","blow your own horn","blushing bride","boils down to","bolt from the blue","bone to pick","bored stiff","bored to tears","bottomless pit","boys will be boys","bright and early","brings home the bacon","broad across the beam","broken record","brought back to reality","bull by the horns","bull in a china shop","burn the midnight oil","burning question","burning the candle at both ends","burst your bubble","bury the hatchet","busy as a bee","by hook or by crook","call a spade a spade","called onto the carpet","calm before the storm","can of worms","can't cut the mustard","can't hold a candle to","case of mistaken identity","cat got your tongue","cat's meow","caught in the crossfire","caught red-handed","checkered past","chomping at the bit","cleanliness is next to godliness","clear as a bell","clear as mud","close to the vest","cock and bull story","cold shoulder","come hell or high water","cool as a cucumber","cool, calm, and collected","cost a king's ransom","count your blessings","crack of dawn","crash course","creature comforts","cross that bridge when you come to it","crushing blow","cry like a baby","cry me a river","cry over spilt milk","crystal clear","curiosity killed the cat","cut and dried","cut through the red tape","cut to the chase","cute as a bugs ear","cute as a button","cute as a puppy","cuts to the quick","dark before the dawn","day in, day out","dead as a doornail","devil is in the details","dime a dozen","divide and conquer","dog and pony show","dog days","dog eat dog","dog tired","don't burn your bridges","don't count your chickens","don't look a gift horse in the mouth","don't rock the boat","don't step on anyone's toes","don't take any wooden nickels","down and out","down at the heels","down in the dumps","down the hatch","down to earth","draw the line","dressed to kill","dressed to the nines","drives me up the wall","dull as dishwater","dyed in the wool","eagle eye","ear to the ground","early bird catches the worm","easier said than done","easy as pie","eat your heart out","eat your words","eleventh hour","even the playing field","every dog has its day","every fiber of my being","everything but the kitchen sink","eye for an eye","face the music","facts of life","fair weather friend","fall by the wayside","fan the flames","feast or famine","feather your nest","feathered friends","few and far between","fifteen minutes of fame","filthy vermin","fine kettle of fish","fish out of water","fishing for a compliment","fit as a fiddle","fit the bill","fit to be tied","flash in the pan","flat as a pancake","flip your lid","flog a dead horse","fly by night","fly the coop","follow your heart","for all intents and purposes","for the birds","for what it's worth","force of nature","force to be reckoned with","forgive and forget","fox in the henhouse","free and easy","free as a bird","fresh as a daisy","full steam ahead","fun in the sun","garbage in, garbage out","gentle as a lamb","get a kick out of","get a leg up","get down and dirty","get the lead out","get to the bottom of","get your feet wet","gets my goat","gilding the lily","give and take","go against the grain","go at it tooth and nail","go for broke","go him one better","go the extra mile","go with the flow","goes without saying","good as gold","good deed for the day","good things come to those who wait","good time was had by all","good times were had by all","greased lightning","greek to me","green thumb","green-eyed monster","grist for the mill","growing like a weed","hair of the dog","hand to mouth","happy as a clam","happy as a lark","hasn't a clue","have a nice day","have high hopes","have the last laugh","haven't got a row to hoe","head honcho","head over heels","hear a pin drop","heard it through the grapevine","heart's content","heavy as lead","hem and haw","high and dry","high and mighty","high as a kite","hit paydirt","hold your head up high","hold your horses","hold your own","hold your tongue","honest as the day is long","horns of a dilemma","horse of a different color","hot under the collar","hour of need","I beg to differ","icing on the cake","if the shoe fits","if the shoe were on the other foot","in a jam","in a jiffy","in a nutshell","in a pig's eye","in a pinch","in a word","in hot water","in the gutter","in the nick of time","in the thick of it","in your dreams","it ain't over till the fat lady sings","it goes without saying","it takes all kinds","it takes one to know one","it's a small world","it's only a matter of time","ivory tower","Jack of all trades","jockey for position","jog your memory","joined at the hip","judge a book by its cover","jump down your throat","jump in with both feet","jump on the bandwagon","jump the gun","jump to conclusions","just a hop, skip, and a jump","just the ticket","justice is blind","keep a stiff upper lip","keep an eye on","keep it simple, stupid","keep the home fires burning","keep up with the Joneses","keep your chin up","keep your fingers crossed","kick the bucket","kick up your heels","kick your feet up","kid in a candy store","kill two birds with one stone","kiss of death","knock it out of the park","knock on wood","knock your socks off","know him from Adam","know the ropes","know the score","knuckle down","knuckle sandwich","knuckle under","labor of love","ladder of success","land on your feet","lap of luxury","last but not least","last hurrah","last-ditch effort","law of the jungle","law of the land","lay down the law","leaps and bounds","let sleeping dogs lie","let the cat out of the bag","let the good times roll","let your hair down","let's talk turkey","letter perfect","lick your wounds","lies like a rug","life's a bitch","life's a grind","light at the end of the tunnel","lighter than a feather","lighter than air","like clockwork","like father like son","like taking candy from a baby","like the plague","like there's no tomorrow","lion's share","live and learn","live and let live","long and short of it","long lost love","look before you leap","look down your nose","look what the cat dragged in","looking a gift horse in the mouth","looks like death warmed over","loose cannon","lose your head","lose your temper","loud as a horn","lounge lizard","loved and lost","low man on the totem pole","luck of the draw","luck of the Irish","make hay while the sun shines","make money hand over fist","make my day","make the best of a bad situation","make the best of it","make your blood boil","man of few words","man's best friend","mark my words","meaningful dialogue","missed the boat on that one","moment in the sun","moment of glory","moment of truth","money to burn","more power to you","more than one way to skin a cat","movers and shakers","moving experience","naked as a jaybird","naked truth","neat as a pin","needle in a haystack","needless to say","neither here nor there","never look back","never say never","nip and tuck","nip it in the bud","no guts, no glory","no love lost","no pain, no gain","no skin off my back","no stone unturned","no time like the present","no use crying over spilled milk","nose to the grindstone","not a hope in hell","not a minute's peace","not in my backyard","not playing with a full deck","not the end of the world","not written in stone","nothing to sneeze at","nothing ventured nothing gained","now we're cooking","off the top of my head","off the wagon","off the wall","old hat","older and wiser","older than dirt","older than Methuselah","on a roll","on cloud nine","on pins and needles","on the bandwagon","on the money","on the nose","on the rocks","on the spot","on the tip of my tongue","on the wagon","on thin ice","once bitten, twice shy","one bad apple doesn't spoil the bushel","one born every minute","one brick short","one foot in the grave","one in a million","one red cent","only game in town","open a can of worms","open and shut case","open the flood gates","opportunity doesn't knock twice","out of pocket","out of sight, out of mind","out of the frying pan into the fire","out of the woods","out on a limb","over a barrel","over the hump","pain and suffering","pain in the","panic button","par for the course","part and parcel","party pooper","pass the buck","patience is a virtue","pay through the nose","penny pincher","perfect storm","pig in a poke","pile it on","pillar of the community","pin your hopes on","pitter patter of little feet","plain as day","plain as the nose on your face","play by the rules","play your cards right","playing the field","playing with fire","pleased as punch","plenty of fish in the sea","point with pride","poor as a church mouse","pot calling the kettle black","pretty as a picture","pull a fast one","pull your punches","pulling your leg","pure as the driven snow","put it in a nutshell","put one over on you","put the cart before the horse","put the pedal to the metal","put your best foot forward","put your foot down","quick as a bunny","quick as a lick","quick as a wink","quick as lightning","quiet as a dormouse","rags to riches","raining buckets","raining cats and dogs","rank and file","rat race","reap what you sow","red as a beet","red herring","reinvent the wheel","rich and famous","rings a bell","ripe old age","ripped me off","rise and shine","road to hell is paved with good intentions","rob Peter to pay Paul","roll over in the grave","rub the wrong way","ruled the roost","running in circles","sad but true","sadder but wiser","salt of the earth","scared stiff","scared to death","sealed with a kiss","second to none","see eye to eye","seen the light","seize the day","set the record straight","set the world on fire","set your teeth on edge","sharp as a tack","shoot for the moon","shoot the breeze","shot in the dark","shoulder to the wheel","sick as a dog","sigh of relief","signed, sealed, and delivered","sink or swim","six of one, half a dozen of another","skating on thin ice","slept like a log","slinging mud","slippery as an eel","slow as molasses","smart as a whip","smooth as a baby's bottom","sneaking suspicion","snug as a bug in a rug","sow wild oats","spare the rod, spoil the child","speak of the devil","spilled the beans","spinning your wheels","spitting image of","spoke with relish","spread like wildfire","spring to life","squeaky wheel gets the grease","stands out like a sore thumb","start from scratch","stick in the mud","still waters run deep","stitch in time","stop and smell the roses","straight as an arrow","straw that broke the camel's back","strong as an ox","stubborn as a mule","stuff that dreams are made of","stuffed shirt","sweating blood","sweating bullets","take a load off","take one for the team","take the bait","take the bull by the horns","take the plunge","takes one to know one","takes two to tango","the more the merrier","the real deal","the real McCoy","the red carpet treatment","the same old story","there is no accounting for taste","thick as a brick","thick as thieves","thin as a rail","think outside of the box","third time's the charm","this day and age","this hurts me worse than it hurts you","this point in time","three sheets to the wind","through thick and thin","throw in the towel","tie one on","tighter than a drum","time and time again","time is of the essence","tip of the iceberg","tired but happy","to coin a phrase","to each his own","to make a long story short","to the best of my knowledge","toe the line","tongue in cheek","too good to be true","too hot to handle","too numerous to mention","touch with a ten foot pole","tough as nails","trial and error","trials and tribulations","tried and true","trip down memory lane","twist of fate","two cents worth","two peas in a pod","ugly as sin","under the counter","under the gun","under the same roof","under the weather","until the cows come home","unvarnished truth","up the creek","uphill battle","upper crust","upset the applecart","vain attempt","vain effort","vanquish the enemy","vested interest","waiting for the other shoe to drop","wakeup call","warm welcome","watch your p's and q's","watch your tongue","watching the clock","water under the bridge","weather the storm","weed them out","week of Sundays","went belly up","wet behind the ears","what goes around comes around","what you see is what you get","when it rains, it pours","when push comes to shove","when the cat's away","when the going gets tough, the tough get going","white as a sheet","whole ball of wax","whole hog","whole nine yards","wild goose chase","will wonders never cease?","wisdom of the ages","wise as an owl","wolf at the door","words fail me","work like a dog","world weary","worst nightmare","worth its weight in gold","wrong side of the bed","yanking your chain","yappy as a dog","years young","you are what you eat","you can run but you can't hide","you only live once","you're the boss ","young and foolish","young and vibrant"];d=d.map(s=>s.replace(/ /g,"[\\b\\s\\u200C]*"));const i=new RegExp(`\\b(${d.join("|")})\\b`,"gi"),l=ew();return Hu=function(o){return l(i,o)},Hu}var $u,Pg;function aw(){if(Pg)return $u;Pg=1;var d=["am","are","aren't","be","been","being","he's","here's","here's","how's","i'm","is","isn't","it's","she's","that's","there's","they're","was","wasn't","we're","were","weren't","what's","where's","who's","you're"],i=new RegExp("\\b("+d.join("|")+")\\b","gi");return $u=function(l){var s=[];if(!l||l.length===0)return s;for(l=l.replace(/[\u2018\u2019]/g,"'");match=i.exec(l);){var o=match[0].toLowerCase();s.push({index:match.index,offset:o.length})}return s},$u}var Gu,Wg;function nw(){if(Wg)return Gu;Wg=1;const d=new RegExp("(\\s*)([^\\s]+)","gi"),i=/\w+/;return Gu=function(s){const o=[];let c="",f;for(;f=d.exec(s);)i.test(f[2])&&f[2].toLowerCase()===c&&o.push({index:f.index+f[1].length,offset:f[2].length}),c=f[2].toLowerCase();return o},Gu}var Yu,Fg;function iw(){if(Fg)return Yu;Fg=1;const d=new RegExp(`([^
\\.;!?]+)([\\.;!?]+)`,"gi"),i=new RegExp("^(\\s)*so\\b[\\s\\S]","i");return Yu=function(s){const o=[];let c,f;for(;c=d.exec(s);)(f=i.exec(c[1]))&&o.push({index:c.index+(f[1]||"").length,offset:2});return o},Yu}var Vu,e0;function lw(){if(e0)return Vu;e0=1;const d=new RegExp(`([^
\\.;!?]+)([\\.;!?]+)`,"gi"),i=new RegExp("^(\\s)*there\\b\\s(is|are)\\b","i");return Vu=function(s){const o=[];let c,f;for(;c=d.exec(s);)(f=i.exec(c[1]))&&o.push({index:c.index+(f[1]||"").length,offset:f[0].length-(f[1]||"").length});return o},Vu}var Xu,t0;function sw(){if(t0)return Xu;t0=1;function d(s,o){let c="";for(let f=o;f>0;f--)c+=s;return c}function i(s,o){const c=o.slice(0);return c.splice(s-1),c.join(`
`).length+(c.length>0)}function l(s,o,c){const f=s.substr(0,c).split(`
`).length,m=i(f,o),y=c-m;return{line:f,col:y}}return Xu=function(o,c,f){const m=o.split(`
`);return c.map(y=>{const g=l(o,m,y.index);let p=0;return g.col>25&&(p=g.col-25),f?{reason:y.reason,line:g.line,col:g.col}:[m[g.line-1].substr(p,80),d(" ",g.col-p)+d("^",y.offset),`${y.reason} on line ${g.line} at column ${g.col}`].join(`
`)})},Xu}var a0;function rw(){if(a0)return Is.exports;a0=1;const d=Kb(),i=Jb(),l=Pb(),s=Fb(),o=tw(),c=aw(),f=nw(),m=iw(),y=lw(),g={weasel:{fn:d,explanation:"is a weasel word"},illusion:{fn:f,explanation:"is repeated"},so:{fn:m,explanation:"adds no meaning"},thereIs:{fn:y,explanation:"is unnecessary verbiage"},passive:{fn:i,explanation:"may be passive voice"},adverb:{fn:l,explanation:"can weaken meaning"},tooWordy:{fn:s,explanation:"is wordy or unneeded"},cliches:{fn:o,explanation:"is a cliche"},eprime:{fn:c,explanation:"is a form of 'to be'"}},p={eprime:!1};function w(H,X,q=[]){const V=q.reduce((J,N)=>{let M=H.indexOf(N);for(;M>0;)J.push({from:M,to:M+N.length}),M=H.indexOf(N,M+1);return J},[]);return X.reduce((J,N)=>(V.find(M=>{const $=N.index,K=N.index+N.offset;return $<=M.from&&K>=M.to||$>=M.from&&$<=M.to||K>=M.from&&K<=M.to})||J.push(N),J),[])}function k(H){const X={};return H.reduce((q,V)=>{const J=`${V.index}:${V.offset}`;return X[J]?X[J].reason+=` and ${V.reason.substring(V.offset+3)}`:(X[J]=V,q.push(V)),q},[])}function O(H,X){return function(V){return V.reason=`"${H.substr(V.index,V.offset)}" ${X}`,V}}return Is.exports=function(X,q={}){const V={},J=Object.assign({},p,q);Object.keys(J).forEach(K=>{K!=="checks"&&(V[K]=J[K])});const N=q.checks||g;let M=[];Object.keys(N).forEach(K=>{V[K]!==!1&&(M=M.concat(N[K].fn(X).map(O(X,N[K].explanation))))});const $=w(X,M,q.whitelist);return k($).sort((K,re)=>K.index<re.index?-1:1)},Is.exports.annotate=sw(),Is.exports}var ow=rw();const uw=ic(ow);class cw{constructor(){ga(this,"isInitialized",!0)}checkText(i){if(!this.isInitialized)return[];try{console.log(" Grammar checker: analyzing text:",i.substring(0,50)+"...");const l=uw(i);console.log(" Grammar checker: write-good found",l.length,"issues:",l);const s=l.map((o,c)=>({type:this.getIssueType(o.reason),original:i.substring(o.index,o.index+o.offset),suggestion:this.getSuggestionText(o.reason,i.substring(o.index,o.index+o.offset)),explanation:o.reason,position:{start:o.index,end:o.index+o.offset}})).filter(o=>o.type==="grammar");return console.log(" Grammar checker: returning",s.length,"grammar suggestions:",s),s}catch(l){return console.error("Grammar checker error:",l),[]}}getIssueType(i){return["passive","tense","agreement","verb"].some(o=>i.toLowerCase().includes(o))?"grammar":"clarity"}getSuggestionText(i,l){return i.includes("passive voice")?"Make this active voice":i.includes("wordy")?"Consider a shorter alternative":i.includes("adverb")?"Consider removing or replacing this adverb":i.includes("clich")?"Consider a more original expression":i.includes("hedge")?"Be more direct and confident":i.includes("weasel")?"Be more specific":"Consider revising this phrase"}isReady(){return this.isInitialized}}const n0=new cw;class dw{constructor(){ga(this,"isInitialized",!0);ga(this,"baseUrl");ga(this,"anonKey");this.baseUrl="https://mqsgbtnhkedelodhyxfo.supabase.co/functions/v1",this.anonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xc2didG5oa2VkZWxvZGh5eGZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxMzYyMjcsImV4cCI6MjA2NTcxMjIyN30.HRS_F0shbk3qXcXl_DDGD4VWvYlHuOsz5W4jfElhlXo",(!this.baseUrl||!this.anonKey)&&(console.error("Missing Supabase environment variables for clarity checker"),this.isInitialized=!1)}async checkText(i){if(!this.isInitialized)return{message:"Clarity checker not initialized - missing Supabase environment variables",code:"NOT_INITIALIZED"};if(!i.trim())return[];if(i.trim().length<10)return[];try{console.log(" Clarity checker: analyzing text:",i.substring(0,50)+"...");const l=await fetch(`${this.baseUrl}/check-grammar`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.anonKey}`},body:JSON.stringify({text:`Analyze this text for clarity and conciseness improvements. Focus on complete sentences and meaningful phrases that can be made clearer or more direct: ${i}`})});if(!l.ok)return console.error("Clarity checker API error:",l.status,l.statusText),{message:`API error: ${l.statusText}`,code:"API_ERROR"};const s=await l.json();if(s.error)return console.error("Clarity checker error:",s.error),{message:s.error,code:"SERVICE_ERROR"};const o=s.suggestions||[];console.log(" Clarity checker: received",o.length,"suggestions:",o);const c=await this.processSuggestions(i,o);return console.log(" Clarity checker: returning",c.length,"clarity suggestions"),c}catch(l){return console.error("Clarity checker error:",l),{message:l.message,code:"NETWORK_ERROR"}}}async processSuggestions(i,l){const s=[];for(const o of l){if(o.type!=="clarity")continue;const c=this.findTextPosition(i,o.original);c&&s.push({type:"clarity",original:o.original,suggestion:o.suggestion,explanation:o.explanation,position:c,confidence:.8})}return s}findTextPosition(i,l){const s=i.indexOf(l);if(s===-1){const o=i.toLowerCase(),c=l.toLowerCase(),f=o.indexOf(c);return f===-1?(console.warn("Could not find snippet in text:",l),null):{start:f,end:f+l.length}}return{start:s,end:s+l.length}}isReady(){return this.isInitialized}}const i0=new dw,xl=d=>({id:d.id,title:d.title,content:d.content,createdAt:new Date(d.created_at),updatedAt:new Date(d.updated_at)}),l0=d=>({id:d.id,title:d.title,content:d.content,recipient:d.recipient_email||"Unknown",ccRecipients:d.cc_recipients,bccRecipients:d.bcc_recipients,sentAt:new Date(d.sent_at),status:"delivered"}),ht=Qb((d,i)=>({isLoadingDrafts:!1,isLoadingSentMessages:!1,grammarSuggestions:[],isCheckingGrammar:!1,hoveredSuggestionId:null,undoStack:[],cursorPosition:null,checkGrammar:l=>{if(console.log(" Store: checkGrammar called (local). Text length:",l.length),!n0.isReady()){console.warn(" Grammar checker not ready yet");return}console.log(" Store: calling grammarChecker.checkText...");const s=n0.checkText(l);console.log(" Store: grammarChecker returned",s.length,"results:",s);const o=s.map((c,f)=>({id:`grammar_${Date.now()}_${f}`,type:c.type,original:c.original,suggestion:c.suggestion,explanation:c.explanation,source:"local",priority:c.type==="grammar"?2:3,position:c.position,confidence:.8}));console.log(" Store: created",o.length,"grammar suggestions:",o),d(c=>{const f=[...c.grammarSuggestions.filter(m=>m.source==="local"&&m.type==="spelling"),...o];return console.log(" Store: setting grammarSuggestions to",f.length,"total suggestions"),{grammarSuggestions:f}})},clearGrammarSuggestions:()=>d({grammarSuggestions:[]}),setHoveredSuggestion:l=>d({hoveredSuggestionId:l}),checkClarityAndTone:async(l,s="clarity")=>{console.log(`Store: checkClarityAndTone called with mode: ${s}. Text length:`,l.length),d({isCheckingGrammar:!0});try{console.log(`Store: Would invoke clarity/tone check for ${s}...`),await new Promise(o=>setTimeout(o,100))}catch(o){console.error(`Store: Failed to check ${s}:`,o)}finally{console.log(`Store: Finished ${s} check.`),d({isCheckingGrammar:!1})}},checkSpelling:async l=>{if(!Gg.isReady()){console.warn(" Spell checker not ready yet");return}const s=await Gg.checkText(l);i().addSpellingSuggestions(s)},addSpellingSuggestions:l=>{const s=l.map((o,c)=>{const f=o.suggestions.length>0&&!o.suggestions.includes("(no suggestions)");return{id:`spell_${Date.now()}_${c}`,type:"spelling",original:o.word,suggestion:f?o.suggestions[0]:o.word,explanation:f?`Misspelled word: "${o.word}"${o.suggestions.length>1?` (${o.suggestions.length} suggestions)`:""}`:`Potential misspelling: "${o.word}"`,source:"local",priority:f?1:.5,position:o.position,confidence:f?.9:.3}});d(o=>({grammarSuggestions:[...o.grammarSuggestions.filter(m=>m.type!=="spelling"),...s]}))},invalidateSuggestionsOnEdit:(l,s)=>{const{grammarSuggestions:o}=i();if(o.length===0)return;let c=0,f=Math.max(l.length,s.length);for(;c<Math.min(l.length,s.length)&&l[c]===s[c];)c++;let m=l.length-1,y=s.length-1;for(;m>=c&&y>=c&&l[m]===s[y];)m--,y--;f=m+1,console.log(` Text change detected: indices ${c}-${f} (old length: ${l.length}, new length: ${s.length})`);const g=o.filter(p=>{const{start:w,end:k}=p.position;return k<=c||w>=f?!0:(console.log(` Invalidating ${p.type} suggestion "${p.original}" (range ${w}-${k}) due to text change at ${c}-${f}`),!1)});if(g.length!==o.length){const p=o.length-g.length;console.log(` Removed ${p} suggestions due to text edits`),d({grammarSuggestions:g})}},validateSuggestion:(l,s)=>{const{start:o,end:c}=l.position;return o<0||c>s.length||o>=c?!1:s.slice(o,c)===l.original},cleanupInvalidSuggestions:()=>{const{grammarSuggestions:l,activeDraftId:s,getDraftById:o}=i();if(!s)return;const c=o(s);if(!c)return;const f=l.filter(m=>i().validateSuggestion(m,c.content));if(f.length!==l.length){const m=l.length-f.length;console.log(` Fallback cleanup removed ${m} invalid suggestions`),d({grammarSuggestions:f})}},applySuggestion:l=>{const{grammarSuggestions:s,activeDraftId:o,getDraftById:c,updateDraft:f,checkSpelling:m,validateSuggestion:y}=i(),g=s.find(N=>N.id===l);if(!g||!o){console.error("Could not apply suggestion: suggestion or active draft not found.");return}const p=c(o);if(!p){console.error("Could not apply suggestion: active draft data not found.");return}if(!y(g,p.content)){console.warn("Cannot apply suggestion: original text has been modified or deleted"),d(N=>({grammarSuggestions:N.grammarSuggestions.filter(M=>M.id!==l)}));return}const{start:w,end:k}=g.position,O=p.content,H=O.slice(0,w)+g.suggestion+O.slice(k),X=g.suggestion.length-(k-w),q=s.filter(N=>N.id!==l).map(N=>N.position.start>=k?{...N,position:{start:N.position.start+X,end:N.position.end+X}}:N.position.end>w&&N.position.start<k?null:N).filter(N=>N!==null);f(o,p.title,H),d(N=>({grammarSuggestions:q}));const V={draftId:o,previousContent:O,appliedSuggestion:g,previousSuggestions:s,timestamp:Date.now()};d(N=>({undoStack:[V,...N.undoStack].slice(0,10)}));const J=w+g.suggestion.length;console.log(` Setting cursor position: start=${w}, suggestionLength=${g.suggestion.length}, newPosition=${J}`),console.log(` Original text: "${g.original}" -> New text: "${g.suggestion}"`),d({cursorPosition:J}),m(H).catch(N=>{console.error("Failed to re-check spelling after applying suggestion:",N)})},canUndo:()=>{const{undoStack:l,activeDraftId:s}=i();return l.length>0&&l[0].draftId===s},undoLastSuggestion:()=>{const{undoStack:l,activeDraftId:s,updateDraft:o,checkSpelling:c,getDraftById:f}=i();if(!s||l.length===0){console.warn("Cannot undo: no active draft or empty undo stack");return}const m=l[0];if(m.draftId!==s){console.warn("Cannot undo: undo state is for a different draft");return}const y=f(s),g=(y==null?void 0:y.title)||"Untitled document";o(s,g,m.previousContent),d(p=>({grammarSuggestions:m.previousSuggestions,undoStack:p.undoStack.slice(1)})),c(m.previousContent).catch(p=>{console.error("Failed to re-check spelling after undo:",p)}),console.log(" Undid suggestion application")},checkClarity:async l=>{if(!i0.isReady()){console.warn(" Clarity checker not ready yet");return}if(l.trim().length<20){d(s=>({grammarSuggestions:s.grammarSuggestions.filter(o=>o.type!=="clarity")}));return}try{console.log(" Store: Starting clarity check for text length:",l.length),d({isCheckingGrammar:!0}),d(o=>({grammarSuggestions:o.grammarSuggestions.filter(c=>c.type!=="clarity")}));const s=await i0.checkText(l);Array.isArray(s)?i().addClaritySuggestions(s):console.error("Clarity check failed:",s.message)}catch(s){console.error("Clarity check error:",s)}finally{d({isCheckingGrammar:!1})}},addClaritySuggestions:l=>{const s=l.map((o,c)=>({id:`clarity_${Date.now()}_${c}`,type:"clarity",original:o.original,suggestion:o.suggestion,explanation:o.explanation,source:"local",priority:3,position:o.position,confidence:o.confidence}));d(o=>({grammarSuggestions:[...o.grammarSuggestions,...s]})),console.log(" Store: Added",s.length,"clarity suggestions")},setCursorPosition:l=>d({cursorPosition:l}),drafts:[],activeDraftId:null,setActiveDraft:l=>d(s=>({activeDraftId:l,activeSentId:null,grammarSuggestions:s.grammarSuggestions.filter(o=>o.type!=="clarity"),hoveredSuggestionId:null})),getDraftById:l=>i().drafts.find(o=>o.id===l),isDraftEmpty:l=>{const o=i().drafts.find(c=>c.id===l);return o?(o.title==="Untitled document"||o.title.trim()==="")&&o.content.trim()==="":!0},loadDrafts:async()=>{d({isLoadingDrafts:!0});try{console.log(" Store: Starting to load drafts...");const s=(await yi.getDrafts()).map(xl);console.log(" Store: Loaded",s.length,"drafts successfully"),d({drafts:s,isLoadingDrafts:!1})}catch(l){console.error(" Store: Failed to load drafts:",l),d({drafts:[],isLoadingDrafts:!1})}},createNewDraft:()=>{const s={id:`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:"Untitled document",content:"",createdAt:new Date,updatedAt:new Date,isLocal:!0};return d(o=>({drafts:[s,...o.drafts],activeDraftId:s.id})),s.id},createLocalDraft:()=>i().createNewDraft(),persistDraft:async l=>{const o=i().drafts.find(c=>c.id===l&&c.isLocal);if(!o)throw new Error("Draft not found or already persisted");try{const c=await yi.createDraft(o.title,o.content),f=xl(c);return d(m=>({drafts:m.drafts.map(y=>y.id===l?f:y),activeDraftId:m.activeDraftId===l?f.id:m.activeDraftId})),f.id}catch(c){throw console.error("Failed to persist draft:",c),c}},saveDraft:async(l,s,o)=>{try{if(o){const f=i().drafts.find(m=>m.id===o);if(f!=null&&f.isLocal){const m={...f,title:l,content:s,updatedAt:new Date};return d(y=>({drafts:y.drafts.map(g=>g.id===o?m:g)})),l.trim()!=="Untitled document"&&l.trim()!==""||s.trim()!==""?await i().persistDraft(o):o}else{const m=await yi.updateDraft(o,l,s),y=xl(m);return d(g=>({drafts:g.drafts.map(p=>p.id===o?y:p)})),o}}else{const c=await yi.createDraft(l,s),f=xl(c);return d(m=>({drafts:[f,...m.drafts],activeDraftId:f.id})),f.id}}catch(c){throw console.error("Failed to save draft:",c),c}},updateDraft:async(l,s,o)=>{const f=i().drafts.find(m=>m.id===l);if(f!=null&&f.isLocal){const m={...f,title:s,content:o,updatedAt:new Date};if(d(y=>({drafts:y.drafts.map(g=>g.id===l?m:g)})),s.trim()!=="Untitled document"&&s.trim()!==""||o.trim()!=="")try{await i().persistDraft(l)}catch(y){console.error("Failed to auto-persist draft:",y)}}else try{const m=await yi.updateDraft(l,s,o),y=xl(m);d(g=>({drafts:g.drafts.map(p=>p.id===l?y:p)}))}catch(m){throw console.error("Failed to update draft:",m),m}},deleteDraft:async l=>{const o=i().drafts.find(c=>c.id===l);if(o!=null&&o.isLocal)d(c=>({drafts:c.drafts.filter(f=>f.id!==l),activeDraftId:c.activeDraftId===l?null:c.activeDraftId}));else try{await yi.deleteDraft(l),d(c=>({drafts:c.drafts.filter(f=>f.id!==l),activeDraftId:c.activeDraftId===l?null:c.activeDraftId}))}catch(c){throw console.error("Failed to delete draft:",c),c}},sendDraft:async(l,s,o,c)=>{try{const{sentMessage:f,draftDeleted:m}=await Ru.sendDraft(l,s,o,c),y=l0(f);d(g=>({sentMessages:[y,...g.sentMessages],drafts:m?g.drafts.filter(p=>p.id!==l):g.drafts,activeDraftId:g.activeDraftId===l?null:g.activeDraftId}))}catch(f){throw console.error("Failed to send draft:",f),f}},sentMessages:[],activeSentId:null,setActiveSent:l=>d({activeSentId:l,grammarSuggestions:[],hoveredSuggestionId:null}),getSentById:l=>i().sentMessages.find(o=>o.id===l),loadSentMessages:async()=>{d({isLoadingSentMessages:!0});try{const s=(await Ru.getSentMessages()).map(l0);d({sentMessages:s,isLoadingSentMessages:!1})}catch(l){console.error("Failed to load sent messages:",l),d({sentMessages:[],isLoadingSentMessages:!1})}},deleteSentMessage:async l=>{try{await Ru.deleteSentMessage(l),d(s=>({sentMessages:s.sentMessages.filter(o=>o.id!==l),activeSentId:s.activeSentId===l?null:s.activeSentId}))}catch(s){throw console.error("Failed to delete sent message:",s),s}},clearUserData:()=>{d({drafts:[],sentMessages:[],activeDraftId:null,activeSentId:null,isLoadingDrafts:!1,isLoadingSentMessages:!1,grammarSuggestions:[],isCheckingGrammar:!1})}}));function fw({text:d="",title:i="Untitled document",onChange:l,onTitleChange:s,onSave:o,onSendEmail:c,placeholder:f="Start writing...",disabled:m=!1,readOnly:y=!1,metaInfo:g,className:p=""}){const[w,k]=G.useState(d),[O,H]=G.useState(i),[X,q]=G.useState(!1),[V,J]=G.useState(!1),[N,M]=G.useState(""),[$,K]=G.useState(d),re=G.useRef(null),Ge=G.useRef(null);ht(L=>L.checkGrammar);const Ye=ht(L=>L.checkSpelling),Bt=ht(L=>L.checkClarity);ht(L=>L.cleanupInvalidSuggestions);const Fe=ht(L=>L.invalidateSuggestionsOnEdit),Te=ht(L=>L.hoveredSuggestionId),et=ht(L=>L.grammarSuggestions),ot=ht(L=>L.canUndo),Re=ht(L=>L.undoLastSuggestion),C=ht(L=>L.cursorPosition),Q=ht(L=>L.setCursorPosition),W=G.useCallback(()=>Te&&et.some(L=>L.id===Te),[Te,et]);G.useEffect(()=>{w.trim().length>0&&!y&&($!==w&&(Fe($,w),K(w)),Ye(w).catch(L=>{console.error("Spell check failed:",L)}))},[w,Ye,Fe,$,y]),G.useEffect(()=>{if(w.trim().length>20&&!y){if(w===N)return;const pe=setTimeout(()=>{console.log(" RichTextEditor: triggering clarity check for:",w.substring(0,30)+"..."),M(w),Bt(w).catch(de=>{console.error("Clarity check failed:",de)})},V?400:100);return()=>clearTimeout(pe)}},[w,Bt,y,V,N]),G.useEffect(()=>{k(d),K(d),q(!1),d.trim().length>0&&(J(!0),M(""))},[d]),G.useEffect(()=>{H(i),q(!1)},[i]);const ue=G.useCallback(()=>{const L=re.current,pe=Ge.current;if(L){L.style.height="auto";const de=L.scrollHeight,it=window.innerHeight*.7;de<=it?(L.style.height=`${de}px`,L.style.overflowY="hidden"):(L.style.height=`${it}px`,L.style.overflowY="auto"),pe&&W()&&(pe.style.height=L.style.height,pe.style.overflowY=L.style.overflowY)}},[W]),x=G.useCallback(()=>{if(!W()||!w)return w;const L=et.find(pa=>pa.id===Te);if(!L)return w;const{start:pe,end:de}=L.position,it=w.substring(0,pe),Wt=w.substring(pe,de),va=w.substring(de);return b.jsxs(b.Fragment,{children:[it,b.jsx("span",{className:"bg-blue-200/30 dark:bg-blue-400/20",children:Wt}),va]})},[w,Te,et,W]),D=G.useCallback(L=>{k(L),q(!0),J(!0),l==null||l(L),ue()},[l,ue]),Z=G.useCallback(L=>{H(L),q(!0),s==null||s(L)},[s]),Y=G.useCallback(L=>{(L.ctrlKey||L.metaKey)&&L.key==="z"&&!L.shiftKey&&ot()&&(L.preventDefault(),Re(),console.log(" Triggered undo via keyboard shortcut"))},[ot,Re]),F=G.useCallback(()=>{o==null||o(O,w),q(!1)},[o,O,w]),ie=G.useMemo(()=>w.trim()?w.trim().split(/\s+/).length:0,[w]);return G.useEffect(()=>{ue()},[w]),G.useEffect(()=>{if(C!==null&&re.current){const L=re.current;setTimeout(()=>{L.focus(),L.setSelectionRange(C,C),console.log(` Cursor positioned at ${C} in text of length ${L.value.length}`),console.log(` Text around cursor: "${L.value.substring(Math.max(0,C-10),C+10)}"`)},10),Q(null)}},[C,Q]),G.useEffect(()=>{let L;const pe=()=>{clearTimeout(L),L=setTimeout(ue,100)};return window.addEventListener("resize",pe),()=>{window.removeEventListener("resize",pe),clearTimeout(L)}},[ue]),G.useCallback(async L=>{},[]),G.useCallback(async()=>{},[]),b.jsxs("div",{className:`rich-text-editor p-8 h-full flex flex-col ${p}`,children:[b.jsx("div",{className:"mb-6 flex-shrink-0",children:b.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 focus-within:shadow-lg focus-within:border-blue-300 dark:focus-within:border-blue-600 ${y?"bg-gray-50 dark:bg-gray-700/50":""}`,children:b.jsx("input",{type:"text",value:O,onChange:L=>Z(L.target.value),disabled:m||y,className:`w-full px-6 py-4 text-xl font-semibold text-gray-900 dark:text-white bg-transparent border-none outline-none rounded-xl placeholder-gray-400 dark:placeholder-gray-500 ${y?"text-gray-500 dark:text-gray-400 cursor-not-allowed":""}`,placeholder:"Document title..."})})}),b.jsx("div",{className:`${y?"":"flex-1"} flex flex-col min-h-0`,children:b.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 focus-within:shadow-lg focus-within:border-blue-300 dark:focus-within:border-blue-600 flex flex-col min-h-[300px] ${y?"bg-gray-50 dark:bg-gray-700/50":""}`,children:[b.jsxs("div",{className:"relative flex-1 flex flex-col",children:[W()&&b.jsx("div",{ref:Ge,className:"absolute inset-0 px-6 py-6 text-base leading-relaxed text-transparent pointer-events-none rounded-t-xl min-h-[200px] whitespace-pre-wrap break-words overflow-hidden z-10",style:{fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",wordSpacing:"inherit",letterSpacing:"inherit"},children:x()}),b.jsx("textarea",{ref:re,value:w,onChange:L=>D(L.target.value),onKeyDown:Y,placeholder:f,disabled:m||y,spellCheck:!0,className:`relative w-full px-6 py-6 text-base leading-relaxed text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-none outline-none resize-none rounded-t-xl min-h-[200px] ${y?"text-gray-500 dark:text-gray-400 cursor-not-allowed":""}`,style:{height:"auto"}})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/30 rounded-b-xl flex-shrink-0 mt-auto",children:[b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex space-x-4",children:[b.jsxs("span",{children:[w.length," characters"]}),b.jsxs("span",{children:[ie," words"]}),X&&!y&&b.jsx("span",{className:"text-orange-500 dark:text-orange-400",children:" Unsaved changes"}),y&&b.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:" Read only"})]}),b.jsx("div",{className:"flex items-center space-x-3",children:y?b.jsx(Bg,{textToCopy:w,className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm"}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:F,className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-all duration-200 hover:scale-105 active:scale-95 ${X?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} shadow-sm`,children:[b.jsx(Cb,{className:"w-4 h-4 mr-2"}),"Save"]}),b.jsx(Bg,{textToCopy:w,className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm"}),b.jsx(Gb,{onSendEmail:c,disabled:!w.trim()||m,className:"shadow-sm bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 dark:disabled:bg-gray-600"})]})})]})]})}),g&&b.jsx("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Message Details"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.type==="email"&&b.jsxs(b.Fragment,{children:[g.subject&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),b.jsx("div",{className:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2",children:g.subject})]}),g.recipients&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recipients"}),b.jsx("div",{className:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2",children:g.recipients})]}),g.ccRecipients&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CC"}),b.jsx("div",{className:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2",children:g.ccRecipients})]}),g.bccRecipients&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"BCC"}),b.jsx("div",{className:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2",children:g.bccRecipients})]})]}),g.sentAt&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sent At"}),b.jsx("div",{className:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2",children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(g.sentAt)})]}),g.status&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),b.jsxs("div",{className:`text-sm font-medium rounded-lg px-3 py-2 inline-flex items-center ${g.status==="delivered"?"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/20":g.status==="pending"?"text-yellow-700 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":g.status==="failed"?"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20":"text-gray-700 dark:text-gray-400 bg-gray-50 dark:bg-gray-700"}`,children:[b.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${g.status==="delivered"?"bg-green-500":g.status==="pending"?"bg-yellow-500":g.status==="failed"?"bg-red-500":"bg-gray-500"}`}),g.status.charAt(0).toUpperCase()+g.status.slice(1)]})]})]})]})}),y&&b.jsx("div",{className:"flex-1"})]})}function hw({onDraftSelect:d,onNewDraft:i,onDraftDelete:l,className:s=""}){const{drafts:o,activeDraftId:c,setActiveDraft:f,isLoadingDrafts:m}=ht(),[y,g]=G.useState(""),[p,w]=G.useState(null),[k,O]=G.useState(null),H=async M=>{k&&k!==M&&O(null),f(M),await(d==null?void 0:d(M))},X=async()=>{O(null),await(i==null?void 0:i())},q=(M,$)=>{M.stopPropagation(),k===$?(l==null||l($),O(null)):(c!==$&&H($),O($))},V=M=>{w(null),k===M&&O(null)},J=M=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(M),N=o.filter(M=>M.title.toLowerCase().includes(y.toLowerCase())||M.content.toLowerCase().includes(y.toLowerCase()));return b.jsxs("div",{className:`sidebar-draft-list px-6 ${s}`,children:[b.jsxs("div",{className:"mb-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Your Drafts"}),b.jsxs("button",{onClick:X,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",title:"Create new draft",children:[b.jsx(Rb,{className:"w-4 h-4 mr-1"}),"New"]})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx(er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),b.jsx("input",{type:"text",placeholder:"Search drafts...",value:y,onChange:M=>g(M.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),b.jsxs("div",{className:"space-y-2",children:[m&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading drafts..."})]}),!m&&N.map(M=>{const $=k===M.id,K=p===M.id||c===M.id||$;return b.jsxs("div",{onClick:()=>H(M.id),onMouseEnter:()=>w(M.id),onMouseLeave:()=>V(M.id),className:`group relative p-3 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md ${c===M.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"} ${$?"ring-2 ring-red-200 dark:ring-red-800 bg-red-50/50 dark:bg-red-900/10":""}`,children:[b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx(zg,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${c===M.id?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("h4",{className:`font-medium truncate ${c===M.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"}`,children:M.title}),M.isLocal&&b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Local"})]}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:[M.content.substring(0,80),"..."]}),b.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400 dark:text-gray-500",children:[b.jsx(nc,{className:"w-3 h-3 mr-1"}),b.jsxs("span",{children:["Updated ",J(M.updatedAt)]})]})]}),b.jsx("button",{onClick:re=>q(re,M.id),className:`absolute top-2 right-2 p-1.5 rounded-md transition-all duration-200 ${$?"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 scale-110":"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20"} ${K?"opacity-100 visible":"opacity-0 invisible group-hover:opacity-100 group-hover:visible"}`,title:$?"Click again to delete permanently":c===M.id?"Delete this draft":"Select and delete this draft",children:$?b.jsx(Lb,{className:"w-4 h-4"}):b.jsx(zb,{className:"w-4 h-4"})}),$&&b.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),$&&b.jsx("div",{className:"mt-2 pt-2 border-t border-red-200 dark:border-red-800",children:b.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Click the trash icon again to delete permanently"})})]},M.id)})]})]}),!m&&N.length===0&&y&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx(er,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No drafts found"}),b.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Try adjusting your search terms"})]}),!m&&N.length===0&&!y&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx(zg,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No drafts yet"}),b.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Start writing to create your first draft"})]})]})}function gw({onSentSelect:d,className:i=""}){const{sentMessages:l,activeSentId:s,setActiveSent:o,isLoadingSentMessages:c}=ht(),[f,m]=G.useState(""),y=async O=>{o(O),await(d==null?void 0:d(O))},g=O=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(O),p=O=>{switch(O){case"delivered":return b.jsx(ac,{className:"w-4 h-4 text-green-500"});case"pending":return b.jsx(mb,{className:"w-4 h-4 text-yellow-500"});case"failed":return b.jsx(pb,{className:"w-4 h-4 text-red-500"});default:return b.jsx(nc,{className:"w-4 h-4 text-gray-400"})}},w=O=>{switch(O){case"delivered":return"Delivered";case"pending":return"Pending";case"failed":return"Failed";default:return"Unknown"}},k=l.filter(O=>O.title.toLowerCase().includes(f.toLowerCase())||O.content.toLowerCase().includes(f.toLowerCase())||O.recipient.toLowerCase().includes(f.toLowerCase()));return b.jsxs("div",{className:`sidebar-sent-list px-6 ${i}`,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Sent Messages"}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx(er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),b.jsx("input",{type:"text",placeholder:"Search sent messages...",value:f,onChange:O=>m(O.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),b.jsxs("div",{className:"space-y-2",children:[c&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading sent messages..."})]}),!c&&k.map(O=>b.jsx("div",{onClick:()=>y(O.id),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md ${s===O.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx(qg,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${s===O.id?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h4",{className:`font-medium truncate ${s===O.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"}`,children:O.title}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:["To: ",O.recipient]}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:[O.content.substring(0,60),"..."]}),b.jsxs("div",{className:"flex items-center justify-between mt-2",children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-400 dark:text-gray-500",children:[b.jsx(nc,{className:"w-3 h-3 mr-1"}),b.jsxs("span",{children:["Sent ",g(O.sentAt)]})]}),b.jsxs("div",{className:"flex items-center text-xs",children:[p(O.status),b.jsx("span",{className:"ml-1 text-gray-500 dark:text-gray-400",children:w(O.status)})]})]})]})]})},O.id))]})]}),!c&&k.length===0&&f&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx(er,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No sent messages found"}),b.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Try adjusting your search terms"})]}),!c&&k.length===0&&!f&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx(qg,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No sent messages yet"}),b.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Messages you send will appear here"})]})]})}function mw({content:d,className:i=""}){const{grammarSuggestions:l,isCheckingGrammar:s,clearGrammarSuggestions:o,applySuggestion:c,setHoveredSuggestion:f}=ht();G.useEffect(()=>{},[d,o]);const m=g=>{switch(g){case"grammar":return b.jsx(Lg,{className:"w-4 h-4 text-red-500"});case"spelling":return b.jsx(Lg,{className:"w-4 h-4 text-yellow-500"});case"clarity":return b.jsx(kb,{className:"w-4 h-4 text-blue-500"});default:return b.jsx(db,{className:"w-4 h-4 text-gray-500"})}},y=g=>{switch(g){case"grammar":return"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20";case"spelling":return"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20";case"clarity":return"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20";default:return"border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800"}};return b.jsxs("div",{className:`grammar-sidebar h-full flex flex-col ${i}`,children:[b.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 mb-4 flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(ac,{className:"w-5 h-5 text-green-500"}),b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Suggestions"})]}),l.length>0&&b.jsx("button",{onClick:o,className:"text-xs text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white transition-colors",children:b.jsx($b,{className:"w-4 h-4"})})]}),s&&b.jsxs("div",{className:"flex items-center space-x-2 mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),b.jsx("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Analyzing clarity and tone..."})]}),b.jsx("div",{className:"space-y-3 overflow-y-auto flex-1",children:l.length===0&&!s?b.jsxs("div",{className:"text-center py-8",children:[b.jsx(ac,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),b.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"No suggestions yet"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Suggestions will appear here as you type."})]}):l.map(g=>b.jsx("div",{className:`p-3 rounded-lg border ${y(g.type)} transition-all duration-200 hover:shadow-sm cursor-pointer`,onMouseEnter:()=>f(g.id),onMouseLeave:()=>f(null),children:b.jsxs("div",{className:"flex items-start space-x-2",children:[m(g.type),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"flex items-center space-x-2 mb-1",children:b.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:g.type})}),b.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:g.explanation}),b.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:["Suggested: ",b.jsx("strong",{className:"font-semibold",children:g.suggestion})]}),g.original&&b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:['Original: "',g.original,'"']}),g.original!==g.suggestion&&b.jsx("button",{onClick:()=>c(g.id),className:"mt-3 w-full text-left px-3 py-1.5 text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-md transition-all",children:"Apply Suggestion"})]})]})},g.id))})]})}function yw({sidebar:d,editor:i,rightSidebar:l,user:s,onLogout:o,_editorContent:c="",className:f=""}){return b.jsx("div",{className:`app-layout flex flex-col h-screen bg-gray-50 dark:bg-gray-900 ${f}`,children:b.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[b.jsxs("aside",{className:"flex-shrink-0 w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 overflow-y-auto shadow-sm flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"WordWise"}),s&&b.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Welcome, ",s.email]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:d}),o&&b.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700",children:b.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",children:[b.jsx(Tb,{className:"w-4 h-4"}),b.jsx("span",{children:"Logout"})]})})]}),b.jsx("main",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-900",children:b.jsx("div",{className:"flex-1 overflow-y-auto",children:i})}),l&&b.jsx("aside",{className:"flex-shrink-0 w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto shadow-sm",children:b.jsx("div",{className:"p-6",children:l})})]})})}const vw=({email:d,onRemove:i})=>b.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-800/50 text-blue-800 dark:text-blue-200 rounded-full px-3 py-1 text-sm font-medium mr-2 my-1",children:[b.jsx("span",{children:d}),b.jsx("button",{type:"button",onClick:i,className:"ml-2 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100 focus:outline-none","aria-label":`Remove ${d}`,children:""})]}),Qu=({emails:d,onChange:i,validateEmail:l,onInputValueChange:s,placeholder:o="Enter email addresses..."})=>{const[c,f]=G.useState(""),[m,y]=G.useState(null),g=G.useRef(null),p=q=>{if(!q.trim())return;const V=q.split(/[\s,;]+/).filter(Boolean),J=[],N=[];V.forEach($=>{const K=$.trim();l(K).isValid&&!d.includes(K)&&!J.includes(K)?J.push(K):N.push(K)}),J.length>0&&i([...d,...J]);const M=N.join(" ");f(M),s==null||s(M),N.length>0?(y(`Invalid or duplicate: ${N.join(", ")}`),setTimeout(()=>y(null),3e3)):y(null)},w=q=>{[" ","Enter",","].includes(q.key)?(q.preventDefault(),p(c)):q.key==="Backspace"&&!c&&d.length>0&&(q.preventDefault(),i(d.slice(0,-1)))},k=q=>{q.preventDefault();const V=q.clipboardData.getData("text");p(V)},O=()=>{p(c)},H=q=>{const{value:V}=q.target;f(V),s==null||s(V),m&&y(null)},X=q=>{i(d.filter((V,J)=>J!==q))};return b.jsxs("div",{className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white flex flex-wrap items-center ${m?"border-red-500":""}`,onClick:()=>{var q;return(q=g.current)==null?void 0:q.focus()},children:[d.map((q,V)=>b.jsx(vw,{email:q,onRemove:()=>X(V)},V)),b.jsx("input",{ref:g,type:"email",value:c,onChange:H,onKeyDown:w,onPaste:k,onBlur:O,placeholder:d.length===0?o:"",className:"flex-1 bg-transparent outline-none min-w-[150px] h-8"}),m&&b.jsx("p",{className:"text-red-500 text-xs w-full mt-1",children:m})]})};function pw(){const{user:d,loading:i}=E0(),l=G.useMemo(()=>d?{email:d.email||""}:null,[d]),[s,o]=G.useState(!1),[c,f]=G.useState(""),[m,y]=G.useState("Untitled document"),[g,p]=G.useState("drafts"),[w,k]=G.useState(!1),[O,H]=G.useState(!1),[X,q]=G.useState([]),[V,J]=G.useState([]),[N,M]=G.useState([]),[$,K]=G.useState(""),[re,Ge]=G.useState(""),[Ye,Bt]=G.useState(""),[Fe,Te]=G.useState(""),[et,ot]=G.useState(!1),[Re,C]=G.useState(!1),[Q,W]=G.useState(""),ue=G.useRef(null),x=G.useRef(null),{activeDraftId:D,activeSentId:Z,setActiveDraft:Y,setActiveSent:F,getDraftById:ie,getSentById:L,saveDraft:pe,updateDraft:de,createNewDraft:it,deleteDraft:Wt,sendDraft:va,loadDrafts:pa,loadSentMessages:bn,clearUserData:xi}=ht(),At=D?ie(D):null;G.useEffect(()=>{At?(f(At.content),y(At.title)):(f(""),y("Untitled document"))},[At]);const Ht=G.useCallback(I=>{const oe=I.trim();if(!oe)return{isValid:!1,error:"Email address is required"};if(oe.length>254)return{isValid:!1,error:"Email address is too long (maximum 254 characters)"};if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(oe))return{isValid:!1,error:"Please enter a valid email address format"};const[Me,...Ne]=oe.split("@"),wt=Ne.join("@");if(!Me||Me.length>64)return{isValid:!1,error:"Email local part is invalid or too long (maximum 64 characters)"};if(Me.includes(".."))return{isValid:!1,error:"Email address cannot contain consecutive dots"};if(Me.startsWith(".")||Me.endsWith("."))return{isValid:!1,error:"Email address cannot start or end with a dot"};if(!wt||wt.length>253)return{isValid:!1,error:"Email domain is invalid or too long"};const Si=wt.split(".");if(Si.length<2)return{isValid:!1,error:"Email domain must contain at least one dot"};for(const Ia of Si){if(!Ia||Ia.length>63)return{isValid:!1,error:"Email domain label is invalid or too long"};if(Ia.startsWith("-")||Ia.endsWith("-"))return{isValid:!1,error:"Email domain labels cannot start or end with hyphens"};if(!/^[a-zA-Z0-9-]+$/.test(Ia))return{isValid:!1,error:"Email domain contains invalid characters"}}const ba={"gmai.com":"gmail.com","gmial.com":"gmail.com","gmail.co":"gmail.com","outlok.com":"outlook.com","outloo.com":"outlook.com","hotmial.com":"hotmail.com","hotmai.com":"hotmail.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com"}[wt.toLowerCase()];return ba?{isValid:!1,error:`Did you mean ${Me}@${ba}?`}:{isValid:!0}},[]);G.useCallback((I,oe)=>{if(!I.trim())return{isValid:!0};const xe=I.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne.length>0);if(xe.length===0)return{isValid:!0};if(new Set(xe.map(Ne=>Ne.toLowerCase())).size!==xe.length)return{isValid:!1,error:`Duplicate email addresses found in ${oe} field`};for(const Ne of xe){const wt=Ht(Ne);if(!wt.isValid)return{isValid:!1,error:`Invalid ${oe} email "${Ne}": ${wt.error}`}}return{isValid:!0}},[Ht]);const Ot=G.useMemo(()=>{if(X.length===0||$.trim()||et&&re.trim()||Re&&Ye.trim())return!1;for(const xe of X)if(!Ht(xe).isValid)return!1;for(const xe of V)if(!Ht(xe).isValid)return!1;for(const xe of N)if(!Ht(xe).isValid)return!1;const I=[...X,...V,...N].map(xe=>xe.toLowerCase());return new Set(I).size===I.length},[X,V,N,Ht,$,re,Ye,et,Re]),wn=G.useCallback(async(I=!0)=>{if(D){const oe=ie(D);if(oe){if((m==="Untitled document"||m.trim()==="")&&c.trim()===""&&I)console.log("Deleting empty draft:",D,oe.isLocal?"(local)":"(persisted)"),await Wt(D);else if(w||oe.isLocal)if(oe.isLocal){console.log("Persisting local draft with content:",D);try{await pe(m,c,D),k(!1)}catch(Me){console.error("Failed to persist local draft:",Me)}}else console.log("Auto-saving persisted draft with changes:",D),await de(D,m,c),k(!1)}}},[D,ie,m,c,w,Wt,de,pe]),Za=G.useCallback(async()=>{try{if(D&&ie(D)&&(m==="Untitled document"||m.trim()==="")&&c.trim()===""&&!w){console.log("Current draft is already blank and unedited, not creating new draft");return}D&&w&&await wn(!1);const I=it();y("Untitled document"),f(""),Y(I),F(""),k(!1)}catch(I){console.error("Error creating draft:",I)}},[D,w,ie,m,c,wn,it,Y,F]);G.useEffect(()=>{i||l&&x.current!==l.email&&(console.log("User logged in, loading data for:",l.email),x.current=l.email,(async()=>{try{console.log("Step 1: Loading drafts only..."),await pa(),console.log("Step 1: Drafts loaded successfully"),console.log("Step 2: Loading sent messages only..."),await bn(),console.log("Step 2: Sent messages loaded successfully"),console.log("All data loaded successfully"),D||(console.log("No active draft, creating new local draft for fresh login..."),Za())}catch(oe){console.error("Error loading user data:",oe),D||(console.log("Creating new local draft despite data loading error..."),Za())}})())},[l,i,D,Za,pa,bn]),G.useEffect(()=>{const I=async oe=>{if(w&&At)try{await pe(At.title,At.content,At.id)}catch(xe){console.error("Failed to save draft on page unload:",xe)}};return window.addEventListener("beforeunload",I),()=>window.removeEventListener("beforeunload",I)},[w,At,pe]);const Rl=async()=>{try{const{error:I}=await Fs.signOut();I&&console.error("Error signing out:",I),f(""),y("Untitled document"),p("drafts"),k(!1),Y(""),F(""),xi(),x.current=null}catch(I){console.error("Logout error:",I)}},Ka=async I=>{p(I)},ar=async I=>{if(I===D)return;await wn(!0);const oe=ie(I);oe&&(y(oe.title),f(oe.content),Y(I),F(""),k(!1))},Dl=async I=>{if(I===Z)return;await wn(!0);const oe=L(I);oe&&(y(oe.title),f(oe.content),F(I),Y(""),k(!1))},nr=async I=>{try{await Wt(I),D===I&&(y("Untitled document"),f(""),Y(""),k(!1))}catch(oe){console.error("Error deleting draft:",oe)}},Cl=G.useCallback(async()=>{if(D&&w)try{await de(D,m,c),k(!1)}catch(I){console.error("Error auto-saving draft:",I)}},[D,w,m,c,de]);G.useEffect(()=>(w&&D&&(ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{Cl()},2e3)),()=>{ue.current&&clearTimeout(ue.current)}),[Cl,w,D]);const Ja=I=>{f(I),k(!0)},ut=I=>{y(I),k(!0)},Qt=async(I,oe,xe,Me)=>{if(!(!At||!D))try{o(!0);const Ne=ie(D);Ne&&Me&&Me!==Ne.title&&await de(D,Me,Ne.content),await va(D,I,oe,xe),y("Untitled document"),f(""),Y(""),k(!1),H(!1),q([]),J([]),M([]),Te("")}catch(Ne){throw console.error("Error sending draft:",Ne),Ne}finally{o(!1)}},ct=()=>{if(!D||!c.trim()){console.log("No content to send");return}Te(m==="Untitled document"?"":m),ot(!1),C(!1),q([]),J([]),M([]),W(""),H(!0)},ir=async()=>{if(!Fe.trim()){console.log("Please enter an email subject"),W("Please enter an email subject");return}W(""),await Qt(X.join(","),V.join(",")||void 0,N.join(",")||void 0,Fe.trim())},lr=async()=>{try{const I=await pe(m,c,D||void 0);D||Y(I),k(!1)}catch(I){console.error("Error saving draft:",I)}},sr=()=>{console.log("Authentication successful")},_n=async()=>{console.log("=== TESTING DATA LOADING ===");try{console.log("1. Testing authentication...");const{data:{user:I},error:oe}=await Ce.auth.getUser();if(oe||!I){console.error("Auth error:",oe);return}console.log(" User authenticated:",I.email),console.log("2. Testing drafts loading...");const{data:xe,error:Me}=await Ce.from("drafts").select("*").limit(1);Me?console.error(" Drafts error:",Me):console.log(" Drafts query successful, found:",(xe==null?void 0:xe.length)||0,"items"),console.log("3. Testing sent messages loading...");const{data:Ne,error:wt}=await Ce.from("sent_messages").select("*").limit(1);wt?console.error(" Sent messages error:",wt):console.log(" Sent messages query successful, found:",(Ne==null?void 0:Ne.length)||0,"items")}catch(I){console.error(" Test failed:",I)}};return typeof window<"u"&&(window.testDataLoading=_n),i?b.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):l?b.jsxs(b.Fragment,{children:[b.jsx(yw,{user:l,onLogout:Rl,sidebar:b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"p-6 pb-4",children:b.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>Ka("drafts"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors duration-200 ${g==="drafts"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Drafts"}),b.jsx("button",{onClick:()=>Ka("sent"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors duration-200 ${g==="sent"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sent"})]})}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:g==="drafts"?b.jsx(hw,{onDraftSelect:ar,onNewDraft:Za,onDraftDelete:nr}):b.jsx(gw,{onSentSelect:Dl})})]}),editor:b.jsx(fw,{text:c,title:m,onChange:Ja,onTitleChange:ut,onSave:lr,onSendEmail:ct,readOnly:!!Z,metaInfo:Z?(()=>{const I=L(Z);return I?{type:"email",subject:I.title,recipients:I.recipient,ccRecipients:I.ccRecipients,bccRecipients:I.bccRecipients,sentAt:I.sentAt,status:I.status}:null})():null}),rightSidebar:b.jsx(mw,{content:c})}),O&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[b.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Send Via Email"})}),b.jsxs("div",{className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsxs("label",{htmlFor:"email-subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Subject ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{id:"email-subject",type:"text",value:Fe,onChange:I=>{Te(I.target.value),Q&&W("")},placeholder:"Enter email subject...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("label",{htmlFor:"email-recipient",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["To ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[!et&&b.jsx("button",{type:"button",onClick:()=>ot(!0),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200",children:"CC"}),!Re&&b.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200",children:"BCC"})]})]}),b.jsx(Qu,{emails:X,onChange:q,validateEmail:Ht,onInputValueChange:K,placeholder:"Enter recipient email(s)..."})]}),et&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{htmlFor:"cc-emails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"CC"}),b.jsx("button",{type:"button",onClick:()=>{ot(!1),J([])},className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200",children:"Remove"})]}),b.jsx(Qu,{emails:V,onChange:J,validateEmail:Ht,onInputValueChange:Ge,placeholder:"Enter CC emails..."})]}),Re&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{htmlFor:"bcc-emails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"BCC"}),b.jsx("button",{type:"button",onClick:()=>{C(!1),M([])},className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200",children:"Remove"})]}),b.jsx(Qu,{emails:N,onChange:M,validateEmail:Ht,onInputValueChange:Bt,placeholder:"Enter BCC emails..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Body"}),b.jsx("div",{className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-sm min-h-[80px] max-h-[120px] overflow-y-auto",children:c||"No content"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"To edit the body content, use the main editor above"})]}),Q&&b.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),b.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:Q})]})})]}),b.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[b.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[b.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("button",{onClick:()=>{H(!1),q([]),J([]),M([]),Te(""),ot(!1),C(!1)},disabled:s,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 disabled:opacity-50",children:"Cancel"}),b.jsx("button",{onClick:ir,disabled:s||!Fe.trim()||!Ot,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200 disabled:cursor-not-allowed flex items-center",children:s?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"Send Email"})]})]})]})})]}):b.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"WordWise"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your intelligent writing companion"})]}),b.jsx(ib,{onSuccess:sr})]})})}Iy.createRoot(document.getElementById("root")).render(b.jsx(G.StrictMode,{children:b.jsx(pw,{})}));
